var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},__awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{h(i.next(t))}catch(e){r(e)}}function a(t){try{h(i["throw"](t))}catch(e){r(e)}}function h(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}h((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;h;)try{if(o=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return h.label++,{value:n[1],done:!1};case 5:h.label++,r=n[1],n=[0];continue;case 7:n=h.ops.pop(),h.trys.pop();continue;default:if(s=h.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){h=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){h.label=n[1];break}if(6===n[0]&&h.label<s[1]){h.label=s[1],s=n;break}if(s&&h.label<s[2]){h.label=s[2],h.ops.push(n);break}s[2]&&h.ops.pop(),h.trys.pop();continue}n=e.call(t,h)}catch(i){n=[6,i],r=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,s,a,h={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},Module=function(t){function e(){var e=t.call(this)||this;return e.isDisposed=!1,e}return __extends(e,t),Object.defineProperty(e.prototype,"moduleId",{get:function(){return null!=ModuleInfoVo?this.moduleInfoVo.moduleId:0},enumerable:!0,configurable:!0}),e.prototype.initContent=function(){},e.prototype.initContentAll=function(){this.initContent(),this.init()},e.prototype.init=function(){},e.prototype.addChildDisplayObj=function(t){this.content&&this.content.displayObject&&this.content.displayObject instanceof egret.DisplayObjectContainer?this.content.displayObject.addChild(t):egret.error(this+".content不存在，添加displayObj失败")},e.prototype.initAutoSize=function(t,e){this.content&&e&&(this.content.setSize(t.width,t.height),this.content.addRelation(t,fairygui.RelationType.Size))},e.prototype.moduleServerStart=function(t){this.moduleServerCpl()},e.prototype.moduleServerCpl=function(){this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_SERVER_CPL))},e.prototype.preShow=function(t){this.preShowCpl()},e.prototype.preShowCpl=function(){this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_PRE_SHOW_CPL))},e.prototype.show=function(t){},e.prototype.preClose=function(t){this.preCloseCpl()},e.prototype.preCloseCpl=function(){this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_PRE_CLOSE_CPL))},e.prototype.hide=function(){this.content.parent&&this.content.parent.removeChild(this.content)},e.prototype.releaseContent=function(){},e.prototype.release=function(){0==this.isDisposed&&(this.hide(),this.releaseContent(),this.isDisposed=!0)},e.prototype.getHistoryData=function(){return null},e.prototype.moduleFadeIn=function(t){this.moduleFadeInCpl()},e.prototype.moduleFadeInCpl=function(){this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_FADE_IN_CPL))},e.prototype.moduleFadeOut=function(){this.moduleFadeOutCpl()},e.prototype.moduleFadeOutCpl=function(){this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_FADE_OUT_CPL))},e.prototype.setVisible=function(t){this.content.visible=t},e}(egret.EventDispatcher);__reflect(Module.prototype,"Module");var UILayer=function(t){function e(){var e=t.call(this)||this;return e.p_moduleList=new Array,e.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),e.addRelation(fairygui.GRoot.inst,fairygui.RelationType.Size),e.touchable=!0,e}return __extends(e,t),e.prototype.getCurModuleInfo=function(){return this.p_moduleList.length>0?this.p_moduleList[this.p_moduleList.length-1]:null},e.prototype.getCurModuleId=function(){var t=this.getCurModuleInfo();return t?t.moduleId:0},e.prototype.showModule=function(t,e,n){var i=this.getModuleInfoVo(t);if(null==i){var o=ModuleMgr.ins.getConfigVo(t);if(null==o)return;i=new ModuleInfoVo(o),this.p_moduleList.push(i),i.layer=this,i.preShowData=e,i.changeModuleState(ModuleConsts.STATE_SHOW),i.addEventListener(ModuleConsts.MODULE_ADD_TO_STAGE,this.onModuleAddToStage,this)}else i.changeModuleState(ModuleConsts.STATE_SHOW),i.module.content.parent?i.addEventListener(ModuleConsts.MODULE_ADD_TO_STAGE,this.onModuleAddToStage,this):this.onModuleAddToStage(null);return i},e.prototype.onModuleAddToStage=function(t){},e.prototype.isShow=function(t){var e=this.getModuleInfoVo(t);return e?e.isShow:!1},e.prototype.closeModule=function(t,e){var n=this.getModuleInfoVo(t);null!=n&&this.closeModuleByInfo(n,e)},e.prototype.closeModuleByInfo=function(t,e){t.isShow&&(t.addEventListener(ModuleConsts.MODULE_CLOSE_CPL,this.onCloseCpl,this),t.preShowData=e,t.changeModuleState(ModuleConsts.STATE_CLOSE))},e.prototype.onCloseCpl=function(t){var e=t.currentTarget;if(e.removeEventListener(ModuleConsts.MODULE_CLOSE_CPL,this.onCloseCpl,this),e.configVo.disposeWhenClose){var n=this.p_moduleList.lastIndexOf(e);n>=0&&this.p_moduleList.splice(n,1),e.release()}},e.prototype.getModuleInfoVo=function(t){for(var e=this.p_moduleList.length-1;e>=0;e--)if(this.p_moduleList[e].moduleId==t)return this.p_moduleList[e];return null},e.prototype.closeAll=function(t){for(var e=this.p_moduleList.length-1;e>=0;e--){var n=this.p_moduleList[e];t&&t.indexOf(n.moduleId)>=0||this.closeModuleByInfo(n)}},e}(fairygui.GComponent);__reflect(UILayer.prototype,"UILayer");var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","ChatItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_name=this.getChildAt(1),this.m_txt_time=this.getChildAt(2),this.m_txt_content=this.getChildAt(3)},e.URL="ui://jow5n9bqx90y38",e}(fairygui.GComponent);t.UI_ChatItem=e,__reflect(e.prototype,"UI.Game.UI_ChatItem")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var core;!function(t){var e=function(){function t(t,e){this.callback=t,this.thisObj=e}return t}();t.Callback=e,__reflect(e.prototype,"core.Callback")}(core||(core={}));var Dictionary=function(){function t(){this.m_keys=[],this.m_values=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.m_keys.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this.m_values.concat()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keys",{get:function(){return this.m_keys.concat()},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.m_keys.indexOf(t)},t.prototype.add=function(t,e){var n=this.indexOf(t);n>=0?this.m_values[n]=e:(this.m_keys.push(t),this.m_values.push(e))},t.prototype.get=function(t){var e=this.indexOf(t);return e>=0?this.m_values[e]:null},t.prototype.remove=function(t){var e=this.indexOf(t);return e>=0?(this.m_keys.splice(e,1),this.m_values.splice(e,1)[0]):null},t.prototype.clear=function(){this.m_keys.length=0,this.m_values.length=0},t.prototype.getRandomData=function(){var t=Math.random()*this.keys.length<<0;return this.m_values[t]},t}();__reflect(Dictionary.prototype,"Dictionary");var core;!function(t){var e=function(t){function e(e,n){var i=t.call(this)||this;return i.messageID=e,i.messageData=n,i}return __extends(e,t),e}(egret.HashObject);t.EventData=e,__reflect(e.prototype,"core.EventData",["core.IMessage"])}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t}();t.Progress=e,__reflect(e.prototype,"core.Progress")}(core||(core={}));var ws;!function(t){var e=function(){function t(){this._msgBuffer=new egret.ByteArray}return t.prototype.receive=function(t){t.readBytes(this._msgBuffer);var e=this.decode(this._msgBuffer);e&&App.MessageCenter.dispatch(e.key,e.body),0==this._msgBuffer.bytesAvailable&&this._msgBuffer.clear()},t.prototype.send=function(t,e){var n=this.encode(e);n&&(n.position=0,t.writeBytes(n,0,n.bytesAvailable))},t.prototype.decode=function(t){return Log.trace("decode需要子类重写，根据项目的协议结构解析"),null},t.prototype.encode=function(t){return Log.trace("encode需要子类重写，根据项目的协议结构解析"),null},t}();t.ByteArrayMsg=e,__reflect(e.prototype,"ws.ByteArrayMsg",["ws.BaseMsg"])}(ws||(ws={}));var ws;!function(t){var e=function(){function t(){this._ba=new egret.ByteArray}return t.prototype.receive=function(t){this._ba.clear(),t.readBytes(this._ba);var e=this._ba.readUTFBytes(this._ba.length);e.indexOf("_Heart")<0&&console.log("recv"+e),this.decode(e)},t.prototype.send=function(t,e){if(t.connected){var n=this.encode(e);t.writeUTF(n),t.flush()}else console.log("socket 未连接"),game.AlertUtil.floatMsg("网络连接已经断开，请刷新重新进入游戏")},t.prototype.decode=function(t){return Log.trace("decode需要子类重写，根据项目的协议结构解析"),null},t.prototype.encode=function(t){return Log.trace("encode需要子类重写，根据项目的协议结构解析"),null},t}();t.UTFMsg=e,__reflect(e.prototype,"ws.UTFMsg",["ws.BaseMsg"])}(ws||(ws={}));var proto;!function(t){var e=function(){function t(t){this.protobuf_className="",this.protobuf_className=t}return t}();t.BaseProtoBuf=e,__reflect(e.prototype,"proto.BaseProtoBuf")}(proto||(proto={}));var C2T_Base=function(){function t(){}return t}();__reflect(C2T_Base.prototype,"C2T_Base");var T2C_Base=function(){function t(){}return t.prototype.execute=function(t){this.Aid=t.Aid,this.Err=t.Err},t}();__reflect(T2C_Base.prototype,"T2C_Base");var T2C_Message_Base=function(){function t(){}return t.prototype.execute=function(t){for(var e in t)null!=this.hasOwnProperty(e)&&(this[e]=t[e])},t}();__reflect(T2C_Message_Base.prototype,"T2C_Message_Base");var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ZhanJi","ZhanJiItemUserItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_name=this.getChildAt(0),this.m_txt_score=this.getChildAt(1),this.m_img_win=this.getChildAt(2)},e.URL="ui://lxifvkdumqtaj",e}(fairygui.GComponent);t.UI_ZhanJiItemUserItem=e,__reflect(e.prototype,"UI.ZhanJi.UI_ZhanJiItemUserItem")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var PopModuleView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){this.moduleFadeInType=ModuleConsts.MODULE_FADE_IN_TYPE_1,this.moduleFadeOutType=ModuleConsts.MODULE_FADE_OUT_TYPE_0},e.prototype.preShowCpl=function(){this.content.m_panelBg&&this.content.m_panelBg.m_btn_close&&this.content.m_panelBg.m_btn_close.addClickListener(this.onCloseClick,this),t.prototype.preShowCpl.call(this)},e.prototype.initAutoSize=function(t,e){this.content&&e&&(this.content.x=t.width/2-this.content.width/2,this.content.y=t.height/2-this.content.height/2,this.content.addRelation(t,fairygui.RelationType.Center_Center))},e.prototype.moduleFadeIn=function(t){switch(this.moduleFadeInType){case ModuleConsts.MODULE_FADE_IN_TYPE_1:var n=new core.Vector2D(this.content.x,this.content.y),i=.5;this.content.x=this.content.x+this.content.width/2*i,this.content.y=this.content.y+this.content.height/2*i,this.content.scaleX=this.content.scaleY=i,this.content.alpha=0;var o=egret.Tween.get(this.content);o.to({x:n.x,y:n.y,scaleX:1,scaleY:1,alpha:1},e.TWEEN_DURATION,egret.Ease.quintOut),o.call(this.moduleFadeInCpl,this);break;case ModuleConsts.MODULE_FADE_IN_TYPE_2:var n=new core.Vector2D(this.content.x,this.content.y);this.content.y=LayerCenter.stageHeight/2+50,this.content.alpha=0,o=egret.Tween.get(this.content),o.to({y:n.y,alpha:1},e.TWEEN_DURATION,egret.Ease.quintOut),o.call(this.moduleFadeInCpl,this);break;default:this.moduleFadeInCpl()}},e.prototype.moduleFadeInCpl=function(){t.prototype.moduleFadeInCpl.call(this)},e.prototype.moduleFadeOut=function(){switch(this.moduleFadeOutType){case ModuleConsts.MODULE_FADE_OUT_TYPE_1:var t=.5,n=this.content.x+this.content.width/2*t,i=this.content.y+this.content.height/2*t,o=egret.Tween.get(this.content);o.to({x:n,y:i,scaleX:t,scaleY:t,alpha:.5},e.TWEEN_DURATION,egret.Ease.quintIn),o.call(this.moduleFadeOutCpl,this);break;case ModuleConsts.MODULE_FADE_OUT_TYPE_2:i=LayerCenter.stageHeight/2+50,o=egret.Tween.get(this.content),o.to({y:i,alpha:0},e.TWEEN_DURATION,egret.Ease.quintIn),o.call(this.moduleFadeOutCpl,this);break;default:this.moduleFadeOutCpl()}},e.prototype.moduleFadeOutCpl=function(){t.prototype.moduleFadeOutCpl.call(this)},e.prototype.onCloseClick=function(){ModuleMgr.ins.closeModule(this.moduleId)},e.TWEEN_DURATION=200,e}(Module);__reflect(PopModuleView.prototype,"PopModuleView");var core;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.removeFromParent=function(){this.parent&&this.parent.removeChild(this)},e}(egret.DisplayObjectContainer);t.Component=e,__reflect(e.prototype,"core.Component",["core.IComponent"])}(core||(core={}));var UIModuleLayer=function(t){function e(){var e=t.call(this)||this;return e.p_historyList=new Array,e}return __extends(e,t),e.prototype.showModule=function(e,n,i){var o=this.getCurModuleInfo();return null!=o&&(this.addHistory(o.moduleId,o.preShowData,o.getHistoryData()),this.closeModuleByInfo(o,null)),t.prototype.showModule.call(this,e,n,i)},e.prototype.closeModule=function(t,e){var n=this.getCurModuleId(),i=this.getModuleInfoVo(t);if(null!=i&&this.closeModuleByInfo(i,e),t==n&&this.p_historyList.length>0){var o=this.p_historyList.pop();this.showModule(o.moduleId,o.historyData?o.historyData:o.data)}},e.prototype.closeModuleByInfo=function(e,n){t.prototype.closeModuleByInfo.call(this,e,n)},e.prototype.addHistory=function(t,e,n){},e}(UILayer);__reflect(UIModuleLayer.prototype,"UIModuleLayer");var core;!function(t){var e=function(){function t(){}return t.getInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this;if(!n._instance){var i=t.length;0==i?n._instance=new n:1==i?n._instance=new n(t[0]):2==i?n._instance=new n(t[0],t[1]):3==i?n._instance=new n(t[0],t[1],t[2]):4==i?n._instance=new n(t[0],t[1],t[2],t[3]):5==i&&(n._instance=new n(t[0],t[1],t[2],t[3],t[4]))}return n._instance},t}();t.BaseClass=e,__reflect(e.prototype,"core.BaseClass")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","ChatYuSheItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_content=this.getChildAt(2)},e.URL="ui://jow5n9bq56g77h",e}(fairygui.GComponent);t.UI_ChatYuSheItem=e,__reflect(e.prototype,"UI.Game.UI_ChatYuSheItem")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","DissolveHead")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_top=this.getChildAt(2),this.m_txt_name=this.getChildAt(3),this.m_txt_score=this.getChildAt(5),this.m_head=this.getChildAt(6)},e.URL="ui://jow5n9bqgl8o4i",e}(fairygui.GComponent);t.UI_DissolveHead=e,__reflect(e.prototype,"UI.Game.UI_DissolveHead")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","EmojiItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_img=this.getChildAt(0)},e.URL="ui://jow5n9bqt3zq77",e}(fairygui.GComponent);t.UI_EmojiItem=e,__reflect(e.prototype,"UI.Game.UI_EmojiItem")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","PlayerHead")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_ctrlPos=this.getControllerAt(0),this.m_ctrlState=this.getControllerAt(1),this.m_name=this.getChildAt(1),this.m_score=this.getChildAt(3),this.m_pokers=this.getChildAt(4),this.m_head=this.getChildAt(5),this.m_img_ready=this.getChildAt(6),this.m_img_finish=this.getChildAt(8),this.m_lixian=this.getChildAt(9),this.m_img_special=this.getChildAt(10),this.m_img_fz=this.getChildAt(11),this.m_chat_txt=this.getChildAt(14),this.m_chat_txt_emoji=this.getChildAt(15),this.m_chat=this.getChildAt(16),this.m_flower=this.getChildAt(17),this.m_boom1=this.getChildAt(18),this.m_boom2=this.getChildAt(19),this.m_t0=this.getTransitionAt(0),this.m_t1=this.getTransitionAt(1)},e.URL="ui://jow5n9bqmwp42",e}(fairygui.GComponent);t.UI_PlayerHead=e,__reflect(e.prototype,"UI.Game.UI_PlayerHead")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","PlayerPokers")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getControllerAt(0),this.m_c2=this.getControllerAt(1),this.m_pork0=this.getChildAt(0),this.m_pork1=this.getChildAt(1),this.m_pork2=this.getChildAt(2),this.m_pork3=this.getChildAt(3),this.m_pork4=this.getChildAt(4),this.m_pork5=this.getChildAt(5),this.m_pork6=this.getChildAt(6),this.m_pork7=this.getChildAt(7),this.m_pork8=this.getChildAt(8),this.m_pork9=this.getChildAt(9),this.m_pork10=this.getChildAt(10),this.m_pork11=this.getChildAt(11),this.m_pork12=this.getChildAt(12),this.m_qiangyan=this.getChildAt(16),this.m_porka1=this.getChildAt(17),this.m_porka2=this.getChildAt(18),this.m_porka3=this.getChildAt(19),this.m_porka4=this.getChildAt(20),this.m_porka5=this.getChildAt(21),this.m_img_type=this.getChildAt(22),this.m_porka=this.getChildAt(23),this.m_txt_scoretop=this.getChildAt(24),this.m_txt_score_mid=this.getChildAt(25),this.m_txt_score_down=this.getChildAt(26),this.m_imt_teshu=this.getChildAt(27),this.m_txt_score_result=this.getChildAt(28),this.m_t0=this.getTransitionAt(0),this.m_t1=this.getTransitionAt(1)},e.URL="ui://jow5n9bqdu502u",e}(fairygui.GComponent);t.UI_PlayerPokers=e,__reflect(e.prototype,"UI.Game.UI_PlayerPokers")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","Pork")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_ctrlstate=this.getControllerAt(0),this.m_txt1=this.getChildAt(2),this.m_txt2=this.getChildAt(3),this.m_txt_type1=this.getChildAt(4),this.m_txt_type2=this.getChildAt(5),this.m_img_joke=this.getChildAt(7),this.m_img_ma=this.getChildAt(8)},e.URL="ui://jow5n9bqmwp41d",e}(fairygui.GComponent);t.UI_Pork=e,__reflect(e.prototype,"UI.Game.UI_Pork")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Mail","MailItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_read=this.getChildAt(1)},e.URL="ui://tebyebzgnl0pz",e}(fairygui.GComponent);t.UI_MailItem=e,__reflect(e.prototype,"UI.Mail.UI_MailItem")}(e=t.Mail||(t.Mail={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("MainUI","HeadImage")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_img=this.getChildAt(0)},e.URL="ui://s4bbeogyvhx330",e}(fairygui.GComponent);t.UI_HeadImage=e,__reflect(e.prototype,"UI.MainUI.UI_HeadImage")}(e=t.MainUI||(t.MainUI={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("MainUI","HeadImage1")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_img=this.getChildAt(0)},e.URL="ui://s4bbeogyvhx331",e}(fairygui.GComponent);t.UI_HeadImage1=e,__reflect(e.prototype,"UI.MainUI.UI_HeadImage1")}(e=t.MainUI||(t.MainUI={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Rank","RankItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getControllerAt(0),this.m_txt_score=this.getChildAt(1),this.m_txt_name=this.getChildAt(2),this.m_txt_rank=this.getChildAt(4),this.m_img_rank=this.getChildAt(5),this.m_head=this.getChildAt(6)},e.URL="ui://ljka2qsxdu50d",e}(fairygui.GComponent);t.UI_RankItem=e,__reflect(e.prototype,"UI.Rank.UI_RankItem")}(e=t.Rank||(t.Rank={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Result","AllResultItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_bg=this.getChildAt(1),this.m_txt_name=this.getChildAt(3),this.m_txt_id=this.getChildAt(4),this.m_txt_ju0=this.getChildAt(5),this.m_txt_ju1=this.getChildAt(6),this.m_txt_ju2=this.getChildAt(7),this.m_txt_ju3=this.getChildAt(8),this.m_txt_ju4=this.getChildAt(9),this.m_head=this.getChildAt(10),this.m_txt_ju5=this.getChildAt(11),this.m_winner=this.getChildAt(14),this.m_txt_score=this.getChildAt(15)},e.URL="ui://25mni52osl2kw",e}(fairygui.GComponent);t.UI_AllResultItem=e,__reflect(e.prototype,"UI.Result.UI_AllResultItem")}(e=t.Result||(t.Result={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Result","SingleResultItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_score=this.getChildAt(1),this.m_txt_name=this.getChildAt(3),this.m_txt_id=this.getChildAt(4),this.m_list_top=this.getChildAt(5),this.m_list_mid=this.getChildAt(6),this.m_list_down=this.getChildAt(7),this.m_head=this.getChildAt(8)},e.URL="ui://25mni52osl2k8",e}(fairygui.GComponent);t.UI_SingleResultItem=e,__reflect(e.prototype,"UI.Result.UI_SingleResultItem")}(e=t.Result||(t.Result={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ShuoMing","ShuoMingTab")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_name=this.getChildAt(2)},e.URL="ui://ksvi7x7crv2q4",e}(fairygui.GButton);t.UI_ShuoMingTab=e,__reflect(e.prototype,"UI.ShuoMing.UI_ShuoMingTab")}(e=t.ShuoMing||(t.ShuoMing={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ZhanJi","JieSanItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_name=this.getChildAt(0),this.m_txt_sort=this.getChildAt(1)},e.URL="ui://lxifvkduq3d5n",e}(fairygui.GComponent);t.UI_JieSanItem=e,__reflect(e.prototype,"UI.ZhanJi.UI_JieSanItem")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ZhanJi","ZhanJiDetailItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_0=this.getChildAt(1),this.m_txt_1=this.getChildAt(2),this.m_txt_2=this.getChildAt(3),this.m_txt_3=this.getChildAt(4),this.m_txt_4=this.getChildAt(5),this.m_txt_5=this.getChildAt(6),this.m_txt_6=this.getChildAt(7)},e.URL="ui://lxifvkdurezhe",e}(fairygui.GComponent);t.UI_ZhanJiDetailItem=e,__reflect(e.prototype,"UI.ZhanJi.UI_ZhanJiDetailItem")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ZhanJi","ZhanJiItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_rid=this.getChildAt(1),this.m_txt_jushu=this.getChildAt(2),this.m_txt_time=this.getChildAt(3),this.m_list=this.getChildAt(4),this.m_btn_check=this.getChildAt(5),this.m_img_result=this.getChildAt(6)},e.URL="ui://lxifvkdup0d62",e}(fairygui.GComponent);t.UI_ZhanJiItem=e,__reflect(e.prototype,"UI.ZhanJi.UI_ZhanJiItem")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(t,e){this.m_txt_name.text=e.uname,this.m_txt_score.text=e.wnum+"/"+e.num,0==t?(this.m_c1.selectedIndex=0,this.m_img_rank.url="ui://ljka2qsxdu504"):1==t?(this.m_c1.selectedIndex=0,this.m_img_rank.url="ui://ljka2qsxdu503"):2==t?(this.m_c1.selectedIndex=0,this.m_img_rank.url="ui://ljka2qsxdu502"):(this.m_c1.selectedIndex=1,this.m_txt_rank.text=(t+1).toString()),this.m_head.setURL(e.header)},e}(UI.Rank.UI_RankItem);t.RankItem=e,__reflect(e.prototype,"game.RankItem")}(game||(game={}));var core;!function(t){var e=function(){function t(){}return t.prototype.delayCall=function(t,e,n){this.func=e,this.thisObj=n,egret.callLater(function(){App.TimerManager.doFrame(t,1,this.listener_enterFrame,this)},this)},t.prototype.listener_enterFrame=function(){this.func.call(this.thisObj)},t}();t.FrameDelay=e,__reflect(e.prototype,"core.FrameDelay")}(core||(core={}));var core;!function(t){var e=function(){function e(e){this.delayFrame=e,this.frameDelay=new t.FrameDelay,this.functions=new Array}return e.prototype.regist=function(t,e){this.functions.push([t,e])},e.prototype.execute=function(){if(this.functions.length){var t=this.functions.shift();t[0].call(t[1]),this.frameDelay.delayCall(this.delayFrame,this.execute,this)}},e}();t.FrameExecutor=e,__reflect(e.prototype,"core.FrameExecutor")}(core||(core={}));var core;!function(t){var e=function(){function t(t,e,n,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),this.once=!1,this._id=0,this.setTo(t,e,n,i)}return t.prototype.setTo=function(e,n,i,o){return this._id=t._gid++,this.caller=e,this.method=n,this.args=i,this.once=o,this},t.prototype.run=function(){if(null==this.method)return null;var t=this._id,e=this.method.apply(this.caller,this.args);return this._id===t&&this.once&&this.recover(),e},t.prototype.runWith=function(t){if(null==this.method)return null;var e,n=this._id;return e=null==t?this.method.apply(this.caller,this.args):this.args||t.unshift?this.args?this.method.apply(this.caller,this.args.concat(t)):this.method.apply(this.caller,t):this.method.call(this.caller,t),this._id===n&&this.once&&this.recover(),e},t.prototype.clear=function(){return this.caller=null,this.method=null,this.args=null,this},t.prototype.recover=function(){this._id>0&&(this._id=0,t._pool.push(this.clear()))},t.create=function(e,n,i,o){return void 0===i&&(i=null),void 0===o&&(o=!0),t._pool.length?t._pool.pop().setTo(e,n,i,o):new t(e,n,i,o)},t._pool=[],t._gid=1,t}();t.Handler=e,__reflect(e.prototype,"core.Handler")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.getPara=function(t,e){if(egret.Capabilities.runtimeType!=egret.RuntimeType.WEB)return null;var n=e||location.href;if(-1!=n.indexOf("?")){var i="&"+n.split("?")[1],o=new RegExp("&"+t+"=.*?(?:&|$)"),r=o.exec(i);if(r){var s=r[0];return s.split("&")[1].split("=")[1]}}return null},t.setProperty=function(t,e,n){var i=n||location.href,o="&"+i.split("?")[1];if(-1==i.indexOf("?"))return i+="?"+t+"="+e;var o=i.split("?")[1];if(""==o)return i+=t+"="+e;var r=new RegExp("(?:^|&)"+t+"=.*?(?:&|$)"),s=r.exec(o);if(s&&""!=s[0]){var a=s[0],h=new RegExp("=.*$"),u=a.replace(h,"="+e);return i.replace(a,u)}return i+="&"+t+"="+e},t.hasProperty=function(t,e){var n=e||location.href,i="&"+n.split("?")[1];return-1!=i.indexOf("&"+t+"=")},t}();t.LocationProperty=e,__reflect(e.prototype,"core.LocationProperty")}(core||(core={}));var Log=function(){function t(){}return t.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];App.DebugUtils.isDebug&&(t[0]="[DebugLog]"+t[0])},t}();__reflect(Log.prototype,"Log");var Long=function(){function t(t,e,n){this.__isLong__={value:!0,enumerable:!1,configurable:!1},this.low=0|t,this.high=0|e,this.unsigned=!!n}return t.prototype.isLong=function(t){return(t&&t.__isLong__)===!0},t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*t.TWO_PWR_32_DBL+(this.low>>>0):this.high*t.TWO_PWR_32_DBL+(this.low>>>0)},t.prototype.toString=function(e){if(e=e||10,2>e||e>36)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(t.MIN_VALUE)){var n=t.fromNumber(e),i=this.div(n),o=i.mul(n).sub(this);return i.toString(e)+o.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=t.fromNumber(t.pow_dbl(e,6),this.unsigned),s=this,a="";;){var h=s.div(r),u=s.sub(h.mul(r)).toInt()>>>0,l=u.toString(e);if(s=h,s.isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},Object.defineProperty(t.prototype,"highBitsUnsigned",{get:function(){return this.high>>>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowBitsUnsigned",{get:function(){return this.low>>>0},enumerable:!0,configurable:!0}),t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,n=31;n>0&&0==(e&1<<n);n--);return 0!=this.high?n+33:n+1},t.prototype.isZero=function(){return 0===this.high&&0===this.low},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isOdd=function(){return 1===(1&this.low)},t.prototype.isEven=function(){return 0===(1&this.low)},t.prototype.eq=function(e){return this.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},t.prototype.neq=function(t){return!this.eq(t)},t.prototype.lt=function(t){return this.compare(t)<0},t.prototype.lte=function(t){return this.compare(t)<=0},t.prototype.gt=function(t){return this.compare(t)>0},t.prototype.gte=function(t){return this.compare(t)>=0},t.prototype.compare=function(e){if(this.isLong(e)||(e=t.fromValue(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},t.prototype.neg=function(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.add=function(e){this.isLong(e)||(e=t.fromValue(e));var n=this.high>>>16,i=65535&this.high,o=this.low>>>16,r=65535&this.low,s=e.high>>>16,a=65535&e.high,h=e.low>>>16,u=65535&e.low,l=0,c=0,d=0,p=0;return p+=r+u,d+=p>>>16,p&=65535,d+=o+h,c+=d>>>16,d&=65535,c+=i+a,l+=c>>>16,c&=65535,l+=n+s,l&=65535,t.fromBits(d<<16|p,l<<16|c,this.unsigned)},t.prototype.sub=function(e){return this.isLong(e)||(e=t.fromValue(e)),this.add(e.neg())
},t.prototype.mul=function(e){if(this.isZero())return t.ZERO;if(this.isLong(e)||(e=t.fromValue(e)),e.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t.TWO_PWR_24)&&e.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,o=this.low>>>16,r=65535&this.low,s=e.high>>>16,a=65535&e.high,h=e.low>>>16,u=65535&e.low,l=0,c=0,d=0,p=0;return p+=r*u,d+=p>>>16,p&=65535,d+=o*u,c+=d>>>16,d&=65535,d+=r*h,c+=d>>>16,d&=65535,c+=i*u,l+=c>>>16,c&=65535,c+=o*h,l+=c>>>16,c&=65535,c+=r*a,l+=c>>>16,c&=65535,l+=n*u+i*h+o*a+r*s,l&=65535,t.fromBits(d<<16|p,l<<16|c,this.unsigned)},t.prototype.div=function(e){if(this.isLong(e)||(e=t.fromValue(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var n,i,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return t.UZERO;if(e.gt(this.shru(1)))return t.UONE;o=t.UZERO}else{if(this.eq(t.MIN_VALUE)){if(e.eq(t.ONE)||e.eq(t.NEG_ONE))return t.MIN_VALUE;if(e.eq(t.MIN_VALUE))return t.ONE;var r=this.shr(1);return n=r.div(e).shl(1),n.eq(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(i=this.sub(e.mul(n)),o=n.add(i.div(e)))}if(e.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=t.ZERO}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),a=48>=s?1:t.pow_dbl(2,s-48),h=t.fromNumber(n),u=h.mul(e);u.isNegative()||u.gt(i);)n-=a,h=t.fromNumber(n,this.unsigned),u=h.mul(e);h.isZero()&&(h=t.ONE),o=o.add(h),i=i.sub(u)}return o},t.prototype.mod=function(e){return this.isLong(e)||(e=t.fromValue(e)),this.sub(this.div(e).mul(e))},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.and=function(e){return this.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.or=function(e){return this.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.xor=function(e){return this.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.shl=function(e){return this.isLong(e)&&(e=e.toInt()),0===(e&=63)?this:32>e?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shr=function(e){return this.isLong(e)&&(e=e.toInt()),0===(e&=63)?this:32>e?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shru=function(e){if(this.isLong(e)&&(e=e.toInt()),e&=63,0===e)return this;var n=this.high;if(32>e){var i=this.low;return t.fromBits(i>>>e|n<<32-e,n>>>e,this.unsigned)}return 32===e?t.fromBits(n,0,this.unsigned):t.fromBits(n>>>e-32,0,this.unsigned)},t.prototype.toSigned=function(){return this.unsigned?t.fromBits(this.low,this.high,!1):this},t.prototype.toUnsigned=function(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)},t.prototype.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},t.prototype.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t.fromInt=function(e,n){var i,o,r;return n?(e>>>=0,(r=e>=0&&256>e)&&(o=t.UINT_CACHE[e])?o:(i=t.fromBits(e,0>(0|e)?-1:0,!0),r&&(t.UINT_CACHE[e]=i),i)):(e|=0,(r=e>=-128&&128>e)&&(o=t.INT_CACHE[e])?o:(i=t.fromBits(e,0>e?-1:0,!1),r&&(t.INT_CACHE[e]=i),i))},t.fromNumber=function(e,n){if(isNaN(e)||!isFinite(e))return n?t.UZERO:t.ZERO;if(n){if(0>e)return t.UZERO;if(e>=t.TWO_PWR_64_DBL)return t.MAX_UNSIGNED_VALUE}else{if(e<=-t.TWO_PWR_63_DBL)return t.MIN_VALUE;if(e+1>=t.TWO_PWR_63_DBL)return t.MAX_VALUE}return 0>e?t.fromNumber(-e,n).neg():t.fromBits(e%t.TWO_PWR_32_DBL|0,e/t.TWO_PWR_32_DBL|0,n)},t.fromBits=function(e,n,i){return new t(e,n,i)},t.fromString=function(e,n,i){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t.ZERO;if("number"==typeof n?(i=n,n=!1):n=!!n,i=i||10,2>i||i>36)throw RangeError("radix");var o;if((o=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===o)return t.fromString(e.substring(1),n,i).neg();for(var r=t.fromNumber(t.pow_dbl(i,8)),s=t.ZERO,a=0;a<e.length;a+=8){var h=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+h),i);if(8>h){var l=t.fromNumber(t.pow_dbl(i,h));s=s.mul(l).add(t.fromNumber(u))}else s=s.mul(r),s=s.add(t.fromNumber(u))}return s.unsigned=n,s},t.fromValue=function(e){return e instanceof t?e:"number"==typeof e?t.fromNumber(e):"string"==typeof e?t.fromString(e):t.fromBits(e.low,e.high,e.unsigned)},t.INT_CACHE={},t.UINT_CACHE={},t.TWO_PWR_16_DBL=65536,t.TWO_PWR_24_DBL=1<<24,t.TWO_PWR_32_DBL=t.TWO_PWR_16_DBL*t.TWO_PWR_16_DBL,t.TWO_PWR_64_DBL=t.TWO_PWR_32_DBL*t.TWO_PWR_32_DBL,t.TWO_PWR_63_DBL=t.TWO_PWR_64_DBL/2,t.TWO_PWR_24=t.fromInt(t.TWO_PWR_24_DBL),t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t.pow_dbl=Math.pow,t}();__reflect(Long.prototype,"Long");var core;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.ceil=function(t){return t%1==0?t:t>0?t+1<<0:t<<0},e.prototype.random=function(t,e){return Math.random()*(e-t+1)+t<<0},e.prototype.getAngle=function(t){return 180*t/Math.PI},e.prototype.getRadian=function(t){return t/180*Math.PI},e.prototype.getRadian2=function(t,e,n,i){var o=n-t,r=i-e;return Math.atan2(r,o)},e.prototype.getDistance=function(t,e,n,i){var o=n-t,r=i-e,s=o*o+r*r;return Math.sqrt(s)},e.prototype.getSum=function(t,e){for(var n=0,i=t;e>=i;i++)n+=i;return n},e.prototype.randomNoRepeat=function(t,e,n){function i(t,e){var n=e-t;return parseInt(Math.random()*n+t)}for(var o=new Array;o.length<t;){var r=i(e,n);-1==o.indexOf(r)&&o.push(r)}return o},e.prototype.towPointGetAngle=function(t,e,n,i){var o=n-t,r=i-e,s=Math.atan2(r,o);return this.getAngle(s)},e}(t.BaseClass);t.MathUtils=e,__reflect(e.prototype,"core.MathUtils")}(core||(core={}));var core;!function(t){var e=function(){function t(){this.m_factorys=new Dictionary,this.m_mcFactorys=new Dictionary}return t.prototype.getMovieClip=function(t,e,n){void 0===n&&(n=!0);var i=t+">"+e,o=this.m_factorys.get(i);if(o||(o=[],this.m_factorys.add(i,o)),o.length>0){var r=o.pop();return r}var s=this.m_mcFactorys.get(t);if(!s){var a=RES.getRes(t+"_json"),h=RES.getRes(t+"_png");if(!a||!h)return null;s=new egret.MovieClipDataFactory(a,h),s.enableCache=!0,this.m_mcFactorys.add(t,s)}var u=s.generateMovieClipData(e);if(u.mcData){var r=new egret.MovieClip(u);return r.gotoAndStop(1),r.key=i,n&&(r.anchorOffsetX=.5*(r.width+2*u.mcData.frames[0].x),r.anchorOffsetY=.5*(r.height+2*u.mcData.frames[0].y)),r}return null},t.prototype.revertMovieClip=function(t){if(t){var e=t.key;t.parent&&t.parent.removeChild(t);var n=this.m_factorys.get(e);n||(n=[],this.m_factorys.add(e,n)),n.push(t)}},Object.defineProperty(t,"instance",{get:function(){return null==t.s_instance&&(t.s_instance=new t),t.s_instance},enumerable:!0,configurable:!0}),t}();t.MCFactory=e,__reflect(e.prototype,"core.MCFactory")}(core||(core={}));var core;!function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.type=t,n.dict={},n.eVec=new Array,n.lastRunTime=0,0==n.type&&App.TimerManager.doFrame(1,0,n.run,n),n}return __extends(n,e),n.prototype.clear=function(){this.dict={},this.eVec.splice(0)},n.prototype.addListener=function(t,e,n){var i=this.dict[t];null==i&&(i=new Array,this.dict[t]=i);var o=0,r=i.length;for(o;r>o;o++)if(i[o][0]==e&&i[o][1]==n)return;i.push([e,n])},n.prototype.removeListener=function(t,e,n){var i=this.dict[t];if(null!=i){var o=0,r=i.length;for(o;r>o;o++)if(i[o][0]==e&&i[o][1]==n){i.splice(o,1);break}0==i.length&&(this.dict[t]=null,delete this.dict[t])}},n.prototype.removeAll=function(t){for(var e=Object.keys(this.dict),n=0,i=e.length;i>n;n++){for(var o=e[n],r=this.dict[o],s=0;s<r.length;s++)r[s][1]==t&&(r.splice(s,1),s--);0==r.length&&(this.dict[o]=null,delete this.dict[o])}},n.prototype.dispatch=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(null!=this.dict[e]){var o=t.ObjectPool.pop("MessageVo");o.type=e,o.param=n,0==this.type?this.eVec.push(o):1==this.type?this.dealMsg(o):Log.trace("MessageCenter未实现的类型")}},n.prototype.run=function(){var t=egret.getTimer(),e=t-this.lastRunTime>100;if(this.lastRunTime=t,e)for(;this.eVec.length>0;)this.dealMsg(this.eVec.shift());else for(;this.eVec.length>0&&(this.dealMsg(this.eVec.shift()),!(egret.getTimer()-t>5)););},n.prototype.dealMsg=function(e){var n=this.dict[e.type],i=0,o=0;n&&(o=n.length);for(var r=null;o>i;)r=n[i],r[0].apply(r[1],e.param),n.length!=o&&(o=n.length,i--),i++;e.dispose(),t.ObjectPool.push(e)},n}(t.BaseClass);t.MessageCenter=e,__reflect(e.prototype,"core.MessageCenter")}(core||(core={}));var MessageVo=function(){function t(){}return t.prototype.dispose=function(){this.type=null,this.param=null},t}();__reflect(MessageVo.prototype,"MessageVo");var core;!function(t){var e=function(){function t(){this._objs=new Array}return t.prototype.pushObj=function(t){this._objs.push(t)},t.prototype.popObj=function(){return this._objs.length>0?this._objs.pop():null},t.prototype.clear=function(){for(;this._objs.length>0;)this._objs.pop()},t.pop=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];t._content[e]||(t._content[e]=[]);var o=t._content[e];if(o.length)return o.pop();var r,s=egret.getDefinitionByName(e),a=n.length;return 0==a?r=new s:1==a?r=new s(n[0]):2==a?r=new s(n[0],n[1]):3==a?r=new s(n[0],n[1],n[2]):4==a?r=new s(n[0],n[1],n[2],n[3]):5==a&&(r=new s(n[0],n[1],n[2],n[3],n[4])),r.ObjectPoolKey=e,r},t.popWithExtraKey=function(e,n){t._content[e]||(t._content[e]=[]);var i,o=t._content[e];if(o.length)for(var r=0;r<o.length;r++)if(o[r].extraKey==n){i=o[r],o.splice(r,1);break}if(!i){var s=egret.getDefinitionByName(e);i=new s(n),i.extraKey=n,i.ObjectPoolKey=e}return i},t.push=function(e){if(null==e)return!1;var n=e.ObjectPoolKey;return t._content[n]?(t._content[n].push(e),!0):!1},t.clear=function(){t._content={}},t.clearClass=function(e,n){void 0===n&&(n=null);for(var i=t._content[e];i&&i.length;){var o=i.pop();n&&o[n](),o=null}t._content[e]=null,delete t._content[e]},t.dealFunc=function(e,n){var i=t._content[e];if(null!=i){var o=0,r=i.length;for(o;r>o;o++)i[o][n]()}},t._content={},t}();t.ObjectPool=e,__reflect(e.prototype,"core.ObjectPool")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"isPC",{get:function(){return"Windows PC"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isiOS",{get:function(){return"iOS"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isAndroid",{get:function(){return"Android"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isWindowPhone",{get:function(){return"Windows Phone"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isMacOS",{get:function(){return"Mac OS"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isUnknown",{get:function(){return"Unknown"==egret.Capabilities.os},enumerable:!0,configurable:!0}),t}();t.PlatUtils=e,__reflect(e.prototype,"core.PlatUtils")}(core||(core={}));var core;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.limit=function(t,e){t=Math.min(t,e),e=Math.max(t,e);var n=e-t;return t+Math.random()*n},e.prototype.limitInteger=function(t,e){return Math.round(this.limit(t,e))},e.prototype.randomArray=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},e}(t.BaseClass);t.RandomUtils=e,__reflect(e.prototype,"core.RandomUtils")}(core||(core={}));var core;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._groupIndex=0,e._configs=new Array,e._groups={},RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onResourceLoadComplete,e),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,e.onResourceLoadProgress,e),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,e.onResourceLoadError,e),e}return __extends(e,t),e.prototype.addConfig=function(t,e){this._configs.push([t,e])},e.prototype.loadConfig=function(t,e){this._onConfigComplete=t,this._onConfigCompleteTarget=e,this.loadNextConfig()},e.prototype.loadNextConfig=function(){if(0==this._configs.length)return this._onConfigComplete.call(this._onConfigCompleteTarget),this._onConfigComplete=null,void(this._onConfigCompleteTarget=null);var t=this._configs.shift();RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),RES.loadConfig(t[0],t[1])},e.prototype.onConfigCompleteHandle=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),this.loadNextConfig()},e.prototype.loadGroup=function(t,e,n,i){this._groups[t]=[e,n,i],RES.loadGroup(t)},e.prototype.loadGroups=function(t,e,n,i,o){RES.createGroup(t,e,!0),this.loadGroup(t,n,i,o)},e.prototype.pilfererLoadGroup=function(t,e){void 0===e&&(e=null);var n="pilferer_"+t;e||(e=[t]),RES.createGroup(n,e,!0),RES.loadGroup(n,-1)},e.prototype.onResourceLoadComplete=function(t){var e=t.groupName;if(this._groups[e]){var n=this._groups[e][0],i=this._groups[e][2];null!=n&&n.apply(i,[e]),this._groups[e]=null,delete this._groups[e]}},e.prototype.onResourceLoadProgress=function(t){var e=t.groupName;if(this._groups[e]){var n=this._groups[e][1],i=this._groups[e][2];null!=n&&n.call(i,t.itemsLoaded,t.itemsTotal)}},e.prototype.onResourceLoadError=function(t){Log.trace(t.groupName+"资源组有资源加载失败"),this.onResourceLoadComplete(t)},e.prototype.loadResource=function(t,e,n,i,o){void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var r=t.concat(e),s="loadGroup"+this._groupIndex++;RES.createGroup(s,r,!0),this._groups[s]=[n,i,o],RES.loadGroup(s)},e.prototype.createGroup=function(t,e){RES.createGroup(t,e,!0)},e}(t.BaseClass);t.ResourceUtils=e,__reflect(e.prototype,"core.ResourceUtils")}(core||(core={}));var core;!function(t){var e=function(){function t(){RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onResourceLoadError,this)}return t.prototype.onResourceLoadError=function(t){this.m_groupData.curGroup==t.groupName&&(egret.log("资源组："+t.groupName+" 加载失败"),this.m_groupData.curGroupLoaded=t.itemsLoaded,this.m_groupData.curGroupTotal=t.itemsTotal,this.m_groupData.curResItem=t.resItem,this.m_groupData.onLoadFaild&&this.m_groupData.onLoadFaild.call(this.m_groupData.thisObj,this.m_groupData))},t.prototype.onResourceProgress=function(t){this.updateGroupData(t.groupName,t.itemsLoaded,t.itemsTotal,t.resItem)},t.prototype.onResourceLoadComplete=function(t){egret.log("资源组："+t.groupName+" 加载完成"),this.updateGroupData(t.groupName,t.itemsTotal,t.itemsTotal,t.resItem)},t.prototype.updateGroupData=function(t,e,n,i){void 0===e&&(e=0),void 0===n&&(n=0),this.m_groupData.curGroup==t&&(this.m_groupData.curGroupLoaded=e,this.m_groupData.curGroupTotal=n,this.m_groupData.curResItem=i,this.m_groupData.onLoadProgress&&this.m_groupData.onLoadProgress.call(this.m_groupData.thisObj,this.m_groupData),e==n&&(this.m_groupData.loadedQueue.push(t),this.m_groupData.loaded=this.m_groupData.loadedQueue.length,this.loadNext()))},t.prototype.loadNext=function(){var t=this.m_groupData.loadQueue.shift();t?(this.m_groupData.curGroup=t,RES.isGroupLoaded(t)||this.m_groupData.loadedQueue.indexOf(t)>=0?this.updateGroupData(t,this.m_groupData.total,this.m_groupData.total,this.m_groupData.curResItem):RES.loadGroup(t)):(this.m_groupData.onLoadComplete&&this.m_groupData.onLoadComplete.call(this.m_groupData.thisObj,this.m_groupData),this.destory())},t.prototype.destory=function(){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onResourceLoadError,this),this.m_groupData=null},t.prototype.loadGroups=function(t){this.m_groupData=t,this.loadNext()},t}();__reflect(e.prototype,"GroupLoader");var n=function(){function n(){}return n.loadGroups=function(t,n,o,r,s,a){if(t){var h=new i;if(h.loadQueue=t,h.loadedQueue=[],h.loaded=0,h.total=t.length,h.onLoadProgress=n,h.onLoadFaild=o,h.onLoadComplete=r,h.thisObj=s,h.param=a,t.length>0){var u=new e;u.loadGroups(h)}else r&&r.call(s,h)}},n.prototype.getCacheRes=function(e){var n=t.CachePool.getObj(e);return n||(n=RES.getRes(e),n.key=e),n},n.prototype.revertCacheRes=function(e){e&&e.key&&t.CachePool.addObj(e.key,e)},n.loadExmls=function(t,e,n){e.apply(n)},n.parsedSkinClasses={},n}();t.ResUtils=n,__reflect(n.prototype,"core.ResUtils");var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(t.Progress);t.GroupData=i,__reflect(i.prototype,"core.GroupData")}(core||(core={}));var core;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.MAP=0,e.SPRITE=1,e.mapPoss=[new egret.Point(0,3),new egret.Point(0,0),new egret.Point(0,-2)],e.spritePoss=[new egret.Point(5,0),new egret.Point(-5,0),new egret.Point(5,0)],e._shockLength=0,e._shockCount=0,e._rx=0,e._ry=0,e._type=0,e._repeatCount=0,e}return __extends(e,t),e.prototype.destroy=function(){this.stop()},e.prototype.shock=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=null),void 0===n&&(n=3),this._target||(this._type=t,this._target=e,this._type==this.MAP?(this._shockPoss=this.mapPoss.concat(),this._shockLength=this._shockPoss.length):this._type==this.SPRITE&&(this._shockPoss=this.spritePoss.concat(),this._shockLength=this._shockPoss.length),this.start(n))},e.prototype.start=function(t){void 0===t&&(t=1),this.repeatCount=t,this._shockCount=0,this._target&&(this._type!=this.MAP&&(this._rx=this._target.x),this._ry=this._target.y,App.TimerManager.doFrame(1,0,this.onShockEnter,this))},e.prototype.stop=function(){this._target&&(this._type!=this.MAP&&(this._target.x=this._rx),this._target.y=this._ry,App.TimerManager.remove(this.onShockEnter,this)),this._target=null},e.prototype.onShockEnter=function(t){var e=this._shockLength*this._repeatCount;if(this._shockCount>=e)return void this.stop();var n=this._shockCount%this._shockLength,i=this._shockPoss[n];this._target&&(this._type!=this.MAP&&(this._target.x=this._rx+i.x),this._target.y=this._ry+i.y),this._shockCount++},Object.defineProperty(e.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(t){this._repeatCount=t},enumerable:!0,configurable:!0}),e}(t.BaseClass);t.ShockUtils=e,__reflect(e.prototype,"core.ShockUtils")}(core||(core={}));var core;!function(t){var e=function(){function t(){this.m_BGMVolume=1,this.m_effectVolume=1,this.m_sounds={},this.m_channels={},this.m_callbacks={},this.m_playChannel={},this.m_soundGroups={},this.m_soundGroups[egret.Sound.EFFECT]=[],this.m_soundGroups[egret.Sound.MUSIC]=[];var t=egret.localStorage.getItem("soundEffect");t&&(this.m_effectVolume=parseInt(t)),t=egret.localStorage.getItem("soundBGM"),t&&(this.m_BGMVolume=parseInt(t))}return t.prototype.playSound=function(t,e,n,i){if(void 0===n&&(n=1),!("false"==egret.localStorage.getItem("Thirting_Music")&&1==e||"false"==egret.localStorage.getItem("Thirting_Sound")&&0==e)){var o=this.m_sounds[t];if(o||(o=RES.getRes(t),o&&(o.type=0==e?egret.Sound.EFFECT:egret.Sound.MUSIC,this.m_sounds[t]=o,this.m_soundGroups[o.type].push(o))),!o)return void egret.log("名称为"+t+"的音效资源不存在");this.m_playChannel[t]=o,o.cover=t.toString();var r=void 0;try{r=o.play(0,n)}catch(s){return egret.log("ID为"+t+"的音乐播放失败"),void delete this.m_playChannel[t.toString()]}r.owner=o,r.maxCount=n>0?n:Number.MAX_VALUE,r.count=0,o.type==egret.Sound.EFFECT?r.volume=this.m_effectVolume:r.volume=this.m_BGMVolume,i&&(this.m_callbacks[r.hashCode.toString()]=i),r.addEventListener(egret.Event.SOUND_COMPLETE,this.onPlayComplete,this),this.m_channels[o.hashCode.toString()]=r}},t.prototype.onPlayComplete=function(t){var e=t.currentTarget,n=this.m_callbacks[e.hashCode.toString()];n&&n(),e.count++,e.count>=e.maxCount},t.prototype.stopSoundByID=function(t){var e=this.m_sounds[t];e&&this.stop(e)},t.prototype.stopSound=function(t){var e=this.m_playChannel[t];e&&this.stop(e)},t.prototype.stop=function(t){var e=this.m_channels[t.hashCode.toString()];if(e){try{e.stop()}catch(n){egret.log("停止播放音乐失败")}e.hasEventListener(egret.Event.SOUND_COMPLETE)&&e.removeEventListener(egret.Event.SOUND_COMPLETE,this.onPlayComplete,this),delete this.m_callbacks[e.hashCode.toString()],delete this.m_channels[t.hashCode.toString()]}delete this.m_playChannel[t.cover]},t.prototype.setBGMValume=function(t){egret.localStorage.setItem("soundBGM",t.toString()),this.m_BGMVolume=t;for(var e=this.m_soundGroups[egret.Sound.MUSIC],n=0,i=e.length;i>n;n++){var o=e[n];if(o){var r=this.m_channels[o.hashCode.toString()];if(r)try{r.volume=t}catch(s){egret.log("背景音乐音量设置失败")}}}},t.prototype.getBGMValue=function(){return this.m_BGMVolume},t.prototype.setEffectValume=function(t){egret.localStorage.setItem("soundEffect",t.toString()),this.m_effectVolume=t;for(var e=this.m_soundGroups[egret.Sound.EFFECT],n=0,i=e.length;i>n;n++){var o=e[n];if(o){var r=this.m_channels[o.hashCode.toString()];if(r)try{r.volume=t}catch(s){egret.log("音效音量设置失败")}}}},t.prototype.getEffectValue=function(){return this.m_effectVolume},t.getInstance=function(){return null==t.s_instance&&(t.s_instance=new t),t.s_instance},t}();t.SoundUtils=e,__reflect(e.prototype,"core.SoundUtils")}(core||(core={}));var core;!function(t){var e=function(t){function e(){var n=t.call(this)||this;return null==e._uiStage&&(e._uiStage=LayerCenter.Instance),n}return __extends(e,t),e.prototype.getHeight=function(){return this.getStage().stageHeight},e.prototype.getWidth=function(){return this.getStage().stageWidth},e.prototype.setTouchChildren=function(t){this.getStage().touchChildren=t},e.prototype.setMaxTouches=function(t){this.getStage().maxTouches=t},e.prototype.setFrameRate=function(t){this.getStage().frameRate=t},e.prototype.setScaleMode=function(t){this.getStage().scaleMode=t},e.prototype.getStage=function(){return egret.MainContext.instance.stage},e.prototype.getUIStage=function(){return e._uiStage},e.prototype.startFullscreenAdaptation=function(t,e){this.designWidth=t,this.designHeight=e,this.getStage().setContentSize(t,e)},e.prototype.stageOnResize=function(){this.getStage().removeEventListener(egret.Event.RESIZE,this.stageOnResize,this);var t=this.designWidth,e=this.designHeight,n=window.innerWidth,i=window.innerHeight,o=n/i,r=t/e,s=o/r;if(o>r){var a=s,h=s;t=Math.floor(t*a),e=Math.floor(e*h)}this.getStage().setContentSize(t,e),App.EventCenter.dispatch(egret.Event.RESIZE),this.getStage().addEventListener(egret.Event.RESIZE,this.stageOnResize,this)},e}(t.BaseClass);t.StageUtils=e,__reflect(e.prototype,"core.StageUtils")}(core||(core={}));var core;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.trimSpace=function(t){return t.replace(/^\s*(.*?)[\s\n]*$/g,"$1")},e.prototype.getStringLength=function(t){for(var e=t.split(""),n=0,i=0;i<e.length;i++){var o=e[i];n+=this.isChinese(o)?2:1}return n},e.prototype.isChinese=function(t){var e=/^.*[\u4E00-\u9FA5]+.*$/;return e.test(t)},e.prototype.strParams=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)t=t.replace("@param"+n.toString(),e[n]);return t},e}(t.BaseClass);t.StringUtils=e,__reflect(e.prototype,"core.StringUtils")}(core||(core={}));var core;!function(t){var e=function(){function e(){}return e.createTextfield=function(t,e,n,i,o){void 0===e&&(e=16777215),void 0===n&&(n=egret.VerticalAlign.MIDDLE),void 0===i&&(i=egret.HorizontalAlign.CENTER),void 0===o&&(o="Verdana");var r=new egret.TextField;return r.size=t,r.textColor=e,r.textAlign=i,r.verticalAlign=n,r.fontFamily=o,r.cacheAsBitmap=!0,r},e.formatString=function(t,e){if(t){for(var n=/\{[0-9]+?\}/;t.match(n);){var i=t.match(n),o=i[0].match(/[0-9]+?/);t=t.replace(n,e[parseInt(o[0])])}return t}return""},e.parseHtmlText=function(t){return e.s_textFlowParser.parse(t)},e.showTextTip=function(e,n){void 0===n&&(n=16777215);var i=LayerCenter.stageWidth,o=LayerCenter.stageHeight,r=t.TextUtils.createTextfield(30);r.text=e,r.textColor=n,r.width=r.textWidth,r.height=r.textHeight,r.x=.5*(i-r.width),r.y=.5*(o-r.height),LayerCenter.Instance.stage.addChild(r),egret.Tween.get(r).to({y:.4*o,alpha:0},1e3,egret.Ease.circIn).call(function(t){t.parent.removeChild(t)},this,[r])},e.s_textFlowParser=new egret.HtmlTextParser,e}();t.TextUtils=e,__reflect(e.prototype,"core.TextUtils")}(core||(core={}));var core;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t._handlers=new Array,t._delHandlers=new Array,t._currTime=egret.getTimer(),t._currFrame=0,t._count=0,t._timeScale=1,egret.Ticker.getInstance().register(t.onEnterFrame,t),t}return __extends(n,e),n.prototype.setTimeScale=function(t){this._timeScale=t},n.prototype.onEnterFrame=function(){this._currFrame++,this._currTime=egret.getTimer(),App.DebugUtils.start("TimerManager:");for(var t=0;t<this._count;t++){var e=this._handlers[t],n=e.userFrame?this._currFrame:this._currTime;n>=e.exeTime&&(App.DebugUtils.start(e.method.toString()),e.method.call(e.methodObj,(this._currTime-e.dealTime)*this._timeScale),App.DebugUtils.stop(e.method.toString()),e.dealTime=this._currTime,e.exeTime+=e.delay,e.repeat||(e.repeatCount>1?e.repeatCount--:(e.complateMethod&&e.complateMethod.apply(e.complateMethodObj),this._delHandlers.push(e))))}for(;this._delHandlers.length;){var e=this._delHandlers.pop();this.remove(e.method,e.methodObj)}App.DebugUtils.stop("TimerManager:")},n.prototype.create=function(e,n,i,o,r,s,a){if(!(0>n||0>i||null==o)){this.remove(o,r);var h=t.ObjectPool.pop("TimerHandler");h.userFrame=e,h.repeat=0==i,h.repeatCount=i,h.delay=n,h.method=o,h.methodObj=r,h.complateMethod=s,h.complateMethodObj=a,h.exeTime=n+(e?this._currFrame:this._currTime),h.dealTime=this._currTime,this._handlers.push(h),this._count++}},n.prototype.doTimer=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),this.create(!1,t,e,n,i,o,r)},n.prototype.doFrame=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),this.create(!0,t,e,n,i,o,r)},Object.defineProperty(n.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),n.prototype.remove=function(e,n){for(var i=0;i<this._count;i++){var o=this._handlers[i];if(o.method==e&&o.methodObj==n){this._handlers.splice(i,1),t.ObjectPool.push(o),this._count--;break}}},n.prototype.removeAll=function(e){for(var n=0;n<this._count;n++){var i=this._handlers[n];i.methodObj==e&&(this._handlers.splice(n,1),t.ObjectPool.push(i),this._count--,n--)}},n.prototype.isExists=function(t,e){for(var n=0;n<this._count;n++){var i=this._handlers[n];if(i.method==t&&i.methodObj==e)return!0}return!1},n}(t.BaseClass);t.TimerManager=e,__reflect(e.prototype,"core.TimerManager")}(core||(core={}));var TimerHandler=function(){function t(){this.delay=0,this.repeatCount=0,this.exeTime=0,this.dealTime=0}return t.prototype.clear=function(){this.method=null,this.methodObj=null,this.complateMethod=null,this.complateMethodObj=null},t}();__reflect(TimerHandler.prototype,"TimerHandler");var core;!function(t){var e=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._x=t,this._y=e}return t.prototype.draw=function(t,e){void 0===e&&(e=0),t.lineStyle(0,e),t.moveTo(0,0),t.lineTo(this._x,this._y)},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.zero=function(){return this._x=0,this._y=0,this},t.prototype.isZero=function(){return 0==this._x&&0==this._y},Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.lengthSQ)},set:function(t){var e=this.angle;this._x=Math.cos(e)*t,this._y=Math.sin(e)*t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lengthSQ",{get:function(){return this._x*this._x+this._y*this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return Math.atan2(this._y,this._x)},set:function(t){var e=this.length;this._x=Math.cos(t)*e,this._y=Math.sin(t)*e},enumerable:!0,configurable:!0}),t.prototype.normalize=function(){if(0==this.length)return this._x=1,this;var t=this.length;return this._x/=t,this._y/=t,this},t.prototype.truncate=function(t){return this.length=Math.min(t,this.length),this},t.prototype.reverse=function(){return this._x=-this._x,this._y=-this._y,this},t.prototype.isNormalized=function(){return 1==this.length},t.prototype.dotProd=function(t){return this._x*t.x+this._y*t.y},t.prototype.crossProd=function(t){return this._x*t.y-this._y*t.x},t.angleBetween=function(t,e){return t.isNormalized()||(t=t.clone().normalize()),e.isNormalized()||(e=e.clone().normalize()),Math.acos(t.dotProd(e))},t.prototype.sign=function(t){return this.perp.dotProd(t)<0?-1:1},Object.defineProperty(t.prototype,"perp",{get:function(){return new t(-this.y,this.x)},enumerable:!0,configurable:!0}),t.prototype.dist=function(t){return Math.sqrt(this.distSQ(t))},t.prototype.distSQ=function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},t.prototype.add=function(e){return new t(this._x+e.x,this._y+e.y)},t.prototype.subtract=function(e){return new t(this._x-e.x,this._y-e.y)},t.prototype.multiply=function(e){return new t(this._x*e,this._y*e)},t.prototype.divide=function(e){return new t(this._x/e,this._y/e)},t.prototype.equals=function(t){return this._x==t.x&&this._y==t.y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),t.prototype.tostring=function(){return"[Vector2D (x:"+this._x+", y:"+this._y+")]"},t}();t.Vector2D=e,__reflect(e.prototype,"core.Vector2D")}(core||(core={}));var core;!function(t){var e=function(){function e(){}return e.addKeyboardListener=function(){document.onkeydown=function(n){n&&e.isKeyboard&&App.EventCenter.dispatch(t.EventID.KEYBOARD_DOWN,n)},document.onkeyup=function(n){n&&e.isKeyboard&&App.EventCenter.dispatch(t.EventID.KEYBOARD_UP,n)}},e.isKeyboard=!0,e}();t.WebUtils=e,__reflect(e.prototype,"core.WebUtils")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t}();t.XMLUtils=e,__reflect(e.prototype,"core.XMLUtils")}(core||(core={}));var ws;!function(t){var e=function(){function t(){this.basicsArr=["number","string","boolean"],this._message=dcodeIO.ProtoBuf.loadProto(RES.getRes("game_proto"))}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.getReqByteArr=function(t){var e=this._message.build(t.protobuf_className),n=new e;this.evaluationObj(t,n);var i=new egret.ByteArray(n.toArrayBuffer());return i},t.prototype.getResProtobuf=function(t,e){var n=proto.CmdResHash.obj[t];void 0==n&&egret.error("协议类型没有在 proto.CmdResHash 绑定：cmd = "+t);var i=this._message.build(n),o=i.decode(e.buffer);return o
},t.prototype.evaluationObj=function(t,e){for(var n,i=Object.getOwnPropertyNames(t),o=i.length,r=0;o>r;r++)if(n=i[r],n&&""!==n&&"protobuf_className"!==n){var s=typeof t[n];egret.log(s),"function"!==s&&e.hasOwnProperty(n)&&(e[n]=t[n])}},t}();t.ProtoBufUtil=e,__reflect(e.prototype,"ws.ProtoBufUtil")}(ws||(ws={}));var ws;!function(t){var e=function(){function t(){}return t.getIndex=function(){var t=this.index;return this.index++,t},t.createBody=function(t){for(var e,n=new egret.ByteArray,i=0;i<t.length;i++)e=t[i],"string"==typeof e?n.writeUTFBytes(String(e)):e instanceof egret.ByteArray?(n.writeBytes(e),e.length=0):n.writeUnsignedInt(e);return n},t.index=0,t}();t.RequestPacker=e,__reflect(e.prototype,"ws.RequestPacker")}(ws||(ws={}));var ws;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.TYPE_STRING="TYPE_STRING",t.TYPE_BINARY="TYPE_BINARY",t._connectCount=0,t._setTimeoutIndex=0,t._isUseProtoBuf=!1,t.connected=!1,t}return __extends(n,e),n.prototype.initServer=function(t,e,n){this._host=t,this._port=e,this._msg=n},n.prototype.connect=function(e){return App.DeviceUtils.IsHtml5&&!window.WebSocket?void Log.trace("不支持WebSocket"):(this._connectSuccessHandle=e,this.mainSocket=new egret.WebSocket,this._msg instanceof t.ByteArrayMsg&&(this.mainSocket.type=egret.WebSocket.TYPE_BINARY),this.mainSocket.type=egret.WebSocket.TYPE_BINARY,this.mainSocket.type=egret.WebSocket.TYPE_STRING,this.mainSocket.addEventListener(egret.Event.CONNECT,this.onSocketConnected,this),this.mainSocket.connect(this._host,this._port),Log.trace("WebSocket connecting: "+this._host+":"+this._port),this._connectCount=0,void(this._setTimeoutIndex=setInterval(this.reconnect(this),3e3)))},n.prototype.reconnect=function(e){e._connectCount++,e._connectCount<=5?(console.error("websocket连接 --> "+e._connectCount+" 次！"),this.mainSocket.connect(e.host,e.port)):(console.error("服务器连接失败！ --> "+e._host+":"+e._port),e._setTimeoutIndex&&clearInterval(e._setTimeoutIndex),e.dispatchEvent(new t.WebSocketEvent(t.WebSocketEvent.CONNECT_ERR)))},n.prototype.onSocketConnected=function(){this.mainSocket.removeEventListener(egret.Event.CONNECT,this.onSocketConnected,this),this.addListeners(),this._setTimeoutIndex&&clearInterval(this._setTimeoutIndex),console.log(this._host+":"+this._port+" 服务器连接上了"),this.connected=!0,this._connectSuccessHandle.run()},n.prototype.addListeners=function(){this.mainSocket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onData,this),this.mainSocket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.mainSocket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this)},n.prototype.removeListeners=function(){this.mainSocket.removeEventListener(egret.ProgressEvent.SOCKET_DATA,this.onData,this),this.mainSocket.removeEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.mainSocket.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this)},n.prototype.addCmdListener=function(t,e){if(null!=e){this.mEventListeners||(this.mEventListeners={});var n=this.mEventListeners[t];n?-1==n.indexOf(e)&&n.push(e):(this.mEventListeners[t]=new Array,this.mEventListeners[t].push(e))}},n.prototype.dispatchCmd=function(t,e){void 0===e&&(e=null);var n,i,o=0;if(this.mEventListeners[t])for(n=this.mEventListeners[t],o=0;o<n.length;)i=n[o],i.runWith(e),o++},n.prototype.removeCmdListener=function(t,e){var n,i,o,r;if(this.mEventListeners&&(n=this.mEventListeners[t])){for(i=n.length,o=new Array,r=0;i>r;)n[r].method!=e&&o.push(n[r]),r++;o.length>0?this.mEventListeners[t]=o:delete this.mEventListeners[t]}},n.prototype.hasCmdListener=function(t){return this.mEventListeners[t]},n.prototype.onSocketClose=function(){console.log("websocket --> 断开连接了！"),this.connected=!1},n.prototype.onSocketError=function(){console.error("websocket --> 连接错误了！")},n.prototype.onData=function(t){this._msg.receive(this.mainSocket)},n.prototype.send=function(t){this._msg.send(this.mainSocket,t)},n}(core.BaseClass);t.ServerSocket=e,__reflect(e.prototype,"ws.ServerSocket")}(ws||(ws={}));var ws;!function(t){var e=function(){function t(){}return t.SOCKET_CONNECT="SOCKET_CONNECT",t.SOCKET_RECONNECT="SOCKET_RECONNECT",t.SOCKET_START_RECONNECT="SOCKET_START_RECONNECT",t.SOCKET_CLOSE="SOCKET_CLOSE",t.SOCKET_DATA="SOCKET_DATA",t.SOCKET_NOCONNECT="SOCKET_NOCONNECT",t.SOCKET_DEBUG_INFO="SOCKET_DEBUG_INFO",t}();t.SocketConst=e,__reflect(e.prototype,"ws.SocketConst")}(ws||(ws={}));var ws;!function(t){var e=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return __extends(e,t),e.CONNECT_CPL="CONNECT_CPL",e.CONNECT_ERR="CONNECT_ERR",e.CLOSE="CLOSE",e.ERROR="ERROR",e}(egret.Event);t.WebSocketEvent=e,__reflect(e.prototype,"ws.WebSocketEvent")}(ws||(ws={}));var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var ws;!function(t){var e=function(t){function e(){var e=t.call(this)||this;e.msgClass=null,e.protoConfig=null,e.protoConfigSymmetry=null,e.msgClass={},e.protoConfig=App.ProtoConfig,e.protoConfigSymmetry={};for(var n=Object.keys(e.protoConfig),i=0,o=n.length;o>i;i++){var r=n[i],s=e.protoConfig[r];e.protoConfigSymmetry[s]=r}return e}return __extends(e,t),e.prototype.getMsgClass=function(t){var e=this.msgClass[t];return null==e&&(e=App.ProtoFile.build(t),this.msgClass[t]=e),e},e.prototype.getMsgID=function(t){return this.protoConfigSymmetry[t]},e.prototype.getMsgKey=function(t){return this.protoConfig[t]},e.prototype.decode=function(t){var e=t.readShort(),n=t.readShort();if(t.bytesAvailable>=n){var i=new egret.ByteArray;t.readBytes(i,0,n);var o={};return o.key=this.getMsgKey(e),App.DebugUtils.start("Protobuf Decode"),o.body=this.getMsgClass(o.key).decode(i.buffer),App.DebugUtils.stop("Protobuf Decode"),Log.trace("收到数据：","["+e+" "+o.key+"]",o.body),o}return null},e.prototype.encode=function(t){var e=this.getMsgID(t.key),n=new(this.getMsgClass(t.key))(t.body);App.DebugUtils.start("Protobuf Encode");var i=new egret.ByteArray(n.toArrayBuffer());App.DebugUtils.stop("Protobuf Encode"),Log.trace("发送数据：","["+e+" "+t.key+"]",t.body);var o=new egret.ByteArray;return o.writeShort(e),o.writeBytes(i),o},e}(t.ByteArrayMsg);t.ByteArrayMsgByProtobuf=e,__reflect(e.prototype,"ws.ByteArrayMsgByProtobuf")}(ws||(ws={}));var core;!function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.touchEnabled=!1,n.touchChildren=!1,n.loop=t.FrameEventCenter.getInstance(),n}return __extends(n,e),n.prototype.play=function(){this.loop.addFrameEventListener(this.onRenderLoop,this)},n.prototype.stop=function(){this.loop.removeFrameEventListener(this.onRenderLoop,this)},n.prototype.onRenderLoop=function(t){null==this.parent&&this.stop()},n}(t.Component);t.Animation=e,__reflect(e.prototype,"core.Animation")}(core||(core={}));var ws;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._protoMap={},e}return __extends(e,t),e.prototype.decode=function(t){var e=JSON.parse(t);for(var n in e){var i;if(null==this._protoMap[n]&&(i=egret.getDefinitionByName(n),null!=i&&(this._protoMap[n]=new i)),null!=this._protoMap[n]){var o=this._protoMap[n];return o.execute(e[n]),o}console.log(this,"未处理的消息"+t)}return null},e.prototype.encode=function(t){var e='{"'+egret.getQualifiedClassName(t)+'":'+JSON.stringify(t)+"}";return e},e}(t.UTFMsg);t.UTFMsgByJson=e,__reflect(e.prototype,"ws.UTFMsgByJson")}(ws||(ws={}));var ws;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.decode=function(t){return Log.trace(String(t)),String(t)},e.prototype.encode=function(t){return String(t)},e}(t.UTFMsg);t.UTFMsgByString=e,__reflect(e.prototype,"ws.UTFMsgByString")}(ws||(ws={}));var DebugPlatform=function(){function t(){this.info=""}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return console.log("拿取结果"),[2,game.OptModel.ins]})})},t.prototype.getJSON=function(){var t=new Promise(function(t,e){game.OptModel.ins.appId=egret.getOption("appId"),game.OptModel.ins.channelId=egret.getOption("channelId"),game.OptModel.ins.time=egret.getOption("time"),game.OptModel.ins.token=egret.getOption("token"),game.OptModel.ins.sign=(new md5).hex_md5("appId="+game.OptModel.ins.appId+"channelId="+game.OptModel.ins.channelId+"time="+game.OptModel.ins.time+"token="+game.OptModel.ins.token+"dq9FR5gBTPdhuVtsdmCbhiKM4ByjGL");var n=getParentUrl();console.log("父级url----"+n),game.OptModel.ins.shareRoomId=core.LocationProperty.getPara("shareRoomId",n),game.OptModel.ins.shareUserId=core.LocationProperty.getPara("shareUserId",n),game.OptModel.ins.shareRePlayRoomId=core.LocationProperty.getPara("shareRePlayRoomId",n),console.log("roomid----"+game.OptModel.ins.shareRoomId),console.log(game.OptModel.ins.appId),console.log(game.OptModel.ins.channelId),console.log(game.OptModel.ins.sign),console.log(game.OptModel.ins.time),console.log(game.OptModel.ins.token),console.log(game.OptModel.ins.shareRoomId);var i=App.GlobalData.HttpSerever,o=new egret.URLRequest,r=new egret.URLVariables;r.variables={appId:game.OptModel.ins.appId,channelId:game.OptModel.ins.channelId,sign:game.OptModel.ins.sign,time:game.OptModel.ins.time,token:game.OptModel.ins.token},o.data=r,o.url=i;var s=new egret.URLLoader;s.addEventListener(egret.Event.COMPLETE,function(n){console.log("收到结果");var i,o=(n.target,n.currentTarget.data);i=JSON.parse(o),console.log(i.data),null!=i.data?(game.OptModel.ins.name=i.data.nickname,game.OptModel.ins.head=i.data.avatar,t(i.data)):e(new Error(i.message))},this),s.load(o)});return t},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.getJSON().then(this.onsuccess,this.onerror)];case 1:return t.sent(),[2]}})})},t.prototype.onsuccess=function(t){console.log("Contents: "+t),console.log(t.nickname),console.log(JSON.stringify(t)),this.info=t},t.prototype.onerror=function(t){console.error("出错了",t)},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var proto;!function(t){var e;!function(t){t[t.NONE=0]="NONE",t[t.HEART_BEAT=1]="HEART_BEAT",t[t.BATTLE_REPORT_NOTIFY=4]="BATTLE_REPORT_NOTIFY",t[t.LOGIN=2001]="LOGIN",t[t.CREATE_PLAYER=2002]="CREATE_PLAYER",t[t.STATIC_CWAR_TIME_DATA=2003]="STATIC_CWAR_TIME_DATA",t[t.STATIC_CWAR_TIME_DATA_NOTIFY=2005]="STATIC_CWAR_TIME_DATA_NOTIFY",t[t.BATTLE_REPORT_TEST=1e4]="BATTLE_REPORT_TEST"}(e=t.CMD||(t.CMD={}))}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"StaticCwarTimeDataRes")||this;return e.userId=0,e.userName="",e.arr=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.StaticCwarTimeDataRes=e,__reflect(e.prototype,"proto.StaticCwarTimeDataRes")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"StaticCwarTimeDataReq")||this;return e.userId=0,e.userName="",e.arr=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.StaticCwarTimeDataReq=e,__reflect(e.prototype,"proto.StaticCwarTimeDataReq")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"StaticCwarTimeDataNotify")||this;return e.userId=0,e.userName="",e.arr=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.StaticCwarTimeDataNotify=e,__reflect(e.prototype,"proto.StaticCwarTimeDataNotify")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"user_login")||this;return e.userId=0,e.userName="",e}return __extends(e,t),e}(t.BaseProtoBuf);t.user_login=e,__reflect(e.prototype,"proto.user_login")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"StaticCwarTimeModel")||this;return e.bol=!1,e}return __extends(e,t),e}(t.BaseProtoBuf);t.StaticCwarTimeModel=e,__reflect(e.prototype,"proto.StaticCwarTimeModel")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"StaticCwarTimeData")||this;return e.userId=0,e}return __extends(e,t),e}(t.BaseProtoBuf);t.StaticCwarTimeData=e,__reflect(e.prototype,"proto.StaticCwarTimeData")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"BattleReportTestReq")||this;return e.attackList=void 0,e.defenseList=void 0,e.ticks=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.BattleReportTestReq=e,__reflect(e.prototype,"proto.BattleReportTestReq")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"BattleReportTestRes")||this;return e.attackList=void 0,e.defenseList=void 0,e.ticks=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.BattleReportTestRes=e,__reflect(e.prototype,"proto.BattleReportTestRes")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"BattleTick")||this;return e.tick=0,e.acts=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.BattleTick=e,__reflect(e.prototype,"proto.BattleTick")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"BattleAct")||this;return e.tick=0,e.id=null,e.kind=0,e.target=null,e.value=0,e.hp=0,e.skill=0,e.x=0,e}return __extends(e,t),e}(t.BaseProtoBuf);t.BattleAct=e,__reflect(e.prototype,"proto.BattleAct")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"BattlePlayer")||this;return e.playerId=null,e.id=null,e.modelId=0,e.side=0,e.maxHp=0,e.hp=0,e.skills=[],e.speed=0,e.agility=0,e.x=0,e.y=0,e}return __extends(e,t),e}(t.BaseProtoBuf);t.BattlePlayer=e,__reflect(e.prototype,"proto.BattlePlayer")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"BattleTeam")||this;return e.side=0,e.playerId=null,e.battleUnits=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.BattleTeam=e,__reflect(e.prototype,"proto.BattleTeam")}(proto||(proto={})),function(t){var e=function(){function e(){}return e.setup=function(){e.obj[t.CMD.STATIC_CWAR_TIME_DATA]="StaticCwarTimeDataRes",e.obj[t.CMD.STATIC_CWAR_TIME_DATA_NOTIFY]="StaticCwarTimeDataNotify",e.obj[t.CMD.BATTLE_REPORT_TEST]="BattleReportTestRes"},e.obj={},e}();t.CmdResHash=e,__reflect(e.prototype,"proto.CmdResHash")}(proto||(proto={}));var ws;!function(t){var e=function(){function e(){e.setup()}return e.setup=function(){this._desc={},this._desc[t.CommandID.CHECK_VERSION]="服务器返回错误ID [CHECK_VERSION]"},e.getDescById=function(t){return this._desc||e.setup(),this._desc[t]?this._desc[t]:"未描述"},e}();t.CommandDesc=e,__reflect(e.prototype,"ws.CommandDesc")}(ws||(ws={}));var ws;!function(t){var e=function(){function t(){}return t.CHECK_VERSION=1e3,t}();t.CommandID=e,__reflect(e.prototype,"ws.CommandID")}(ws||(ws={}));var game;!function(t){"use strict";var e=function(){function t(){}return t.prototype.getText=function(){var t=document.activeElement;if(null!=t){var e=document.createElement("textarea");return document.body.appendChild(e),e.focus(),document.execCommand("paste",null,""),t.focus(),e.remove(),e.value}return""},t.prototype.setText=function(t){var e=document.activeElement;if(null!=e){var n=document.createElement("textarea");return n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy",null,""),e.focus(),n.remove(),!0}return!1},t}();t.Clipboard=e,__reflect(e.prototype,"game.Clipboard")}(game||(game={}));var game;!function(t){var e=function(){function e(){}return e.RuffleCard=function(e,n){var i=[];i=e?1==n?[102,103,104,105,106,107,108,109,110,111,112,113,114,202,203,204,205,206,207,208,209,210,211,212,213,214,302,303,304,305,306,307,308,309,310,311,312,313,314,402,403,404,405,406,407,408,409,410,411,412,413,414,404,405,406,407,408,409,410,411,412,413,414,501,502]:2==n?[102,103,104,105,106,107,108,109,110,111,112,113,114,202,203,204,205,206,207,208,209,210,211,212,213,214,302,303,304,305,306,307,308,309,310,311,312,313,314,302,303,304,305,306,307,308,309,310,311,312,313,314,402,403,404,405,406,407,408,409,410,411,412,413,414,404,405,406,407,408,409,410,411,412,413,414,501,502]:[102,103,104,105,106,107,108,109,110,111,112,113,114,202,203,204,205,206,207,208,209,210,211,212,213,214,302,303,304,305,306,307,308,309,310,311,312,313,314,404,405,406,407,408,409,410,411,412,413,414,501,502]:1==n?[102,103,104,105,106,107,108,109,110,111,112,113,114,202,203,204,205,206,207,208,209,210,211,212,213,214,302,303,304,305,306,307,308,309,310,311,312,313,314,402,403,404,405,406,407,408,409,410,411,412,413,414,402,403,404,405,406,407,408,409,410,411,412,413,414]:2==n?[102,103,104,105,106,107,108,109,110,111,112,113,114,202,203,204,205,206,207,208,209,210,211,212,213,214,302,303,304,305,306,307,308,309,310,311,312,313,314,302,303,304,305,306,307,308,309,310,311,312,313,314,402,403,404,405,406,407,408,409,410,411,412,413,414,402,403,404,405,406,407,408,409,410,411,412,413,414]:[102,103,104,105,106,107,108,109,110,111,112,113,114,202,203,204,205,206,207,208,209,210,211,212,213,214,302,303,304,305,306,307,308,309,310,311,312,313,314,402,403,404,405,406,407,408,409,410,411,412,413,414];var o=App.MathUtils.randomNoRepeat(13,0,i.length);console.log(o);for(var r=new Array,s=0;s<o.length;s++)r.push(new t.PorkVO(i[o[s]]));return r},e.RuffleCard1=function(){for(var e=[35,41,46,4,7,14,50,52,53,58,61,501,502],n=[],i=0;i<e.length;i++)n.push(new t.PorkVO(this.ChangeServerCardToClient(e[i])));return n},e.prototype.getCardType=function(t){return 0},e.containDuiZi=function(e){var n=2;if(e.length<n)return!1;var i=new t.CardPointHelper(e);for(var o in i.pointNumbers){var r=i.pointNumbers[o];if(r>=n)return!0}return!1},e.containLiaDui=function(t){return t.length<4?!1:!1},e.findDuiZi=function(t){var e=this.findSanTiao(t)||[],n=this.findPointByLength(t,2)||[];if(n.length<2){e.length>0&&e.forEach(function(t){var e=[t[0],t[1]];n.push(e)});for(var i=this.findByGuiPai(t,2),o=0;o<i.length;o++)n.push(i[o])}return n.length>0?n:[]},e.containSanTiao=function(t){return this.findSanTiao(t).length>0?!0:!1},e.containShunZi=function(t){return this.findShunZi(t).length>0?!0:!1},e.containTonghua=function(t){return this.findTongHua(t).length>0?!0:!1},e.containHulu=function(t){return this.findHuLu(t).length>0?!0:!1},e.containTieZhi=function(t){return this.findTieZhi(t).length>0?!0:!1},e.containTonghuaShun=function(t){return this.findTongHuaShun(t).length>0?!0:!1},e.findLiaDui=function(t){var e=this.findDuiZi(t)||[],n=this.findByGuiPai(t,2)||[];if(e.length<1&&n.length>0&&n.forEach(function(t){e.unshift(t)}),e.length<2)return[];for(var i=[],o=0;o<e.length;o++)for(var r=o+1;r<e.length&&i.length<10;r++){for(var s=e[o],a=e[r],h=s.concat(a),u=new Array,l=0;l<h.length&&-1==u.indexOf(h[l]);l++)u.push(h[l]);4==u.length&&(u.sort(function(t,e){return t.point-t.point}),i.unshift(u))}return i.length>6&&(i=i.slice(0,6)),i},e.findSanTiao=function(t){if(t.length<3)return[];var e=this.findPointByLength(t,3)||[];if(e.length<2){var n=this.findTieZhi(t);n.length>0&&n.forEach(function(t){var n=[t[0],t[1],t[2]];e.push(n)});for(var i=this.findByGuiPai(t,3),o=0;o<i.length;o++)e.push(i[o])}return e.length>0?e:[]},e.findTieZhi=function(t){var e=this.findPointByLength(t,4);if(e.length>0)return e;e=[];var n=this.findWuTong(t);return n.forEach(function(t){var n=[t[0],t[1],t[2],t[3]],i=[t[0],t[1],t[2],t[4]],o=[t[0],t[1],t[3],t[4]],r=[t[0],t[2],t[3],t[4]],s=[t[1],t[1],t[2],t[4]];e.push(n),e.push(i),e.push(o),e.push(r),e.push(s)}),e.length>10&&(e=e.slice(0,10)),e.length>0?e:this.findByGuiPai(t,4)},e.findWuTong=function(t){if(t.length<5)return[];var e=this.findPointByLength(t,5)||[];return e.length>0?e:this.findByGuiPai(t,5)},e.findShunZi=function(t,e){if(void 0===e&&(e=5),t.length<5)return[];var n=[],i=[];t.forEach(function(t){-1==i.indexOf(t.point)&&(n.push(t),i.push(t.point))}),n.sort(function(t,e){return t.point-e.point});for(var o=[],r=0;r+e<=n.length;r++){var s=n.slice(r,r+e);this.isShunZi(s,e)&&o.unshift(s)}return o.length>0?o:this.findShunZiGuiPai(t)},e.findTongHua=function(e,n){if(void 0===n&&(n=5),6==t.GameModel.ins.roomModel.rinfo.rp)return[];if(e.length<5)return[];var i=[];e.sort(this.sortByColor);for(var o=0;o+n<=e.length;++o){var r=e.slice(o,o+n);this.isTongHua(r,n)&&i.unshift(r)}return i.length>0?i:this.findTongHuaGuiPai(e)},e.findHuLu=function(t){if(t.length<5)return[];var e=this.findSanTiao(t),n=this.findTieZhi(t),i=this.findDuiZi(t)||[];if(i.length<=0&&(e.length>0&&e.forEach(function(t){var e=[t[0],t[1]],n=[t[1],t[2]];i.push(e),i.push(n)}),n.length>=0&&n.forEach(function(t){var e=[t[0],t[1]],n=[t[2],t[3]];i.push(e),i.push(n)})),i.length<=0||e.length<=0)return[];for(var o=[],r=0;r<i.length;r++)for(var s=[],a=i[r],h=0;h<e.length;h++){var u=e[h];s=a.concat(u);for(var l=0;l<s.length-1;l++){for(var c=s[l],d=l+1;d<s.length;d++)if(c==s[d]){s=null;break}if(null==s)break}null!=s&&o.unshift(s)}return o.length>10&&(o=o.slice(0,10)),o.length>0?o:this.findHuLuGuiPai(t)},e.findTongHuaShun=function(t,e){if(void 0===e&&(e=5),t.length<e)return[];for(var n=[],i=[],o=[],r=[],s=[],a=[],h=[],u=[],l=0;l<t.length;l++)4==t[l].type&&-1==u.indexOf(t[l].point)&&(r.push(t[l]),u.push(t[l].point)),3==t[l].type&&-1==h.indexOf(t[l].point)&&(o.push(t[l]),h.push(t[l].point)),2==t[l].type&&-1==a.indexOf(t[l].point)&&(i.push(t[l]),a.push(t[l].point)),1==t[l].type&&-1==s.indexOf(t[l].point)&&(n.push(t[l]),s.push(t[l].point));var c=[];r.length>=5&&(r.sort(this.sortByPoint),c.push(r)),o.length>=5&&(o.sort(this.sortByPoint),c.push(o)),i.length>=5&&(i.sort(this.sortByPoint),c.push(i)),n.length>=5&&(n.sort(this.sortByPoint),c.push(n));for(var d=[],p=0;p<c.length;p++)for(var m=c[p],_=0;_+5<=m.length;_++){var g=m.slice(_,_+5);this.isTongHuaShun(g)&&(g.sort(this.sortByPoint),d.unshift(g))}return d.length>0?d:this.findTongHuaShunGuiPai(t,5)},e.sortByColor=function(t,e,n){return void 0===n&&(n=!0),e.type==t.type?(t.point-e.point)*(n?1:-1):e.type-t.type},e.sortByPoint=function(t,e){return t.point-e.point},e.findByGuiPai=function(t,e){void 0===e&&(e=1);var n=t.concat([]),i=this.filtGuiPai(n);if(i.length<=0)return[];for(var o=[],r=1;r<=i.length;++r)for(var s=e-r,a=this.findPointByLength(n,s)||[],h=0;h<a.length;h++)if(2==e)for(var u=0;u<i.length;u++){var l=a[h].concat(i[u]);l.length==e&&o.push(l)}else{var l=a[h].concat(i.slice(0,r));l.length==e&&o.push(l)}return o.length>0?o:[]},e.findShunZiGuiPai=function(t,e){if(void 0===e&&(e=5),t.length<e)return[];var n=t.concat([]),i=this.filtGuiPai(n);n=this.deleteAryFormAry(n,i);for(var o=[],r=[],s=0;s<n.length;s++)-1==r.indexOf(n[s].point)&&(o.push(n[s]),r.push(n[s].point));o.sort(function(t,e){return t.point-e.point});for(var a=[],h=1;h<=i.length;++h)for(var u,l,c=e-h,d=function(n){if(u=o.slice(n,n+c),l=u[c-1].point-u[0].point<e){var r=[],s=i.slice(0,h);u=u.concat(s),u.forEach(function(e){for(var n=0;n<t.length;n++){var i=t[n];if(i===e){r.push(e);break}}}),r.sort(function(t,e){return t.point-e.point}),a.unshift(r)}},p=0;p+c<=o.length;++p)d(p);return a},e.findTongHuaShunGuiPai=function(t,e){if(t.length<e)return[];var n=t.concat([]),i=this.filtGuiPai(n);if(i.length<=0)return[];n=this.deleteAryFormAry(n,i);for(var o=[],r=[],s=[],a=[],h=[],u=[],l=[],c=[],d=0;d<n.length;d++)4==n[d].type?-1==h.indexOf(n[d].point)&&(h.push(n[d].point),o.push(n[d])):3==n[d].type?-1==u.indexOf(n[d].point)&&(u.push(n[d].point),r.push(n[d])):2==n[d].type?-1==l.indexOf(n[d].point)&&(l.push(n[d].point),s.push(n[d])):1==n[d].type&&-1==c.indexOf(n[d].point)&&(c.push(n[d].point),a.push(n[d]));for(var p=[o,r,s,a],m=[],d=0;d<p.length;d++)p[d].length>=5-i.length&&(p[d].sort(function(t,e){return t.point-e.point}),m.push(p[d]));for(var _=[],d=0;d<m.length;d++)for(var g=m[d],f=1;f<=i.length;++f)for(var y=5-f,C=function(e){var n=g.slice(e,e+y);console.log(y);var o=n[y-1].point-n[0].point<5;if(o){var r=[],s=i.slice(0,f);n=n.concat(s),n.forEach(function(e){for(var n=0;n<t.length;n++){var i=t[n];if(i===e){r.push(e);break}}}),r.sort(function(t,e){return t.point-e.point}),_.unshift(r)}},M=0;M+y<=g.length;++M)C(M);return _},e.findTongHuaGuiPai=function(t){if(t.length<5)return[];var e=t.concat([]),n=this.filtGuiPai(e);if(n.length<=0)return[];e=this.deleteAryFormAry(e,n),e.sort(this.sortByColor);for(var i=[],o=1;o<=n.length;++o)for(var r=5-o,s=function(s){var h=e.slice(s,s+r);if(a.isTongHua(h,r)){var u=[],l=n.slice(0,o);h=h.concat(l),h.forEach(function(e){for(var n=0;n<t.length;n++){var i=t[n];if(i===e){u.push(e);break}}}),u.sort(function(t,e){return t.point-e.point}),i.unshift(u)}},a=this,h=0;h+r<=e.length;++h)s(h);return i.length>0?i:[]},e.findHuLuGuiPai=function(t){var e=5;if(t.length<e)return[];var n=t.concat([]),i=this.filtGuiPai(n);if(i.length<=0)return[];var o=this.findByGuiPai(t,3),r=this.findByGuiPai(t,4),s=this.findByGuiPai(t,2);if(null==s&&(s=[]),o&&o.forEach(function(t){var e=[t[0],t[1]],n=[t[1],t[2]];s.unshift(e),s.unshift(n)}),r&&r.forEach(function(t){var e=[t[0],t[1]],n=[t[2],t[3]];s.unshift(e),s.unshift(n)}),null==s||null==o)return[];var a=[];return s.forEach(function(t){var e=t;o.forEach(function(n){e=t.concat(n);for(var i=0;i<e.length-1;i++){for(var o=e[i],r=i+1;r<e.length;r++)if(o==e[r]){e=null;break}if(null==e)break}null!==e&&a.unshift(e)})}),a.length>10&&(a=a.slice(0,10)),a.length>0?a:[]},e.filtGuiPai=function(t){if(t.length<=0)return[];var e=t.filter(function(t){return t.point>=65?t:void 0});return e||[]},e.isDuiZi=function(t){return this.findDuiZi(t).length>0?!0:!1},e.isLiangDui=function(t){return this.findLiaDui(t).length>0?!0:!1},e.isSanTiao=function(t){return this.findSanTiao(t).length>0?!0:!1},e.isHulu=function(t){return this.findHuLu(t).length>0?!0:!1},e.isTieZhi=function(t){return this.findTieZhi(t).length>0?!0:!1},e.isShunZi=function(t,e){if(void 0===e&&(e=5),t.length<e)return!1;t.sort(function(t,e){return t.point-e.point});for(var n=t[0].point,i=1;i<t.length;i++){if(t[i].point!=n+1)return!1;n+=1}return!0},e.isTongHua=function(t,e){if(void 0===e&&(e=5),t.length<e)return!1;for(var n=t[0].type,i=1;i<t.length;i++)if(t[i].type!=n)return!1;return!0},e.isTongHuaShun=function(t){return this.isTongHua(t)&&this.isShunZi(t)},e.isWuTong=function(t){return this.findWuTong(t).length>0},e.findPointByLength=function(t,e){if(t.length<e)return[];var n=new Object;t.forEach(function(t){var e=n[t.point]||[];n[t.point]=e,e.push(t)});var i=[];for(var o in n)for(var r=n[o];r.length>=e&&0!=e;){var s=r.splice(0,e);s.length>=e&&(s.sort(function(t,e){return t.type-e.type}),i.push(s))}return i.sort(function(t,e){var n=t[0],i=e[0];return n.point-i.point}),i.length>0?i:[]},e.SortCard=function(t){return t.sort(function(t,e){var n=e.point-t.point;return 0==n&&(n=e.type-t.type),n}),t},e.SortCardMinToMax=function(t){return t.sort(function(t,e){var n=t.point-e.point;return 0==n&&(n=t.type-e.type),n}),t},e.deleteAryFormAry=function(t,e){var n=[];return t.forEach(function(t){-1==e.indexOf(t)&&n.push(t)}),n},e.ChangeServerCardToClient=function(t){return 100*(parseInt((t/16).toString())+1)+t%16},e.ChangeClientToServer=function(t){return 16*(parseInt(String(t/100))-1)+parseInt(String(t%100))},e.ChangeClientArrToServer=function(t){for(var e=new Array,n=0;n<t.length;n++)e.push(this.ChangeClientToServer(t[n].data));return e},e.checkCanPutDown=function(e,n){var i=this.getPorkPaiXing(e),o=this.getPorkPaiXing(n);if(i>o)return!0;if(i==o){if(this.SortCard(e),this.SortCard(n),1==i)return this.checkWulong(e,n);if(2==i)return this.checkDuizi(e,n);if(3==i)return this.checkLiangDui(e,n);if(4==i)return this.checkSantiao(e,n);if(5==i)return this.checkShunzi(e,n);if(6==i)return this.checkTonghua(e,n);if(7==i)return this.checkHulu(e,n);if(8==i)return 6==t.GameModel.ins.roomModel.rinfo.rp?this.checkTonghuashun(e,n):this.checkTiezhi(e,n);if(9==i)return 6==t.GameModel.ins.roomModel.rinfo.rp?this.checkTiezhi(e,n):this.checkTonghuashun(e,n);if(10==i)return this.checkWutong(e,n)}return!1},e.checkWutong=function(t,e){return t[0].point>e[0].point?!0:!1},e.checkTonghuashun=function(t,e){return t[0].point>e[0].point?!0:t[0].point==e[0].point?!1:!1},e.checkTiezhi=function(t,e){var n=this.findPointByLength(t,4)[0],i=this.findPointByLength(e,4)[0];return n[0].point>i[0].point?!0:n[0].point<i[0].point?!1:!1},e.checkHulu=function(e,n){var i=this.findSanTiao(e),o=t.PorkUtilExtends.getRestCard1(i,e),r=this.findSanTiao(n),s=t.PorkUtilExtends.getRestCard1(r,n);return i[0].point>r[0].point?!0:i[0].point<r[0].point?!1:o[0].point>s[0].point?!0:o[0].point<s[0].point?!1:!1},e.checkTonghua=function(t,e){for(var n=0;n<t.length;n++){if(t[n].point>e[n].point)return!0;if(t[n].point<e[n].point)return!1}return!1},e.checkShunzi=function(t,e){return t[0].point>e[0].point?!0:t[0].point==e[0].point&&t[0].type>=e[0].type?!0:!1},e.checkSantiao=function(e,n){var i=this.findSanTiao(e)[0],o=this.findSanTiao(n)[0],r=i[0].point,s=o[0].point;return r>s?!0:r==s?this.checkWulong(t.PorkUtilExtends.getRestCard1(i,e),t.PorkUtilExtends.getRestCard1(o,n)):!1},e.checkLiangDui=function(e,n){var i=this.findDuiZi(e),o=this.findDuiZi(n),r=[i[0][0].point,i[1][0].point],s=[o[0][0].point,o[1][0].point];if(r.sort(function(t,e){return e-t}),s.sort(function(t,e){return e-t}),r[0]>s[0])return!0;if(r[0]==s[0]){if(r[1]>s[1])return!0;if(r[1]<s[1])return!1;var a=new t.CardPointsHelper(e),h=new t.CardPointsHelper(n),u=0,l=0;for(var c in a.pointNumbers){var d=a.pointNumbers[c];if(1==d){u=Number(c);break}}for(var c in h.pointNumbers){var d=h.pointNumbers[c];if(1==d){l=Number(c);break}}return u>l?!0:l>u?!1:!0}return!1},e.checkDuizi=function(e,n){var i=this.findDuiZi(e)[0],o=this.findDuiZi(n)[0],r=i[0].point,s=o[0].point;return r>s?!0:s>r?!1:this.checkWulong(t.PorkUtilExtends.getRestCard1(i,e),t.PorkUtilExtends.getRestCard1(o,n))},e.checkWulong=function(t,e){for(var n=0;n<t.length;n++){if(t[n].point>e[n].point)return!0;if(t[n].point<e[n].point)return!1}return!1},e.getPorkPaiXing=function(e){return this.findWuTong(e).length>0?10:this.findTongHuaShun(e).length>0?6==t.GameModel.ins.roomModel.rinfo.rp?8:9:this.findTieZhi(e).length>0?6==t.GameModel.ins.roomModel.rinfo.rp?9:8:this.findHuLu(e).length>0?7:this.findTongHua(e).length>0&&6!=t.GameModel.ins.roomModel.rinfo.rp?6:this.findShunZi(e).length>0?5:this.findSanTiao(e).length>0?4:this.findLiaDui(e).length>0?3:this.findDuiZi(e).length>0?2:1},e}();t.PorkUtil=e,__reflect(e.prototype,"game.PorkUtil")}(game||(game={}));var game;!function(t){var e=function(){function t(t,e){this.type=t,this.arr=e}return t}();t.TeShuVO=e,__reflect(e.prototype,"game.TeShuVO");var n=function(){function n(){}return n.getTeShuPai=function(t){switch(t){case 1:return"三尖刀";case 2:return"三顺子";case 3:return"三同花";case 4:return"六对半";case 5:return"王者荣耀";case 6:return"带同花顺三同花";case 7:return"带同花顺三顺子";case 8:return"带铁支六对半";case 9:return"五对冲三";case 10:return"凑一色";case 11:return"全小";case 12:return"全大";case 13:return"四套三条";case 14:return"三分天下（三炸弹）";case 15:return"一条龙";case 16:return"至尊清龙"}},n.isTeShuPai=function(t){if(t.length<13)return null;var n=[];return n=this.getQingLong(t),null!=n?new e(16,n):(n=this.getYiTiaoLong(t),null!=n?new e(15,n):(n=this.getSanFenTianXia(t),null!=n?new e(14,n):(n=this.getSiTaoSanTiao(t),null!=n?new e(13,n):(n=this.QuanDa(t),null!=n?new e(12,n):(n=this.QuanXiao(t),null!=n?new e(11,n):(n=this.getCouYiSe(t),null!=n?new e(10,n):(n=this.getWuDuiSanTiao(t),null!=n?new e(9,n):(n=this.getTieZhiLiuDuiBan(t),null!=n?new e(8,n):(n=this.getSanShunAndHasTongHua(t),null!=n?new e(7,n):(n=this.getSanTongHuaTongHuaShun(t),null!=n?new e(6,n):(n=this.getWangZhe(t),null!=n?new e(5,n):(n=this.isLiuDuiBan(t),null!=n?new e(4,n):(n=this.getSanTongHua(t),null!=n?new e(3,n):(n=this.getSanShunZi(t),null!=n?new e(2,n):(n=this.getSanJianDao(t),null!=n?new e(1,n):void 0)))))))))))))))},n.getQingLong=function(e){var n=13;if(e.length!=n)return null;for(var i=t.PorkUtil.filtGuiPai(e),o=[],r=[],s=[],a=[],h=0;h<e.length;h++)4==e[h].type?o.push(e[h]):3==e[h].type?r.push(e[h]):2==e[h].type?s.push(e[h]):1==e[h].type&&a.push(e[h]);for(var u=o.length,l=r.length,c=s.length,d=a.length,p=[u,l,c,d],m=[],h=0;h<p.length;h++)0!=p[h]&&m.push(p[h]);
return 1==m.length&&m[0]==13-i.length&&null!=this.getYiTiaoLong(e)?e:null},n.getYiTiaoLong=function(e){var n=13;if(e.length!=n)return null;for(var i=t.PorkUtil.filtGuiPai(e),o=e.filter(function(t){return t.point<65?t:void 0}).map(function(t){return t.point}).sort(function(t,e){return t-e}),r=0;r<o.length-1;r++)if(o[r]!=o[r+1]-1){if(!(i.length>0))return null;i.pop()}return e},n.getSanFenTianXia=function(e){var n=13;if(e.length<n)return null;var o=t.PorkUtil.filtGuiPai(e),r=4,s=new i(e),a=0;for(var h in s.pointNumbers)if(Number(h)<65){var u=s.pointNumbers[h];u==r?a+=1:u==r-1&&o.length>0?(o.pop(),a+=1):u==r-2&&o.length>1&&(o.pop(),o.pop(),a+=1)}return 3===a?e:null},n.getSiTaoSanTiao=function(e){var n=13;if(e.length<n)return null;var o=t.PorkUtil.filtGuiPai(e),r=3,s=new i(e),a=0;for(var h in s.pointNumbers){var u=s.pointNumbers[h];u==r?a+=1:u==r-1&&o.length>0?(o.pop(),a+=1):u==r-2&&o.length>1&&(o.pop(),o.pop(),a+=1)}return 4==a?e:null},n.QuanDa=function(t){for(var e=t,n=0;n<t.length;n++)if(t[n].point<8)return null;return e},n.QuanXiao=function(t){for(var e=t,n=0;n<t.length;n++)if(t[n].point>8&&501!=t[n].point&&502!=t[n].point)return null;return e},n.getCouYiSe=function(e){if(6==t.GameModel.ins.roomModel.rinfo.rp)return null;var n=13;if(e.length!=n)return null;for(var i=t.PorkUtil.filtGuiPai(e),o=[],r=[],s=0;s<e.length;s++)4==e[s].type||2==e[s].type?o.push(e[s]):(1==e[s].type||3==e[s].type)&&r.push(e[s]);return o.length+i.length==13||r.length+i.length==13?e:null},n.getWuDuiSanTiao=function(e){var n=13;if(e.length<n)return null;var i=t.PorkUtil.filtGuiPai(e),o=2,r=3,s=this.GetCardPointsSameCount(e),a=0,h=0;for(var u in s)if(Number(u)<65){var l=s[u];1==l&&i.length>0&&(l=2,i.pop()),l==o?a+=1:l==r?h+=1:l>=4&&(a+=2)}return 6==a&&i.length>0&&(a=5,h+=1),5==a&&1==h?e:null},n.getTieZhiLiuDuiBan=function(e){if(null!=this.isLiuDuiBan(e)&&this.containTieZhi(e)){var n=t.PorkUtil.findTieZhi(e),i=n[0],o=this.getRestCard1(i,e);return i.push(this.getResetSingle(o)),o=this.getRestCard1(i,e),o.concat(i)}return null},n.getSanShunAndHasTongHua=function(e){var n=13;if(e.length!=n)return null;var i=this.getSanShunZi(e);return null!=i&&(t.PorkUtil.isTongHua(i.slice(0,3),3)||t.PorkUtil.isTongHua(i.slice(3,8))||t.PorkUtil.isTongHua(i.slice(8,13)))?i:null},n.getSanTongHuaTongHuaShun=function(e){var n=this.getSanTongHua(e);return null!=n&&(t.PorkUtil.isShunZi(n.slice(0,3),3)||t.PorkUtil.isShunZi(n.slice(3,8))||t.PorkUtil.isShunZi(n.slice(8,13)))?n:null},n.getWangZhe=function(e){var n=e.concat([]),i=t.PorkUtil.filtGuiPai(n);return i.length<2?null:(this.checkHasMidAndDown(n,!0),null)},n.isLiuDuiBan=function(e){var n=13;if(e.length<n)return null;var i=t.PorkUtil.filtGuiPai(e),o=2,r=this.GetCardPointsSameCount(e),s=0,a=0;for(var h in r)if(Number(h)<65){var u=r[h];u==o||3==u?s+=1:4==u?s+=2:1==u&&(1==a&&i.length>0?(s+=1,i.pop()):a+=1)}return 6==s?e:null},n.getSanTongHua=function(e){if(6==t.GameModel.ins.roomModel.rinfo.rp)return null;var n=13;if(e.length!=n)return null;for(var i=t.PorkUtil.filtGuiPai(e),o=[],r=[],s=[],a=[],h=0;h<e.length;h++)4==e[h].type?o.push(e[h]):3==e[h].type?r.push(e[h]):2==e[h].type?s.push(e[h]):1==e[h].type&&a.push(e[h]);for(var u=o.length,l=r.length,c=s.length,d=a.length,p=[o,r,s,a],m=[],_=[u,l,c,d],g=[],h=0;h<_.length;h++)0!=_[h]&&(g.push(_[h]),m.push(p[h]));var f=[];if(3==g.length){for(var h=0;h<g.length;h++)5!=g[h]&&(2==g[h]&&i.length>0?m[h].push(i.pop()):4==g[h]&&i.length>0?m[h].push(i.pop()):1==g[h]&&i.length>1?(m[h].push(i.pop()),m[h].push(i.pop())):3==g[h]&&i.length>1&&(m[h].push(i.pop()),m[h].push(i.pop())));if(m[0].length+m[1].length+m[2].length<13)return null;m.sort(function(t,e){return t.length-e.length});for(var y=0;y<m.length;y++)for(var C=0;C<m[y].length;C++)f.push(m[y][C]);return f}return null},n._isSanTongHuaShun=function(e,n,i){return t.PorkUtil.isTongHuaShun(e)||t.PorkUtil.isTongHuaShun(n)||t.PorkUtil.isTongHuaShun(i)},n.isSanTaoHua=function(t){var e=13;if(t.length<e)return!1;var n=new o(t),i=[];for(var r in n.colorNumber)i.push(n.colorNumber[r]);return i.sort(function(t,e){return t-e}),3!=i.length?!1:3==i[0]&&5==i[1]&&5==i[2]?!0:!1},n.sanShunZi1=function(e,n){void 0===n&&(n=3);for(var i=t.PorkUtil.findShunZi(e,n),o=[],r=[],s=0;s<i.length;s++){for(var a=i[s],h=[],u=0;u<a.length;u++){var l=a[u];"undefined"!=typeof e[l]&&h.push(e[l])}r.push(a),o.push(h)}return[o,r]},n.getSanShunZi=function(t){var e=13;if(t.length!=e)return null;var n=t;n.sort(function(t,e){return t.point-e.point});var i=[];return i=this.fenzu(n.concat([]),5,5),null!=i?i:(i=this.fenzu(n.concat([]),5,3),null!=i?i:(i=this.fenzu(n.concat([]),3,5),null!=i?i:null))},n.getSanJianDao=function(e){var n=new i(e),o=0;for(var r in n.pointNumbers)o+=1;if(n.maxNumber>=3){var s=t.PorkUtil.findSanTiao(e),a=void 0,h=100;if(s.length>1)for(var u=0;u<s.length;u++)s[u][0].point<h&&(a=s[u],h=s[u][0].point);else{if(1!=s.length)return null;a=s[0]}var l=this.getRestCard(a,e.concat()),c=this.checkHasMidAndDown(l,!0);if(null!=c)return a.concat(c)}return null},n.containTongHuaShun=function(e,n){return void 0===n&&(n=5),e.length<n?!1:t.PorkUtil.findTongHuaShun(e).length>0?!0:!1},n.fenzu=function(e,n,i){for(var o=[],r=[],s=[],a=[],h=0;h<e.length-1;h++)if(0==h&&r.push(e[0]),e[h+1].point-e[h].point!=0&&(r.push(e[h+1]),r.length==n)){if(t.PorkUtil.isShunZi(r,n)){for(var u=0;u<r.length;u++)for(var l=0;l<e.length;l++)if(e[l]==r[u]){if(e[l]==e[l+1])continue;e.splice(l,1)}console.log("删除第一组后的number"),console.log(e);for(var c=0;c<e.length-1;c++)if(0==c&&s.push(e[0]),e[c+1].point-e[c].point!=0&&(s.push(e[c+1]),s.length==i)){if(t.PorkUtil.isShunZi(s,i)){for(var d=0;d<s.length;d++)for(var l=0;l<e.length;l++)if(e[l]==s[d]){if(e[l]==e[l+1])continue;e.splice(l,1)}if(console.log("删除第二组后的number"),console.log(e),a=e,t.PorkUtil.isShunZi(a,13-n-i)){var p=[r,s,a];p.sort(function(t,e){return t.length-e.length});for(var m=0;m<p.length;m++)for(var _=0;_<p[m].length;_++)o.push(p[m][_]);return o}return null}return null}}return null}return r.length<n?null:s.length<i?null:void 0},n.containTieZhi=function(t){var e=4;if(t.length<e)return!1;var n=new i(t);for(var o in n.pointNumbers){var r=n.pointNumbers[o];if(r>=e)return!0}return!1},n._colorClassCards=function(t){var e={};return t.forEach(function(t){var n=t.type,i=e[n];i||(i=[],e[n]=i),i.push(t)}),e},n.GetCardPointsSameCount=function(t){var e={};for(var n in t){var i=t[n].point;e[i]?e[i]++:e[i]=1}return e},n.getRestCard=function(t,e){for(var n=0;n<t.length;n++)for(var i=0;i<e.length;i++)if(t[n]==e[i]){e.splice(i,1);break}return e},n.getRestCard1=function(t,e){for(var n=t.concat([]),i=e.concat([]),o=0;o<n.length;o++)for(var r=0;r<i.length;r++)if(n[o]==i[r]){i.splice(r,1);break}return i},n.checkHasMidAndDown=function(e,n){void 0===n&&(n=!1);for(var i=[],o=t.PorkUtil.findTongHuaShun(e),r=0;r<o.length;r++){var s=o[r],a=this.getRestCard(o[r],e.concat());1==this.checkHasMidAndDown1(a,n)&&(i=1==t.PorkUtil.checkCanPutDown(s,a)?a.concat(s):s.concat(a))}if(0!=i.length)return i;o=t.PorkUtil.findTieZhi(e);for(var r=0;r<o.length;r++){var s=o[r],a=this.getRestCard(o[r],e.concat());1==this.checkHasMidAndDown1(a,n)&&(i=1==t.PorkUtil.checkCanPutDown(s,a)?a.concat(s):s.concat(a))}if(0!=i.length)return i;o=t.PorkUtil.findHuLu(e);for(var r=0;r<o.length;r++){var s=o[r],a=this.getRestCard(o[r],e.concat());1==this.checkHasMidAndDown1(a,n)&&(i=1==t.PorkUtil.checkCanPutDown(s,a)?a.concat(s):s.concat(a))}if(0!=i.length)return i;o=t.PorkUtil.findTongHua(e);for(var r=0;r<o.length;r++){var s=o[r],a=this.getRestCard(o[r],e.concat());1==this.checkHasMidAndDown1(a,n)&&(i=1==t.PorkUtil.checkCanPutDown(s,a)?a.concat(s):s.concat(a))}if(0!=i.length)return i;o=t.PorkUtil.findShunZi(e);for(var r=0;r<o.length;r++){var s=o[r],a=this.getRestCard(o[r],e.concat());1==this.checkHasMidAndDown1(a,n)&&(i=1==t.PorkUtil.checkCanPutDown(s,a)?a.concat(s):s.concat(a))}if(0!=i.length)return i;o=t.PorkUtil.findSanTiao(e);for(var r=0;r<o.length;r++){var s=o[r],a=this.getRestCard(o[r],e.concat());1==this.checkHasMidAndDown1(a,n)&&(i=1==t.PorkUtil.checkCanPutDown(s,a)?a.concat(s):s.concat(a))}return 0==i.length?null:i},n.checkHasMidAndDown1=function(e,n){if(void 0===n&&(n=!1),1==n){var i=t.PorkUtil.findSanTiao(e);if(i.length>0){var o=i[0];return e.sort(function(t,e){return t.point-e.point}),e[0].point==o[0].point&&e[1].point==o[1].point&&e.sort(function(t,e){return e.point-t.point}),!0}}return t.PorkUtil.containTonghuaShun(e)?!0:t.PorkUtil.containTieZhi(e)?!0:t.PorkUtil.containHulu(e)?!0:t.PorkUtil.containTonghua(e)?!0:t.PorkUtil.containShunZi(e)?!0:!1},n.getResetSingle=function(t){for(var e=t,n=e.length-1;n>0;n--)if(0==this.checkHasSameNum(e[n].point,e,1))return e[n];return e[e.length-1]},n.checkHasSameNum=function(t,e,n){for(var i=0,o=0;o<e.length;o++)e[o].point==t&&(i+=1);return i>n?!0:!1},n._isSanShunZi=function(e,n,i){return t.PorkUtil.isShunZi(e)&&t.PorkUtil.isShunZi(n)&&t.PorkUtil.isShunZi(i)},n.isShunZi1=function(t){for(var e=0;e<t.length-1;e++)if(t[e+1]-t[e]!=1)return!1;return!0},n}();t.PorkUtilExtends=n,__reflect(n.prototype,"game.PorkUtilExtends");var i=function(){function t(t){var e=this;this.pointNumbers={},t.forEach(function(t){var n=t.point,i=e.pointNumbers[n]||0;e.pointNumbers[n]=i+1})}return Object.defineProperty(t.prototype,"maxNumber",{get:function(){var t=0;for(var e in this.pointNumbers){var n=this.pointNumbers[e];t=Math.max(n,t)}return t},enumerable:!0,configurable:!0}),t}();t.CardPointsHelper=i,__reflect(i.prototype,"game.CardPointsHelper");var o=function(){function t(t){var e=this;this.colorNumber={},t.forEach(function(t){var n=t.type,i=e.colorNumber[n]||0;e.colorNumber[n]=i+1})}return Object.defineProperty(t.prototype,"maxNumber",{get:function(){var t=0;for(var e in this.colorNumber){var n=this.colorNumber[e];t=Math.max(n,t)}return t},enumerable:!0,configurable:!0}),t}();t.CardColorsHelper=o,__reflect(o.prototype,"game.CardColorsHelper")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.music=!0,t.sound=!0,t.bg=0,t}return __extends(n,e),Object.defineProperty(n,"ins",{get:function(){return null==this._ins&&(this._ins=new n),this._ins},enumerable:!0,configurable:!0}),n.prototype.init=function(){egret.localStorage.getItem("Thirting_Music")&&("true"==egret.localStorage.getItem("Thirting_Music")?this.music=!0:this.music=!1),egret.localStorage.getItem("Thirting_Sound")&&("true"==egret.localStorage.getItem("Thirting_Sound")?this.sound=!0:this.sound=!1),egret.localStorage.getItem("Thirting_Bg")&&(this.bg=Number(egret.localStorage.getItem("Thirting_Bg")),console.log(this.bg))},n.prototype.setMusic=function(){1==this.music?(egret.localStorage.setItem("Thirting_Music","false"),this.music=!1,App.MessageCenter.dispatch(t.MsgEnum.STOP_PLAY_MUSIC,!1)):(egret.localStorage.setItem("Thirting_Music","true"),this.music=!0,App.MessageCenter.dispatch(t.MsgEnum.STOP_PLAY_MUSIC,!0))},n.prototype.setSound=function(){1==this.sound?(egret.localStorage.setItem("Thirting_Sound","false"),this.sound=!1,App.MessageCenter.dispatch(t.MsgEnum.STOP_PLAY_SOUND,!1)):(egret.localStorage.setItem("Thirting_Sound","true"),this.sound=!0,App.MessageCenter.dispatch(t.MsgEnum.STOP_PLAY_SOUND,!0))},n.prototype.setBg=function(e){egret.localStorage.setItem("Thirting_Bg",e.toString()),this.bg=e,App.MessageCenter.dispatch(t.MsgEnum.CHANGE_BG)},n}(core.BaseClass);t.SettingModel=e,__reflect(e.prototype,"game.SettingModel")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t.prototype.invit=function(t){invit(t)},t.prototype.share=function(t){share(t)},t.prototype.shareRePlay=function(t){shareRePlay(t)},t}();t.WXUtil=e,__reflect(e.prototype,"game.WXUtil")}(game||(game={}));var game;!function(t){var e=function(){function e(){this.uname="Jack",this.uid="383928393",this.card=0,this.gold=0,this.avatar=""}return Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.setLoginData=function(t){this.uid=t.uid,this.card=t.card,this.gold=t.gold,this.uname=t.name,this.avatar=t.avatar},e.prototype.setRoomInfo=function(e){null==this.roomModel&&(this.roomModel=new t.RoomModel),this.roomModel.setRoomInfo(e)},e.prototype.setReConnectInfo=function(e){null==this.roomModel&&(this.roomModel=new t.RoomModel),this.roomModel.isReConnectInRoom=!0,this.roomModel.reConnectSetRoomInfo(e)},e.prototype.disMissRoom=function(){this.roomModel=null,egret.localStorage.removeItem("Thirting_Chat")},e.prototype.createRound=function(t){this.roomModel.addRound(t.card)},e.prototype.createRoundTest=function(){this.roundModel=new t.RoundModel,this.roundModel.myCard=t.PorkUtil.RuffleCard1(),this.roundModel.setAllType(),this.roundModel.myCard=t.PorkUtil.SortCard(this.roundModel.myCard),console.log(this.roundModel.cardStr)},e.prototype.createRoundTest1=function(e){this.roundModel=new t.RoundModel,this.roundModel.myCard=e,this.roundModel.setAllType(),this.roundModel.myCard=t.PorkUtil.SortCard(this.roundModel.myCard),console.log(this.roundModel.cardStr)},e}();t.GameModel=e,__reflect(e.prototype,"game.GameModel")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t.FLOAT_MSG="FLOAT_MSG",t.UPDATE_MYINFO="UPDATE_MYINFO",t.CREATE_ROOM="CREATE_ROOM",t.ENTER_ROOM_FAILD="ENTER_ROOM_FAILD",t.NEW_UESR_IN="NEW_UESR_IN",t.NEW_UESR_OUT="NEW_UESR_OUT",t.NEW_UESR_READY="NEW_UESR_READY",t.NEW_UESR_READY_CANCEL="NEW_UESR_READY_CANCEL",t.GAME_USER_DIAOXIAN="GAME_USER_DIAOXIAN",t.GAME_USER_DIAOXIAN_BACK="GAME_USER_DIAOXIAN_BACK",t.GAME_FAPAI="GAME_FAPAI",t.GAME_BAIPAI="GAME_BAIPAI",t.GAME_SINGLE_RESULT="GAME_SINGLE_RESULT",t.GAME_RESTART="GAME_RESTART",t.GAME_BEGIN_RESTART="GAME_BEGIN_RESTART",t.GAME_CHECK_SINGLE="GAME_CHECK_SINGLE",t.GAME_ASKFOR_DISMISS="GAME_ASKFOR_DISMISS",t.GAME_ANSWER_FOR_DISMISS="GAME_ANSWER_FOR_DISMISS",t.GAME_ANSWER_FAILED="GAME_ANSWER_FAILED",t.GAME_CHAT="GAME_CHAT",t.GAME_FLOWER="GAME_FLOWER",t.STOP_PLAY_MUSIC="STOP_PLAY_MUSIC",t.STOP_PLAY_SOUND="STOP_PLAY_SOUND",t.CHANGE_BG="CHANGE_BG",t.PLAY_NEXT="PLAY_NEXT",t}();t.MsgEnum=e,__reflect(e.prototype,"game.MsgEnum")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t}();t.OptModel=e,__reflect(e.prototype,"game.OptModel")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t}();t.PlayerVO=e,__reflect(e.prototype,"game.PlayerVO")}(game||(game={}));var game;!function(t){var e;!function(t){t[t.WuLong=0]="WuLong",t[t.DuiZi=1]="DuiZi",t[t.LiangDui=2]="LiangDui",t[t.SanTiao=3]="SanTiao",t[t.ShunZi=4]="ShunZi",t[t.TongHua=5]="TongHua",t[t.Hulu=6]="Hulu",t[t.TieZhi=7]="TieZhi",t[t.TongHuaShun=8]="TongHuaShun",t[t.SanJianDao=10]="SanJianDao",t[t.SanShunZi=11]="SanShunZi",t[t.SanTongHua=12]="SanTongHua",t[t.LiuDuiBan=13]="LiuDuiBan",t[t.WangZheRongYao=14]="WangZheRongYao",t[t.SanTongHuaAndTongHuaShun=15]="SanTongHuaAndTongHuaShun",t[t.TieZhiLiuDuiBan=16]="TieZhiLiuDuiBan",t[t.WuDuiSanChong=17]="WuDuiSanChong",t[t.CouYiSe=18]="CouYiSe",t[t.QuanXiao=19]="QuanXiao",t[t.QuanDa=20]="QuanDa",t[t.SiTaoSanTiao=21]="SiTaoSanTiao",t[t.SanFenTianXia=22]="SanFenTianXia",t[t.YiTiaoLong=23]="YiTiaoLong",t[t.ZhiZunQingLong=24]="ZhiZunQingLong"}(e=t.CardType||(t.CardType={}));var n=function(){function t(t){this.parse(t)}return t.prototype.parse=function(t){this.data=t,501==this.data||502==this.data?(this.type=5,this.point=this.data,this.showStr=""):(this.type=parseInt(String(t/100)),this.point=parseInt(String(t%100)),10==this.point?this.showStr="0":11==this.point?this.showStr="J":12==this.point?this.showStr="Q":13==this.point?this.showStr="K":14==this.point?this.showStr="A":this.showStr=this.point.toString(),4==this.type||2==this.type?this.font="ui://jow5n9bqrezh2j":this.font="ui://jow5n9bqmwp41e")},t}();t.PorkVO=n,__reflect(n.prototype,"game.PorkVO")}(game||(game={}));var game;!function(t){var e=function(){function t(){this.zuid="",this.zz=0}return t}();t.RoomInfo=e,__reflect(e.prototype,"game.RoomInfo");var n=function(){function t(){this._sc=0}return Object.defineProperty(t.prototype,"sc",{get:function(){return this._sc},set:function(t){this._sc=t},enumerable:!0,configurable:!0}),t}();t.User=n,__reflect(n.prototype,"game.User");var i=function(){function t(){this.resultScore=0}return t}();t.JieSuanAllItem=i,__reflect(i.prototype,"game.JieSuanAllItem");var o=function(){function o(){this.reConnectState=0,this.isDismiss=!1,this.isAllFinish=!1,this.hasPlayedJu=0,this.isReConnectInRoom=!1,this.isSingleOpen=!1}return o.prototype.setRoomInfo=function(i){this.roundArr=[],this.fname=i.fname,this.fuid=i.fuid,this.zuid=i.zuid,this.gps=i.gps,this.rid=i.rid,this.rinfo=new e,this.rinfo.fc=i.rinfo.fc,this.rinfo.rp=i.rinfo.rp,this.rinfo.friend=i.rinfo.friend,this.rinfo.jm=i.rinfo.jm,this.rinfo.nnum=i.rinfo.nnum,this.rinfo.pn=i.rinfo.pn,this.rinfo.safe=i.rinfo.safe,this.rinfo.snum=i.rinfo.snum,this.rinfo.zz=i.rinfo.zz,1==this.rinfo.zz&&(this.rinfo.zuid=this.zuid),null==this.users&&(this.users=new Array);for(var o=0;o<i.users.length;o++)if(""!=i.users[o].uid){var r=new n;r.avatar=i.users[o].avatar,r.card=i.users[o].card,r.gold=i.users[o].gold,r.gps=i.users[o].gps,r.name=i.users[o].name,r.status=i.users[o].status,r.tid=i.users[o].tid,r.uid=i.users[o].uid,this.checkisNew(r)}for(var o=0;o<this.users.length;o++)if(this.users[o].uid==t.GameModel.ins.uid){var s=this.users.splice(o,1)[0];this.users.unshift(s)}},o.prototype.reConnectSetRoomInfo=function(i){this.roundArr=[],this.fname=i.fname,this.fuid=i.fuid,this.rid=i.rid,this.ju=i.ju,this.js=i.js,this.jt=i.jt,this.of=i.of,this.rinfo=new e,this.rinfo.fc=i.rinfo.fc,this.rinfo.friend=i.rinfo.friend,this.rinfo.jm=i.rinfo.jm,this.rinfo.nnum=i.rinfo.nnum,this.rinfo.pn=i.rinfo.pn,this.rinfo.rp=i.rinfo.rp,this.rinfo.safe=i.rinfo.safe,this.rinfo.snum=i.rinfo.snum,this.rinfo.zuid=i.dealer,this.rinfo.zz=i.rinfo.zz,this.reConnectState=i.status,null==this.users&&(this.users=new Array);for(var o=0;o<i.users.length;o++)if(""!=i.users[o].uid){var r=new n;r.avatar=i.users[o].avatar,r.card=i.users[o].hc,r.gold=i.users[o].gold,r.gps=i.users[o].gps,r.name=i.users[o].name,r.status=i.users[o].rd,r.tid=i.users[o].pos,r.uid=i.users[o].uid,r.bp=i.users[o].bp,r.sc=i.users[o].sc,this.checkisNew(r)}for(var o=0;o<this.users.length;o++)if(this.users[o].uid==t.GameModel.ins.uid){null!=this.users[o].card&&this.addRound(this.users[o].card);var s=this.users.splice(o,1)[0];this.users.unshift(s)}},o.prototype.removeUser=function(t){for(var e=0;e<this.users.length;e++)if(t==this.users[e].uid){this.users.splice(e,1);break}},o.prototype.getUserById=function(t){for(var e=0;e<this.users.length;e++)if(t==this.users[e].uid)return this.users[e]},o.prototype.checkisNew=function(e){for(var n=!0,i=0;i<this.users.length;i++)if(e.uid==this.users[i].uid){n=!1;break}n&&(this.users.push(e),e.uid==this.fuid&&(this.fzInfo=e),e.uid==t.GameModel.ins.uid&&(this.meInfo=e),App.MessageCenter.dispatch(t.MsgEnum.NEW_UESR_IN,e))},o.prototype.addRound=function(e){var n=new t.RoundModel;n.serverCard=e;for(var i=new Array,o=0;o<e.length;o++){var r=t.PorkUtil.ChangeServerCardToClient(e[o]),s=new t.PorkVO(r);i.push(s)}n.myCard=i,n.setAllType(),n.myCard=t.PorkUtil.SortCard(n.myCard),t.GameModel.ins.roundModel=n,this.roundArr.push(n),console.log(n.cardStr)},o.prototype.setJieSuanAll=function(t){this.isAllFinish=!0,this.jieSuanAll=[],this.hasPlayedJu=0;for(var e in t.sc){var n=new i;n.uid=e,n.scoreArr=t.sc[e],this.hasPlayedJu=n.scoreArr.length;for(var o=0;o<n.scoreArr.length;o++)n.resultScore+=n.scoreArr[o];this.jieSuanAll.push(n)}this.jieSuanAll.sort(function(t,e){return e.resultScore-t.resultScore})},o.prototype.checkIsOffLine=function(t){return null==this.of?!1:this.of.indexOf(t)<0?!1:!0},o.prototype.getIsAccept=function(t){console.log(t);for(var e in this.ju)if(t==e){if(1==this.ju[e])return 1;if(0==this.ju[e])return 0}return-1},o.prototype.getTidByUid=function(t){for(var e=0;e<this.users.length;e++)if(this.users[e].uid==t)return this.fuid==t?0:this.users[e].tid;return 1},o}();t.RoomModel=o,__reflect(o.prototype,"game.RoomModel")}(game||(game={}));var game;!function(t){var e;!function(t){t[t.Error=255]="Error",t[t.None=0]="None",t[t.Single=1]="Single",t[t.Double=2]="Double",t[t.TwoDouble=3]="TwoDouble",t[t.Three=4]="Three",t[t.ShunZi=5]="ShunZi",t[t.TongHua=6]="TongHua",t[t.Gourd=7]="Gourd",t[t.Bomb=8]="Bomb",t[t.TongHuaShun=9]="TongHuaShun",t[t.FiveBomb=10]="FiveBomb"}(e||(e={}));var n=function(){function t(){}return t}();t.Result=n,__reflect(n.prototype,"game.Result");var i=function(){function t(){}return t}();t.ResultCard=i,__reflect(i.prototype,"game.ResultCard");var o=function(){function t(){this.tarIds=[]}return t}();t.DaQiang=o,__reflect(o.prototype,"game.DaQiang");var r=function(){function t(){}return t}();t.TeSuPaiTarget=r,__reflect(r.prototype,"game.TeSuPaiTarget");var s=function(){function t(){}return t}();t.Win=s,__reflect(s.prototype,"game.Win");var a=function(){function t(){}return t}();t.ZZOtherScore=a,__reflect(a.prototype,"game.ZZOtherScore");var h=function(){function t(){}return t}();t.QLDTarget=h,__reflect(h.prototype,"game.QLDTarget");var u=function(){function e(){}return e.prototype.initRS=function(){if(this.scoretop=0,this.scoremid=0,this.scoredown=0,this.dq=new Array,this.otherScores=new Array,this.wins=[],this.ql>0&&(this.qlTar=new h,this.qlTar.uid=this.uid,this.qlTar.tarUidArr=[]),this.px>0&&(this.tesuPaiTarArr=[]),this.mapaiTarArr=[],0==t.GameModel.ins.roomModel.rinfo.zz){if(this.uid==t.GameModel.ins.uid)for(var e=0;e<this.rs.length;e++)this.rs[e].mp>0&&this.mapaiTarArr.push(this.rs[e].uid)}else for(var e=0;e<this.rs.length;e++)this.rs[e].mp>0&&this.mapaiTarArr.push(this.rs[e].uid);for(var e=0;e<this.rs.length;e++){var n=this.rs[e],i=new o;if(this.dq.push(i),0==t.GameModel.ins.roomModel.rinfo.zz)this.uid==t.GameModel.ins.uid?(this.scoretop+=n.sc1,this.scoremid+=n.sc2,this.scoredown+=n.sc3):n.uid==t.GameModel.ins.uid&&(this.scoretop=n.sc1,this.scoremid=n.sc2,this.scoredown=n.sc3);else{this.scoretop+=n.sc1,this.scoremid+=n.sc2,this.scoredown+=n.sc3;var u=new a;u.uid=n.uid,u.topscore=n.sc1,u.midscore=n.sc2,u.downscore=n.sc3,this.otherScores.push(u)}if(this.px>0){var l=new r;l.uid=n.uid,l.tc=n.tc,this.tesuPaiTarArr.push(l)}1==n.dq&&(i.uid=this.uid,-1==i.tarIds.indexOf(n.uid)&&i.tarIds.push(n.uid),null!=this.qlTar&&this.qlTar.tarUidArr.push(n.uid)),1==t.GameModel.ins.roomModel.rinfo.zz&&-1==n.dq&&(i.uid=n.uid,-1==i.tarIds.indexOf(this.uid)&&i.tarIds.push(this.uid));var c=new s;c.uid=n.uid,c.w1=n.w1,c.w2=n.w2,c.w3=n.w3,this.wins.push(c)}this.scoretop*=-1,this.scoremid*=-1,this.scoredown*=-1,this.scoretopstr=this.scoretop>0?"+"+this.scoretop:this.scoretop.toString(),this.scoremidstr=this.scoremid>0?"+"+this.scoremid:this.scoremid.toString(),this.scoredownstr=this.scoredown>0?"+"+this.scoredown:this.scoredown.toString()},e.prototype.getTeSuPaiTarByUid=function(t){for(var e=0;e<this.tesuPaiTarArr.length;e++)if(this.tesuPaiTarArr[e].uid==t)return this.tesuPaiTarArr[e];return null},e.prototype.getDQFanBeiScore=function(t){for(var e=0;e<this.rs.length;e++){var n=this.rs[e];if(t==n.uid)return n}return null},e.prototype.getotherScoreById=function(t){for(var e=0;e<this.otherScores.length;e++)if(this.otherScores[e].uid==t)return this.otherScores[e];return null},e.prototype.getWinById=function(t){for(var e=0;e<this.wins.length;e++)if(this.wins[e].uid==t)return this.wins[e];return null},e}();t.ResultBP=u,__reflect(u.prototype,"game.ResultBP");var l=function(){function e(){this.cardStr="",this.typeClickCount1=0,this.typeClickCount2=0,this.typeClickCount3=0,this.typeClickCount4=0,this.typeClickCount5=0,this.typeClickCount6=0,this.typeClickCount7=0,this.typeClickCount8=0,this.typeClickCount9=0}return Object.defineProperty(e.prototype,"listCard",{get:function(){return this._listCard},set:function(e){this._listCard=e,this.setAllType(),this.typeClickCount1=0,this.typeClickCount2=0,this.typeClickCount3=0,this.typeClickCount4=0,this.typeClickCount5=0,this.typeClickCount6=0,this.typeClickCount7=0,this.typeClickCount8=0,this.typeClickCount9=0,t.PorkUtil.SortCard(this._listCard)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"myCard",{get:function(){return this._myCard},set:function(t){this._myCard=t,this.listCard=t,this.cardStr="";for(var e=0;e<this._myCard.length;e++)this.cardStr+=this._myCard[e].point+","},enumerable:!0,configurable:!0}),e.prototype.jieSuanSingle=function(e){this.result=new n,this.result.cards=new Array,this.result.bipai=new Array;for(var o=0,r=e.sc;o<r.length;o++){var s=r[o],a=new i;a.cards=new Array;for(var h=[],l=[],c=[],d=0;d<s.cds.length;d++){var p=new t.PorkVO(t.PorkUtil.ChangeServerCardToClient(s.cds[d]));d>=0&&3>d&&h.push(p),d>=3&&8>d&&l.push(p),d>=8&&13>d&&c.push(p)}h=t.PorkUtil.SortCard(h),l=t.PorkUtil.SortCard(l),c=t.PorkUtil.SortCard(c),a.cards=h.concat(l).concat(c),a.uid=s.uid,a.sc=s.sc,a.ty=s.ty,a.ty1=s.ty1,a.ty2=s.ty2,a.ty3=s.ty3,a.tid=t.GameModel.ins.roomModel.getTidByUid(a.uid),this.result.cards.push(a),this.setUserScore(a.uid,a.sc)}this.result.cards.sort(function(t,e){return t.tid-e.tid});for(var m=0,_=e.bp;m<_.length;m++){var g=_[m],f=new u;f.px=g.px,f.ql=g.ql,f.rs=g.rs,f.uid=g.uid,f.initRS(),this.result.bipai.push(f)}App.MessageCenter.dispatch(t.MsgEnum.GAME_SINGLE_RESULT)},e.prototype.setUserScore=function(e,n){t.GameModel.ins.roomModel.getUserById(e).sc+=n},e.prototype.setAllType=function(){this.duizi=t.PorkUtil.findDuiZi(this._listCard),this.santiao=t.PorkUtil.findSanTiao(this._listCard),this.liadui=t.PorkUtil.findLiaDui(this._listCard),this.shunzi=t.PorkUtil.findShunZi(this._listCard),this.tonghua=t.PorkUtil.findTongHua(this._listCard),this.hulu=t.PorkUtil.findHuLu(this._listCard),this.tiezhi=t.PorkUtil.findTieZhi(this._listCard),this.tonghuashun=t.PorkUtil.findTongHuaShun(this._listCard),this.wutong=t.PorkUtil.findWuTong(this._listCard)},e.prototype.getTypeByClick=function(e){var n=[];switch(e){case"btntype1":if(this.typeClickCount1==this.duizi.length)n=[],this.typeClickCount1=0;else{n=this.duizi[this.typeClickCount1%this.duizi.length].concat();var i=this.getResetSingleThree(n);n=n.concat(i),this.typeClickCount1+=1}break;case"btntype2":this.typeClickCount2==this.liadui.length?(n=[],this.typeClickCount2=0):(n=this.liadui[this.typeClickCount2%this.liadui.length].concat(),this.typeClickCount2+=1,n.push(this.getResetSingle(n)));break;case"btntype3":if(this.typeClickCount3==this.santiao.length)n=[],this.typeClickCount3=0;else{n=this.santiao[this.typeClickCount3%this.santiao.length].concat();var i=this.getResetSingleTwo(n);n=n.concat(i),this.typeClickCount3++}break;case"btntype4":this.typeClickCount4==this.shunzi.length?(n=[],this.typeClickCount4=0):(n=this.shunzi[this.typeClickCount4%this.shunzi.length].concat(),this.typeClickCount4++);break;case"btntype5":this.typeClickCount5==this.tonghua.length?(n=[],this.typeClickCount5=0):(n=this.tonghua[this.typeClickCount5%this.tonghua.length].concat(),this.typeClickCount5++);break;case"btntype6":this.typeClickCount6==this.hulu.length?(n=[],this.typeClickCount6=0):(n=this.hulu[this.typeClickCount6%this.hulu.length].concat(),this.typeClickCount6++);break;case"btntype7":6==t.GameModel.ins.roomModel.rinfo.rp?this.typeClickCount8==this.tonghuashun.length?(n=[],this.typeClickCount8=0):(n=this.tonghuashun[this.typeClickCount8%this.tonghuashun.length].concat(),this.typeClickCount8++):this.typeClickCount7==this.tiezhi.length?(n=[],this.typeClickCount7=0):(n=this.tiezhi[this.typeClickCount7%this.tiezhi.length].concat(),this.typeClickCount7++,n.push(this.getResetSingle(n)));break;case"btntype8":6==t.GameModel.ins.roomModel.rinfo.rp?this.typeClickCount7==this.tiezhi.length?(n=[],this.typeClickCount7=0):(n=this.tiezhi[this.typeClickCount7%this.tiezhi.length].concat(),this.typeClickCount7++,n.push(this.getResetSingle(n))):this.typeClickCount8==this.tonghuashun.length?(n=[],this.typeClickCount8=0):(n=this.tonghuashun[this.typeClickCount8%this.tonghuashun.length].concat(),this.typeClickCount8++);break;case"btntype9":this.typeClickCount9==this.wutong.length?(n=[],this.typeClickCount9=0):(n=this.wutong[this.typeClickCount9%this.wutong.length].concat(),this.typeClickCount9++)}return n},e.prototype.getResetSingle=function(t){for(var e=[],n=0;n<this._listCard.length;n++){var i=this._listCard[n];t.indexOf(i)<0&&e.push(i)}for(var n=e.length-1;n>0;n--)if(0==this.checkHasSameNum(e[n].point,e,1)&&0==this.checkHasSameNum(e[n].point,t,0))return e[n];return e[e.length-1]},e.prototype.getResetSingleThree=function(t){for(var e=[],n=[],i=0;i<this._listCard.length;i++){var o=this._listCard[i];t.indexOf(o)<0&&e.push(o)}for(var i=e.length-1;i>0;i--)0==this.checkHasSameNum(e[i].point,e,1)&&0==this.checkHasSameNum(e[i].point,t,0)&&n.push(e[i]);return n.length>2?n.slice(0,3):n},e.prototype.getResetSingleTwo=function(t){for(var e=[],n=[],i=0;i<this._listCard.length;i++){var o=this._listCard[i];t.indexOf(o)<0&&e.push(o)}for(var i=e.length-1;i>0;i--)0==this.checkHasSameNum(e[i].point,e,1)&&0==this.checkHasSameNum(e[i].point,t,0)&&n.push(e[i]);return n.length>1?n.slice(0,2):n},e.prototype.getResultBPByUid=function(t){for(var e=0;e<this.result.bipai.length;e++)if(this.result.bipai[e].uid==t)return this.result.bipai[e];return null},e.prototype.checkHasSameNum=function(t,e,n){for(var i=0,o=0;o<e.length;o++)e[o].point==t&&(i+=1);return i>n?!0:!1},e}();t.RoundModel=l,__reflect(l.prototype,"game.RoundModel")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){},t}();t.NoticeModel=e,__reflect(e.prototype,"game.NoticeModel")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t}();t.NoticeVO=e,__reflect(e.prototype,"game.NoticeVO")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t}();t.RankModel=e,__reflect(e.prototype,"game.RankModel")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t}();t.RankVO=e,__reflect(e.prototype,"game.RankVO")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t}();t.ShuoMingVO=e,__reflect(e.prototype,"game.ShuoMingVO")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Activity.UI_Activity.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fak",t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e}(PopModuleView);t.ActivityModule=e,__reflect(e.prototype,"game.ActivityModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.code="",e}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.BuyCard.UI_BuyCard.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_btn_close.addClickListener(this.onCloseClick,this),this.mContent.m_txt_input.addEventListener(egret.TextEvent.CHANGE,this.inputHandle,this),this.mContent.m_txt_input.alpha=0,t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e.prototype.inputHandle=function(t){this.code=this.mContent.m_txt_input.text,this.code=this.code.substr(0,6);for(var e=this.code.split(""),n=0;6>n;n++)null!=e[n]&&""!=e[n]?this.mContent["m_txt_input"+(n+1)].text=e[n]:this.mContent["m_txt_input"+(n+1)].text=""
},e}(PopModuleView);t.BuyCardModule=e,__reflect(e.prototype,"game.BuyCardModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.vv="",e}return __extends(e,t),e.prototype.setData=function(t){this.vv=t,this.m_img.text=t},e}(UI.Game.UI_EmojiItem);t.ChatEmojiItem=e,__reflect(e.prototype,"game.ChatEmojiItem")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(t){this.m_txt_time.text=t.time,"%%-"==t.str.slice(0,3)&&"-%%"==t.str.slice(t.str.length-3,t.str.length)?(this.m_txt_content.font="ui://jow5n9bqd8n86l",this.m_txt_content.text=t.str.slice(3,t.str.length-3)):(this.m_txt_content.font="",this.m_txt_content.text=t.str),this.m_txt_name.text=t.uname+":"},e}(UI.Game.UI_ChatItem);t.ChatItem=e,__reflect(e.prototype,"game.ChatItem")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t.prototype.init=function(){if(this.arr=[],this.arr_his=[],egret.localStorage.getItem("Thirting_Chat"))for(var t=JSON.parse(egret.localStorage.getItem("Thirting_Chat")),e=0;e<t.length;e++){var n=Number(t[e].times)+432e6,i=(new Date).getTime();if(n>i){var o=new T2C_Chat;o.str=t[e].str,o.time=t[e].time,o.times=t[e].times,o.type=t[e].type,o.uid=t[e].uid,o.uname=t[e].uname,this.arr_his.push(o)}}},t.prototype.onReceive=function(t){this.arr.push(t),this.arr_his.push(t);var e=JSON.stringify(this.arr_his);egret.localStorage.setItem("Thirting_Chat",e)},t.prototype.dispose=function(){this.arr=[]},t}();t.ChatModel=e,__reflect(e.prototype,"game.ChatModel")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.emstr=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u"],t.yushestr=["赶紧的!!!打牌不是相面!","等等，人生的抉择~~","绝世好牌，等着掏钱吧~!","运气真差，随便都被打~","嘿，我就是枪神","别跑，战斗到底"],t}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Game.UI_ChatModule.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(n){this.mContent.m_panelBg.m_title.url="ui://i36kne80g2wj1e",e.prototype.preShow.call(this,n),App.MessageCenter.addListener(t.MsgEnum.GAME_CHAT,this.onReceive,this),this.mContent.m_ctrl.selectedIndex=0,this.mContent.m_btn_record.addClickListener(this.changeTab,this),this.mContent.m_btn_liaotian.addClickListener(this.changeTab,this),this.mContent.m_btn_biaoq.addClickListener(this.changeTab,this),this.mContent.m_btn_send.addClickListener(this.onSend,this),this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=t.ChatModel.ins.arr_his.length,this.mContent.m_listyushe.itemRenderer=this.YuSheRenderListItem,this.mContent.m_listyushe.callbackThisObj=this,this.mContent.m_listyushe.numItems=this.yushestr.length,this.mContent.m_listyushe.addEventListener(fairygui.ItemEvent.CLICK,this.onClickYuSheItem,this),this.mContent.m_list_emoji.itemRenderer=this.EmojiRenderListItem,this.mContent.m_list_emoji.callbackThisObj=this,this.mContent.m_list_emoji.numItems=21,this.mContent.m_list_emoji.addEventListener(fairygui.ItemEvent.CLICK,this.onClickItem,this),e.prototype.preShow.call(this,n)},n.prototype.show=function(n){t.ChatModel.ins.arr_his.length>0&&this.mContent.m_list.scrollToView(t.ChatModel.ins.arr_his.length-1),e.prototype.show.call(this,n)},n.prototype.onClickYuSheItem=function(e){var n=e.itemObject;t.ServerEngine.sendChat(n.str),ModuleMgr.ins.closeModule(this.moduleId)},n.prototype.onClickItem=function(e){var n=e.itemObject;t.ServerEngine.sendChat("%%-"+n.vv+"-%%"),ModuleMgr.ins.closeModule(this.moduleId)},n.prototype.changeTab=function(){},n.prototype.onSend=function(){""!=this.mContent.m_btn_input.text&&(t.ServerEngine.sendChat(this.mContent.m_btn_input.text),this.mContent.m_btn_input.text=""),ModuleMgr.ins.closeModule(this.moduleId)},n.prototype.onReceive=function(e){var n=this.mContent.m_list.addItemFromPool(t.ChatItem.URL);n.setData(e),this.mContent.m_list.scrollToView(t.ChatModel.ins.arr.length-1<0?0:t.ChatModel.ins.arr.length-1)},n.prototype.RenderListItem=function(e,n){var i=n;switch(this.mContent.m_ctrl.selectedIndex){case 0:i.setData(t.ChatModel.ins.arr_his[e]);break;case 1:i.setData(t.ChatModel.ins.arr[e])}},n.prototype.YuSheRenderListItem=function(t,e){var n=this.yushestr[t],i=e;i.setData(n)},n.prototype.EmojiRenderListItem=function(t,e){var n=this.emstr[t],i=e;i.setData(n)},n.prototype.preClose=function(e){App.MessageCenter.removeListener(t.MsgEnum.GAME_CHAT,this.onReceive,this),this.preCloseCpl()},n}(PopModuleView);t.ChatModule=e,__reflect(e.prototype,"game.ChatModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(t){this.str=t,this.m_txt_content.text=this.str},e}(UI.Game.UI_ChatYuSheItem);t.ChatYuSheItem=e,__reflect(e.prototype,"game.ChatYuSheItem")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.maxHuaSe=0,t.selectHuaSe=0,t.type=1,t}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.CreateRoom.UI_CreateRoom.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(t){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5faj",this.mContent.m_btn_type0.addClickListener(this.tabChange,this),this.mContent.m_btn_type1.addClickListener(this.tabChange,this),this.mContent.m_btn_type2.addClickListener(this.tabChange,this),this.mContent.m_btn_type3.addClickListener(this.tabChange,this),this.mContent.m_btn_type4.addClickListener(this.tabChange,this),this.mContent.m_check_5.addClickListener(this.checkJiayiSe,this),this.mContent.m_check_4.addClickListener(this.checkJiayiSe,this),this.mContent.m_check_3.addClickListener(this.checkJiayiSe,this),this.mContent.m_check_2.addClickListener(this.checkJiayiSe,this),this.mContent.m_radio_huase1.addClickListener(this.huaseAdd,this),this.mContent.m_radio_huase2.addClickListener(this.huaseAdd,this),this.mContent.m_radio_huase3.addClickListener(this.huaseAdd,this),this.mContent.m_radio_huase4.addClickListener(this.huaseAdd,this),this.mContent.m_checkbox_jiayise.addClickListener(this.jiayise,this),this.mContent.m_typeCtrl.selectedIndex=0,this.tabChange(null),this.mContent.m_btn_buy.addClickListener(this.onBuyHandle,this),this.mContent.m_btn_create.addClickListener(this.onCreateHandle,this),this.mContent.m_btn_paytype0.addClickListener(this.countCard,this),this.mContent.m_btn_paytype1.addClickListener(this.countCard,this),this.mContent.m_btn_junum0.addClickListener(this.countCard,this),this.mContent.m_btn_junum1.addClickListener(this.countCard,this),this.mContent.m_btn_junum2.addClickListener(this.countCard,this),this.countCard(),e.prototype.preShow.call(this,t)},n.prototype.countCard=function(){var t=6,e=2;switch(this.mContent.m_JuShuCtrl.selectedIndex){case 0:t=6;break;case 1:t=12;break;case 2:t=18}switch(this.mContent.m_NumCtrl.selectedIndex){case 0:e=2,3==this.mContent.m_typeCtrl.selectedIndex&&(e=6);break;case 1:e=3,4==this.mContent.m_typeCtrl.selectedIndex&&(e=5);break;case 2:e=4,4==this.mContent.m_typeCtrl.selectedIndex&&(e=6);break;case 3:e=5}0==this.mContent.m_payCtrl.selectedIndex?this.mContent.m_btn_create.m_txt_cardnum.text="X"+(t/6*e).toString():this.mContent.m_btn_create.m_txt_cardnum.text="X"+(t/6).toString()},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.checkJiayiSe=function(){2==this.mContent.m_typeCtrl.selectedIndex&&(1==this.mContent.m_check_5.selected?(this.mContent.m_checkbox_jiayise.selected=!0,this.mContent.m_huase.visible=!0):(this.mContent.m_checkbox_jiayise.selected=!1,this.mContent.m_huase.visible=!1)),this.countCard()},n.prototype.tabChange=function(t){switch(this.mContent.m_huase.visible=!0,this.mContent.m_checkbox_jiayise.selected=!1,this.mContent.m_typeCtrl.selectedIndex){case 0:this.type=2,this.mContent.m_payCtrl.selectedIndex=1,this.mContent.m_JuShuCtrl.selectedIndex=0,this.mContent.m_NumCtrl.selectedIndex=2,this.mContent.m_NumCtrl1.selectedIndex=0,this.mContent.m_checkbox_zhuang.selected=!1,this.mContent.m_checkbox_mapai.selected=!1,this.maxHuaSe=0,this.mContent.m_jiama.visible=!0,this.mContent.m_jiayise.visible=!1;break;case 1:this.type=3,this.mContent.m_payCtrl.selectedIndex=1,this.mContent.m_JuShuCtrl.selectedIndex=0,this.mContent.m_NumCtrl.selectedIndex=3,this.mContent.m_NumCtrl1.selectedIndex=1,this.mContent.m_checkbox_zhuang.selected=!1,this.mContent.m_checkbox_mapai.selected=!1,this.maxHuaSe=1,this.mContent.m_jiama.visible=!0,this.mContent.m_jiayise.visible=!1;break;case 2:this.type=4,this.mContent.m_payCtrl.selectedIndex=1,this.mContent.m_JuShuCtrl.selectedIndex=0,this.mContent.m_NumCtrl.selectedIndex=2,this.mContent.m_NumCtrl1.selectedIndex=1,this.mContent.m_checkbox_zhuang.selected=!1,this.mContent.m_checkbox_mapai.selected=!1,this.maxHuaSe=1,this.mContent.m_jiama.visible=!0,this.mContent.m_jiayise.visible=!0,this.mContent.m_huase.visible=!1;break;case 3:this.type=5,this.mContent.m_payCtrl.selectedIndex=1,this.mContent.m_JuShuCtrl.selectedIndex=0,this.mContent.m_NumCtrl.selectedIndex=0,this.mContent.m_NumCtrl1.selectedIndex=2,this.mContent.m_checkbox_zhuang.selected=!1,this.mContent.m_checkbox_mapai.selected=!1,this.maxHuaSe=2,this.mContent.m_jiama.visible=!0,this.mContent.m_jiayise.visible=!1;break;case 4:this.type=6,this.mContent.m_payCtrl.selectedIndex=1,this.mContent.m_JuShuCtrl.selectedIndex=0,this.mContent.m_NumCtrl.selectedIndex=2,this.mContent.m_NumCtrl1.selectedIndex=0,this.mContent.m_checkbox_zhuang.selected=!1,this.mContent.m_checkbox_mapai.selected=!1,this.maxHuaSe=1,this.mContent.m_jiama.visible=!1,this.mContent.m_jiayise.visible=!1;break;case 5:this.type=1,this.mContent.m_payCtrl.selectedIndex=1,this.mContent.m_JuShuCtrl.selectedIndex=0,this.mContent.m_NumCtrl.selectedIndex=2,this.mContent.m_NumCtrl1.selectedIndex=0,this.mContent.m_checkbox_zhuang.selected=!1,this.mContent.m_jiama.visible=!1,this.maxHuaSe=0,this.mContent.m_jiayise.visible=!1}for(var e=1;5>e;e++)this.mContent["m_radio_huase"+e].selected=!1;this.mContent.m_radio_huase1.selected=!0,3==this.mContent.m_typeCtrl.selectedIndex?this.mContent.m_num1.text="6人":4==this.mContent.m_typeCtrl.selectedIndex?(this.mContent.m_num1.text="2人",this.mContent.m_num2.text="5人",this.mContent.m_num3.text="6人"):(this.mContent.m_num1.text="2人",this.mContent.m_num2.text="3人",this.mContent.m_num3.text="4人"),this.selectHuaSe=1,this.countCard()},n.prototype.huaseAdd=function(e){if(1==this.maxHuaSe){for(var n=1;5>n;n++)this.mContent["m_radio_huase"+n].selected=!1;e.currentTarget.asButton.selected=!0,this.selectHuaSe=1}else 1==e.currentTarget.asButton.selected?this.selectHuaSe+=1:this.selectHuaSe-=1,this.maxHuaSe<this.selectHuaSe&&(e.currentTarget.asButton.selected=1==e.currentTarget.asButton.selected?!1:!0,this.selectHuaSe=this.maxHuaSe,t.AlertUtil.floatMsg("最多只能选择2个花色"))},n.prototype.jiayise=function(){1==this.mContent.m_checkbox_jiayise.selected?this.mContent.m_huase.visible=!0:this.mContent.m_huase.visible=!1},n.prototype.onBuyHandle=function(){ModuleMgr.ins.showModule(ModuleEnum.BUY_CARD),t.ServerEngine.leaveRooom()},n.prototype.onCreateHandle=function(){var e=this.getRoomInfo();t.ServerEngine.createRoom(e[0],e[1],e[2],e[3],e[4],e[5],e[6],core.Handler.create(this,this.createRoomCallBack))},n.prototype.getRoomInfo=function(){var t=this.type,e=2,n=6,i=1,o=0,r=1,s=[];switch(r=this.mContent.m_payCtrl.selectedIndex+1,i=this.mContent.m_checkbox_zhuang.selected?1:0,o=this.mContent.m_checkbox_mapai.selected?1:0,this.mContent.m_JuShuCtrl.selectedIndex){case 0:n=6;break;case 1:n=12;break;case 2:n=18}switch(this.mContent.m_NumCtrl.selectedIndex){case 0:e=2,3==this.mContent.m_typeCtrl.selectedIndex&&(e=6);break;case 1:e=3,4==this.mContent.m_typeCtrl.selectedIndex&&(e=5);break;case 2:e=4,4==this.mContent.m_typeCtrl.selectedIndex&&(e=6);break;case 3:e=5}return this.mContent.m_radio_huase1.selected&&s.push(0),this.mContent.m_radio_huase2.selected&&s.push(1),this.mContent.m_radio_huase3.selected&&s.push(2),this.mContent.m_radio_huase4.selected&&s.push(3),(0==this.mContent.m_typeCtrl.selectedIndex||5==this.mContent.m_typeCtrl.selectedIndex||0==this.mContent.m_checkbox_jiayise.selected&&2==this.mContent.m_typeCtrl.selectedIndex)&&(s=[]),[t,e,n,i,o,r,s]},n.prototype.createRoomCallBack=function(e){App.Socket.removeCmdListener(MsgType.CreateRoom,this.createRoomCallBack),App.MessageCenter.addListener(t.MsgEnum.NEW_UESR_IN,this.enterRoomCallBack,this),t.ServerEngine.enterRoom(e.rid)},n.prototype.enterRoomCallBack=function(e){e.uid==t.GameModel.ins.uid&&(App.MessageCenter.removeListener(t.MsgEnum.NEW_UESR_IN,this.enterRoomCallBack,this),ModuleMgr.ins.changeScene(ModuleEnum.GAME_MAIN,ModuleEnum.GAME))},n}(PopModuleView);t.CreateRoomModule=e,__reflect(e.prototype,"game.CreateRoomModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=new fairygui.GComponent,this.content.width=LayerCenter.stageWidth,this.content.height=LayerCenter.stageHeight},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(e){this.preShowCpl(),this.mContent.touchable=!1,App.MessageCenter.addListener(t.MsgEnum.FLOAT_MSG,this.floatMsg,this)},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.floatMsg=function(e,n){if(n==MsgType.LeaveRoom)t.AlertUtil.alert("您确定解散房间吗？",core.Handler.create(this,this.doQuit));else{var i=UI.Base.UI_FloatMsg.createInstance();i.m_txt.text=e,i.x=LayerCenter.stageWidth/2,i.y=LayerCenter.stageHeight/2,this.mContent.addChild(i),i.m_t0.play(this.playComplete,this,i)}},n.prototype.playComplete=function(t){App.DisplayUtils.removeFromParent(t.displayObject),t.dispose(),t=null},n.prototype.doQuit=function(){t.ServerEngine.askForDismiss()},n}(Module);t.FloatMsgModule=e,__reflect(e.prototype,"game.FloatMsgModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.setData=function(e,n){this.user=n,e==this.user.uid?this.m_txt_top.text="发起者":1==t.GameModel.ins.roomModel.getIsAccept(this.user.uid)?this.m_txt_top.text="同意":0==t.GameModel.ins.roomModel.getIsAccept(this.user.uid)?this.m_txt_top.text="拒绝":this.m_txt_top.text="投票中",this.m_txt_name.text=this.user.name,this.m_txt_score.text=this.user.sc.toString(),this.m_head.setURL(this.user.avatar)},n.prototype.setState=function(t){1==t?this.m_txt_top.text="同意":this.m_txt_top.text="拒绝"},n}(UI.Game.UI_DissolveHead);t.DissolveHead=e,__reflect(e.prototype,"game.DissolveHead")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.count=0,t}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Game.UI_DissolveRoom.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(n){this.mContent.m_panelBg.m_btn_close.visible=!1,this.msg=n,this.curHeadAry=[],this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=t.GameModel.ins.roomModel.users.length,this.mContent.m_btn_accept.addClickListener(this.accetpDismiss,this),this.mContent.m_btn_refuse.addClickListener(this.refuseDismiss,this),App.TimerManager.doTimer(1e3,this.msg.time,this.timeUp,this),this.msg.uid==t.GameModel.ins.uid&&(this.mContent.m_btn_accept.visible=!1,this.mContent.m_btn_refuse.visible=!1),App.MessageCenter.addListener(t.MsgEnum.GAME_ANSWER_FOR_DISMISS,this.otherPlayerAnswer,this),e.prototype.preShow.call(this,n)},n.prototype.timeUp=function(){this.count++,this.count>180&&(this.count=180,App.TimerManager.remove(this.timeUp,this));var t=parseInt(((this.msg.time-this.count)/60).toString()),e=(this.msg.time-this.count)%60;this.mContent.m_txt_count.text="倒计时:"+t+":"+(e>10?e:"0"+e)},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.onCloseHandle=function(){},n.prototype.accetpDismiss=function(){t.ServerEngine.sendAcceptOrRefuseDismiss(1),this.mContent.m_btn_accept.visible=!1,this.mContent.m_btn_refuse.visible=!1},n.prototype.refuseDismiss=function(){t.ServerEngine.sendAcceptOrRefuseDismiss(0),this.mContent.m_btn_accept.visible=!1,this.mContent.m_btn_refuse.visible=!1,ModuleMgr.ins.closeModule(this.moduleId)},n.prototype.RenderListItem=function(e,n){var i=n;i.setData(this.msg.uid,t.GameModel.ins.roomModel.users[e]),this.curHeadAry.push(i)},n.prototype.otherPlayerAnswer=function(e){var n=this.getPlayerById(e.uid);null!=n&&n.setState(e.act),e.uid!=t.GameModel.ins.uid&&0==e.act&&(t.AlertUtil.floatMsg(t.GameModel.ins.roomModel.getUserById(e.uid).name+"不同意解散房间."),ModuleMgr.ins.closeModule(this.moduleId))},n.prototype.getPlayerById=function(t){for(var e=0;e<this.curHeadAry.length;e++)if(this.curHeadAry[e].user.uid==t)return this.curHeadAry[e];return null},n.prototype.preClose=function(e){App.MessageCenter.removeListener(t.MsgEnum.GAME_ANSWER_FOR_DISMISS,this.otherPlayerAnswer,this),App.TimerManager.remove(this.timeUp,this),this.preCloseCpl()},n}(PopModuleView);t.DissolveRoomModule=e,__reflect(e.prototype,"game.DissolveRoomModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.bgAry=["ui://9s4fd8dyrezh0","ui://9txxlsx2hmwn1","ui://98nj6h4xhmwn1"],t.wantToBreakHere=!1,t}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Game.UI_Game.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(e){App.SoundUtils.playSound("music_bg_game_mp3",1,0),this.readyArr=[],this.cur=this,this.mContent.m_sharetips.visible=!1,t.GameModel.ins.uid==t.GameModel.ins.roomModel.fuid?(this.mContent.m_btn_ready.visible=!1,this.mContent.m_btn_start.visible=!0):(this.mContent.m_btn_ready.visible=!0,this.mContent.m_btn_start.visible=!1),this.mContent.m_btn_continue.visible=!1,this.mContent.m_btn_ready.addClickListener(this.onReadyHandle,this),this.mContent.m_btn_start.addClickListener(this.onReadyHandle,this),this.mContent.m_btn_check.addClickListener(this.ShowPutPorkModule,this),this.mContent.m_btn_help.addClickListener(this.onHelp,this),this.mContent.m_btn_setting.addClickListener(this.onSetting,this),this.mContent.m_btn_quit.addClickListener(this.onQuit,this),this.mContent.m_btn_chat.addClickListener(this.onChat,this),this.mContent.m_btn_continue.addClickListener(this.onContinue,this),this.mContent.m_btn_invite.addClickListener(this.onInvite,this),this.mContent.m_btn_invite.visible=!1,this.mContent.m_btn_check.visible=!1,this.mContent.m_img_start.visible=!1,this.mContent.m_qld.visible=!1,this.mContent.m_bg.url=this.bgAry[t.SettingModel.ins.bg],this.preShowCpl(),this.mContent.m_playerNumCtrl.selectedPage=t.GameModel.ins.roomModel.rinfo.pn.toString(),this.setHead();for(var n=0;n<t.GameModel.ins.roomModel.users.length;n++)this.UserIn(t.GameModel.ins.roomModel.users[n]);switch(App.MessageCenter.addListener(t.MsgEnum.NEW_UESR_IN,this.UserIn,this),App.MessageCenter.addListener(t.MsgEnum.NEW_UESR_OUT,this.UserOut,this),App.MessageCenter.addListener(t.MsgEnum.NEW_UESR_READY,this.UserReady,this),App.MessageCenter.addListener(t.MsgEnum.NEW_UESR_READY_CANCEL,this.UserReadyCancel,this),App.MessageCenter.addListener(t.MsgEnum.GAME_FAPAI,this.FaPai,this),App.MessageCenter.addListener(t.MsgEnum.GAME_BAIPAI,this.BaiPaiCallBack,this),App.MessageCenter.addListener(t.MsgEnum.GAME_SINGLE_RESULT,this.showSingleResult,this),App.MessageCenter.addListener(t.MsgEnum.GAME_RESTART,this.gameRestart,this),App.MessageCenter.addListener(t.MsgEnum.GAME_BEGIN_RESTART,this.doRestart,this),App.MessageCenter.addListener(t.MsgEnum.GAME_CHECK_SINGLE,this.checkSingle,this),App.MessageCenter.addListener(t.MsgEnum.GAME_USER_DIAOXIAN,this.UserDiaoXian,this),App.MessageCenter.addListener(t.MsgEnum.GAME_USER_DIAOXIAN_BACK,this.UserDiaoXianBack,this),App.MessageCenter.addListener(t.MsgEnum.GAME_ASKFOR_DISMISS,this.UserAskForDismiss,this),App.MessageCenter.addListener(t.MsgEnum.GAME_ANSWER_FAILED,this.RoomDismissFailed,this),App.MessageCenter.addListener(t.MsgEnum.GAME_CHAT,this.onReceiveChat,this),App.MessageCenter.addListener(t.MsgEnum.STOP_PLAY_MUSIC,this.playMusic,this),App.MessageCenter.addListener(t.MsgEnum.CHANGE_BG,this.changeBg,this),App.MessageCenter.addListener(t.MsgEnum.GAME_FLOWER,this.flower,this),this.mContent.m_txt_room.text="房间号:"+t.GameModel.ins.roomModel.rid.toString(),t.GameModel.ins.roomModel.rinfo.rp){case 2:this.mContent.m_txt_roomtype.text="方片十三水";break;case 3:this.mContent.m_txt_roomtype.text="加一色十三水";break;case 4:this.mContent.m_txt_roomtype.text="大小王十三水";break;case 5:this.mContent.m_txt_roomtype.text="六人十三水";break;case 6:this.mContent.m_txt_roomtype.text="纯一色十三水"}if(this.mContent.m_txt_jushu.text="局数:"+t.GameModel.ins.roomModel.rinfo.nnum.toString()+"/"+t.GameModel.ins.roomModel.rinfo.snum.toString()+" "+t.GameModel.ins.roomModel.rinfo.pn.toString()+"人",t.GameModel.ins.roomModel.isReConnectInRoom){if(1==t.GameModel.ins.roomModel.reConnectState)for(var n=0;n<this.curHeadAry.length;n++){var i=this.curHeadAry[n];0==i.user.bp?(i.onFaPai(),i.user.uid==t.GameModel.ins.uid&&ModuleMgr.ins.showModule(ModuleEnum.GAME_PUT_PORK)):1==i.user.bp&&i.onBaiPaiEnd()}if(""!=t.GameModel.ins.roomModel.js){var o=new T2C_AskForDismiss;o.uid=t.GameModel.ins.roomModel.js,o.time=t.GameModel.ins.roomModel.jt,ModuleMgr.ins.showModule(ModuleEnum.DISSOLVE_ROOM,o)}}t.ChatModel.ins.init(),t.GameModel.ins.roomModel.users.length<t.GameModel.ins.roomModel.rinfo.pn&&t.GameModel.ins.uid==t.GameModel.ins.roomModel.fuid&&(this.mContent.m_btn_invite.visible=!0)},n.prototype.setHead=function(){this.head1=this.mContent.m_head1,this.head2=this.mContent.m_head2,this.head3=this.mContent.m_head3,this.head4=this.mContent.m_head4,this.head5=this.mContent.m_head5,this.head6=this.mContent.m_head6,this.head2.m_ctrlPos.selectedIndex=1,this.head2.m_pokers.m_c2.selectedIndex=1,this.head3.m_ctrlPos.selectedIndex=1,this.head3.m_pokers.m_c2.selectedIndex=1,this.head4.m_ctrlPos.selectedIndex=1,this.head4.m_pokers.m_c2.selectedIndex=1;for(var t=0;6>t;t++)this["head"+(t+1)].init();this.headAry=[[this.head1,this.head4],[this.head1,this.head3,this.head5],[this.head1,this.head3,this.head4,this.head5],[this.head1,this.head2,this.head3,this.head5,this.head6],[this.head1,this.head2,this.head3,this.head4,this.head5,this.head6]],this.curHeadAry=this.headAry[this.mContent.m_playerNumCtrl.selectedIndex],this.wantToBreakHere=!1},n.prototype.show=function(t){this.doInviteJs(),e.prototype.show.call(this,t)},n.prototype.UserIn=function(e){if(null==this.getPlayerById(e.uid)){t.GameModel.ins.roomModel.users.length<t.GameModel.ins.roomModel.rinfo.pn&&t.GameModel.ins.uid==t.GameModel.ins.roomModel.fuid?this.mContent.m_btn_invite.visible=!0:this.mContent.m_btn_invite.visible=!1;for(var n=0;n<this.curHeadAry.length;n++)if(0==this.curHeadAry[n].isInit){this.curHeadAry[n].setData(e),e.uid==t.GameModel.ins.uid&&1==e.status&&(this.mContent.m_btn_ready.visible=!1,this.mContent.m_btn_start.visible=!1);break}}},n.prototype.UserOut=function(e){if(e.uid==t.GameModel.ins.uid)this.leaveRoomCallBack();else{var n=this.getPlayerById(e.uid);null!=n&&n.init()}},n.prototype.onReadyHandle=function(){if(t.GameModel.ins.uid==t.GameModel.ins.roomModel.fuid){for(var e=0;e<this.curHeadAry.length;e++)if(null==this.curHeadAry[e].user)return void t.AlertUtil.floatMsg("玩家未到齐");for(var e=0;e<this.curHeadAry.length;e++)if(0==this.curHeadAry[e].user.status&&this.curHeadAry[e].user.uid!=t.GameModel.ins.uid)return void t.AlertUtil.floatMsg("玩家未准备");t.ServerEngine.sendReady()}else t.ServerEngine.sendReady()},n.prototype.UserReady=function(e){t.GameModel.ins.roomModel.isSingleOpen||1==this.mContent.m_btn_continue.visible?this.readyArr.push(e):this.doReady(e)},n.prototype.doReady=function(e){var n=this.getPlayerById(e.uid);null!=n&&(n.onReady(),e.uid==t.GameModel.ins.uid&&(this.mContent.m_btn_ready.visible=!1,this.mContent.m_btn_start.visible=!1))},n.prototype.UserReadyCancel=function(){this.mContent.m_btn_ready.visible=!1},n.prototype.FaPai=function(){this.mContent.m_txt_jushu.text="局数:"+t.GameModel.ins.roomModel.rinfo.nnum.toString()+"/"+t.GameModel.ins.roomModel.rinfo.snum.toString()+" "+t.GameModel.ins.roomModel.rinfo.pn.toString()+"人",this.mContent.m_img_start.visible=!0,this.mContent.m_t1.play(this.onStartEffectComplete,this),App.SoundUtils.playSound("start_mp3",0,1)},n.prototype.onStartEffectComplete=function(){this.mContent.m_img_start.visible=!1;for(var t=0;t<this.curHeadAry.length;t++)this.curHeadAry[t].onFaPai();App.TimerManager.doTimer(1e3,1,this.DoFaPai,this)},n.prototype.DoFaPai=function(){ModuleMgr.ins.showModule(ModuleEnum.GAME_PUT_PORK)},n.prototype.ShowPutPorkModule=function(){ModuleMgr.ins.showModule(ModuleEnum.GAME_PUT_PORK)},n.prototype.BaiPaiCallBack=function(t){var e=this.getPlayerById(t.uid);e&&e.onBaiPaiEnd()},n.prototype.doRestart=function(){this.mContent.m_txt_jushu.text="局数:"+t.GameModel.ins.roomModel.rinfo.nnum.toString()+"/"+t.GameModel.ins.roomModel.rinfo.snum.toString()+" "+t.GameModel.ins.roomModel.rinfo.pn.toString()+"人";for(var e=0;e<this.curHeadAry.length;e++)this.curHeadAry[e].restart(),t.GameModel.ins.uid==t.GameModel.ins.roomModel.fuid?(this.mContent.m_btn_ready.visible=!1,this.mContent.m_btn_start.visible=!0):(this.mContent.m_btn_ready.visible=!0,this.mContent.m_btn_start.visible=!1);for(var e=0;e<this.readyArr.length;e++)this.doReady(this.readyArr[e]);this.readyArr=[]},n.prototype.checkSingle=function(){this.mContent.m_btn_continue.visible=!0},n.prototype.showSingleResult=function(){this.doShowSingleResult().then(function(){ModuleMgr.ins.showModule(ModuleEnum.GAME_SINGLE_RESULT)})["catch"](function(t){return console.log("Exception happened:",t)})},n.prototype.doShowSingleResult=function(){return __awaiter(this,void 0,void 0,function(){var e,n,i,o,r,s,a,h,u,s,a,l,a,u,c,h,d,u,r,h,p,m,h,p,m,h,p,m,u,h,h,h,u,_,g,_,u,f,y,_,u,f;return __generator(this,function(C){switch(C.label){case 0:for(e=t.GameModel.ins.roundModel,n=e.result.bipai,i=e.result.cards,o=[],r=0;r<n.length;r++)n[r].px>0&&(s=e.result.bipai[r].uid,a=this.getPlayerById(s),a.showSpecial(),o.push(s));return[4,this.sleep(500)];case 1:C.sent(),h=0,C.label=2;case 2:if(!(3>h))return[3,7];u=0,C.label=3;case 3:return u<i.length?(s=i[u].uid,o.indexOf(s)<0?(a=this.getPlayerById(s),-1==o.indexOf(t.GameModel.ins.uid)?a.showResult(h,i[u],!1):a.showResult(h,i[u],!0),[4,this.sleep(1200)]):[3,5]):[3,6];case 4:C.sent(),C.label=5;case 5:return u++,[3,3];case 6:return h++,[3,2];case 7:return[4,this.sleep(1e3)];case 8:if(C.sent(),!(o.length>0))return[3,10];for(l=0;l<o.length;l++)for(a=this.getPlayerById(o[l]),u=0;u<i.length;u++)if(i[u].uid==o[l]&&(a.showSpecialResult(i[u]),c=t.GameModel.ins.roundModel.getResultBPByUid(i[u].uid),c.tesuPaiTarArr))for(h=0;h<c.tesuPaiTarArr.length;h++)d=this.getPlayerById(c.tesuPaiTarArr[h].uid),d.pokers.updateTeSuScore(c.tesuPaiTarArr[h]);return[4,this.sleep(500)];case 9:C.sent(),C.label=10;case 10:u=0,C.label=11;case 11:if(!(u<n.length))return[3,28];r=0,C.label=12;case 12:if(!(r<n[u].dq.length))return[3,27];if(1!=t.GameModel.ins.roomModel.rinfo.zz)return[3,17];h=0,C.label=13;case 13:return h<n[u].dq[r].tarIds.length?(p=this.getPlayerById(n[u].dq[r].uid),m=this.getPlayerById(n[u].dq[r].tarIds[h]),p.pokers.showFanBei(p.user.uid,m.user.uid),m.pokers.showFanBei(m.user.uid,p.user.uid),this.daQiang(p,m),[4,this.sleep(2500)]):[3,16];case 14:C.sent(),C.label=15;case 15:return h++,[3,13];case 16:return[3,26];case 17:if(n[u].dq[r].uid!=t.GameModel.ins.uid)return[3,22];h=0,C.label=18;case 18:return h<n[u].dq[r].tarIds.length?(p=this.getPlayerById(n[u].dq[r].uid),m=this.getPlayerById(n[u].dq[r].tarIds[h]),p.pokers.showFanBei(p.user.uid,m.user.uid),m.pokers.showFanBei(m.user.uid,p.user.uid),this.daQiang(p,m),[4,this.sleep(2500)]):[3,21];case 19:C.sent(),C.label=20;case 20:return h++,[3,18];case 21:return[3,26];case 22:h=0,C.label=23;case 23:return h<n[u].dq[r].tarIds.length?n[u].dq[r].tarIds[h]!=t.GameModel.ins.uid?[3,25]:(p=this.getPlayerById(n[u].dq[r].uid),m=this.getPlayerById(n[u].dq[r].tarIds[h]),p.pokers.showFanBei(p.user.uid,m.user.uid),m.pokers.showFanBei(m.user.uid,p.user.uid),this.daQiang(p,m),[4,this.sleep(2500)]):[3,26];case 24:C.sent(),C.label=25;case 25:return h++,[3,23];case 26:return r++,[3,12];case 27:return u++,[3,11];case 28:u=0,C.label=29;case 29:if(!(u<n.length))return[3,32];if(!(n[u].ql>0))return[3,31];if(this.mContent.m_qld.visible=!0,this.mContent.m_t3.play(this.qldComplete,this),1==t.GameModel.ins.roomModel.rinfo.zz)for(this.getPlayerById(n[u].qlTar.uid).pokers.UpDateULD(n[u]),h=0;h<n[u].qlTar.tarUidArr.length;h++)this.getPlayerById(n[u].qlTar.tarUidArr[h]).pokers.UpDateULD(n[u]);else if(n[u].qlTar.uid==t.GameModel.ins.uid)for(this.getPlayerById(n[u].qlTar.uid).pokers.UpDateULD(n[u]),h=0;h<n[u].qlTar.tarUidArr.length;h++)this.getPlayerById(n[u].qlTar.tarUidArr[h]).pokers.UpDateULD(n[u]);else for(this.getPlayerById(n[u].qlTar.uid).pokers.UpDateULD(n[u]),h=0;h<n[u].qlTar.tarUidArr.length;h++)n[u].qlTar.tarUidArr[h]==t.GameModel.ins.uid&&this.getPlayerById(n[u].qlTar.tarUidArr[h]).pokers.UpDateULD(n[u]);return[4,this.sleep(3e3)];case 30:C.sent(),C.label=31;case 31:return u++,[3,29];case 32:for(u=0;u<t.GameModel.ins.roomModel.users.length;u++)o.indexOf(t.GameModel.ins.roomModel.users[u].uid)<0&&(_=this.getPlayerById(t.GameModel.ins.roomModel.users[u].uid),_.pokers.showResultScore(!1,!0));if(0==t.GameModel.ins.roomModel.rinfo.zz){if(g=t.GameModel.ins.roundModel.getResultBPByUid(t.GameModel.ins.uid),null!=g&&g.mapaiTarArr.length>0)for(_=this.getPlayerById(t.GameModel.ins.uid),u=0;u<g.mapaiTarArr.length;u++)f=this.getPlayerById(g.mapaiTarArr[u]),_.pokers.updateMP(!0,f.pokers.scoretop,f.pokers.scoremid,f.pokers.scoredown),f.pokers.updateMP(!1)}else if(y=t.GameModel.ins.roundModel.getResultBPByUid(t.GameModel.ins.roomModel.rinfo.zuid),null!=y&&y.mapaiTarArr.length>0)for(_=this.getPlayerById(t.GameModel.ins.roomModel.rinfo.zuid),u=0;u<y.mapaiTarArr.length;u++)f=this.getPlayerById(y.mapaiTarArr[u]),_.pokers.updateMP(!0,f.pokers.scoretop,f.pokers.scoremid,f.pokers.scoredown),f.pokers.updateMP(!1);return this.upDateScore(),[4,this.sleep(1500)];case 33:return C.sent(),[2]}})})},n.prototype.qldComplete=function(){this.mContent.m_qld.visible=!1},n.prototype.daQiang=function(t,e){this.qiang=UI.Game.UI_DaQiang.createInstance(),this.mContent.addChild(this.qiang),this.qiang.x=t.x,this.qiang.y=t.y,this.changeRotation(t.x,t.y,e.x,e.y),this.qiang.m_t0.play(this.daQiangComplete,this),e.showQiangYan()},n.prototype.upDateScore=function(){for(var t=0;t<this.curHeadAry.length;t++)this.curHeadAry[t].updateScore()},n.prototype.changeRotation=function(t,e,n,i){var o=App.MathUtils.towPointGetAngle(t,e,n,i);this.qiang.rotation=o+180,90>o&&o>-90?this.qiang.scaleY=-1:this.qiang.scaleY=1},n.prototype.daQiangComplete=function(){null!=this.qiang&&(App.DisplayUtils.removeFromParent(this.qiang.displayObject),this.qiang=null)},n.prototype.gameRestart=function(){},n.prototype.onHelp=function(){ModuleMgr.ins.showModule(ModuleEnum.SHUOMING)},n.prototype.onSetting=function(){ModuleMgr.ins.showModule(ModuleEnum.SETTING)},n.prototype.onContinue=function(){this.mContent.m_btn_continue.visible=!1,this.doRestart(),t.GameModel.ins.roomModel.isAllFinish?ModuleMgr.ins.changeScene(ModuleEnum.GAME,ModuleEnum.GAME_ALL_RESULT):t.ServerEngine.sendReady()},n.prototype.onQuit=function(){t.ServerEngine.leaveRooom()},n.prototype.onChat=function(){ModuleMgr.ins.showModule(ModuleEnum.CHAT)
},n.prototype.leaveRoomCallBack=function(){t.GameModel.ins.disMissRoom(),ModuleMgr.ins.changeScene(ModuleEnum.GAME,ModuleEnum.GAME_MAIN)},n.prototype.UserDiaoXian=function(t){this.getPlayerById(t.uid).setDiaoXian(!0)},n.prototype.UserDiaoXianBack=function(t){this.getPlayerById(t.uid).setDiaoXian(!1)},n.prototype.UserAskForDismiss=function(t){ModuleMgr.ins.showModule(ModuleEnum.DISSOLVE_ROOM,t)},n.prototype.RoomDismissFailed=function(t){ModuleMgr.ins.closeModule(ModuleEnum.DISSOLVE_ROOM)},n.prototype.getPlayerById=function(t){for(var e=0;e<this.curHeadAry.length;e++)if(null!=this.curHeadAry[e].user&&this.curHeadAry[e].user.uid==t)return this.curHeadAry[e];return null},n.prototype.sleep=function(t){return void 0===t&&(t=0),1==this.wantToBreakHere?Promise.reject("quit"):new Promise(function(e){return setTimeout(e,t)})},n.prototype.playMusic=function(t){1==t?App.SoundUtils.playSound("music_bg_game_mp3",1,0):App.SoundUtils.stopSoundByID("music_bg_game_mp3")},n.prototype.onInvite=function(){1!=this.mContent.m_sharetips.visible&&(this.mContent.m_sharetips.visible=!0,App.TimerManager.doTimer(3e3,1,this.hideInvite,this))},n.prototype.doInviteJs=function(){var e=new Object;e.shareUserId=t.GameModel.ins.uid,e.shareUserName=t.GameModel.ins.uname,e.shareRoomId=t.GameModel.ins.roomModel.rid,e.totalNum=t.GameModel.ins.roomModel.rinfo.pn,e.nowNum=t.GameModel.ins.roomModel.users.length,e.payModel=1==t.GameModel.ins.roomModel.rinfo.fc?"房主付费":"AA局",e.model=1==t.GameModel.ins.roomModel.rinfo.zz?"坐庄模式":"算分模式",e.juNum=t.GameModel.ins.roomModel.rinfo.snum,e.avatar=t.GameModel.ins.avatar,t.WXUtil.ins.invit(e)},n.prototype.onReceiveChat=function(t){this.getPlayerById(t.uid).speek(t.str)},n.prototype.flower=function(t){var e=t.str.split("|");if(e.length>1){var n=e[0],i=e[1];"flower"==i?this.showFlower(t.uid,n):"boom"==i&&this.showBoom(t.uid,n)}},n.prototype.showFlower=function(t,e){var n=UI.Game.UI_Flower.createInstance(),i=this.getPlayerById(t),o=this.getPlayerById(e);n.x=i.x,n.y=i.y,this.mContent.addChild(n),TweenMax.to(n,.4,{x:o.x+60,y:o.y+70,onComplete:this.flowerMoveComplete,onCompleteParams:[n,this]})},n.prototype.flowerMoveComplete=function(t,e){t.m_t0.play(e.onFlowerEffectComplete,e,t)},n.prototype.showBoom=function(t,e){var n=UI.Game.UI_Boom.createInstance(),i=this.getPlayerById(t),o=this.getPlayerById(e);n.x=i.x,n.y=i.y,n.m_boom2.visible=!1,this.mContent.addChild(n),TweenMax.to(n,.4,{x:o.x,y:o.y,onComplete:this.boomMoveComplete,onCompleteParams:[n,this]})},n.prototype.boomMoveComplete=function(t,e){t.m_boom2.visible=!0,t.m_t0.play(e.onBoomEffectComplete,e,t)},n.prototype.onFlowerEffectComplete=function(t){t.dispose(),t.parent&&t.parent.removeChild(t),t=null},n.prototype.onBoomEffectComplete=function(t){t.dispose(),t.parent&&t.parent.removeChild(t),t=null},n.prototype.hideInvite=function(){this.mContent.m_sharetips.visible=!1},n.prototype.changeBg=function(){this.mContent.m_bg.url=this.bgAry[t.SettingModel.ins.bg]},n.prototype.preClose=function(e){this.wantToBreakHere=!0,App.SoundUtils.stopSoundByID("music_bg_game_mp3"),App.TimerManager.remove(this.hideInvite,this);for(var n=0;n<this.curHeadAry.length;n++)this.curHeadAry[n].doDispose();t.ChatModel.ins.dispose(),App.MessageCenter.removeListener(t.MsgEnum.NEW_UESR_IN,this.UserIn,this),App.MessageCenter.removeListener(t.MsgEnum.NEW_UESR_OUT,this.UserOut,this),App.MessageCenter.removeListener(t.MsgEnum.NEW_UESR_READY,this.UserReady,this),App.MessageCenter.removeListener(t.MsgEnum.NEW_UESR_READY_CANCEL,this.UserReadyCancel,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_FAPAI,this.FaPai,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_BAIPAI,this.BaiPaiCallBack,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_SINGLE_RESULT,this.showSingleResult,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_RESTART,this.gameRestart,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_USER_DIAOXIAN,this.UserDiaoXian,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_USER_DIAOXIAN_BACK,this.UserDiaoXianBack,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_ASKFOR_DISMISS,this.UserAskForDismiss,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_ANSWER_FAILED,this.RoomDismissFailed,this),App.MessageCenter.removeListener(t.MsgEnum.STOP_PLAY_MUSIC,this.playMusic,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_BEGIN_RESTART,this.doRestart,this),App.MessageCenter.removeListener(t.MsgEnum.CHANGE_BG,this.changeBg,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_CHAT,this.onReceiveChat,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_FLOWER,this.flower,this),this.preCloseCpl()},n}(Module);t.Game=e,__reflect(e.prototype,"game.Game")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.wantToBreakHere=!1,t.startState=!1,t}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Game.UI_GameReplay.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(e){this.round=e,this.mContent.m_btn_quit.addClickListener(this.onQuit,this),this.preShowCpl(),this.mContent.m_playerNumCtrl.selectedPage=this.round.playerFinalData.length.toString(),this.setHead(),this.mContent.m_txt_fid.text="房间ID "+this.round.Rd.toString(),this.ju=this.round.jus[this.round.cur];for(var n=0;n<this.ju.players.length;n++)this.UserIn(this.ju.players[n]);this.mContent.m_playcontrol.m_btn_start.addClickListener(this.play,this),this.mContent.m_playcontrol.m_btn_pre.addClickListener(this.pre,this),this.mContent.m_playcontrol.m_btn_next.addClickListener(this.next,this),this.mContent.m_playcontrol.m_btn_pause.addClickListener(this.pause,this),this.mContent.m_playcontrol.m_btn_stop.addClickListener(this.stop,this),App.MessageCenter.addListener(t.MsgEnum.PLAY_NEXT,this.playNext,this),this.wantToBreakHere=!1,this.mContent.m_playcontrol.m_btn_pre.enabled=!1,this.mContent.m_txt_ju.text="第"+(this.round.cur+1)+"/"+this.round.jus.length+"局",this.mContent.m_playcontrol.m_txt_huifangma.text="回放码:"+this.round.Rd,this.round.cur==this.round.jus.length-1?this.mContent.m_playcontrol.m_btn_next.enabled=!1:this.mContent.m_playcontrol.m_btn_next.enabled=!0,0==this.round.cur?this.mContent.m_playcontrol.m_btn_pre.enabled=!1:this.mContent.m_playcontrol.m_btn_pre.enabled=!0},n.prototype.play=function(){this.wantToBreakHere=!1,this.mContent.m_txt_ju.text="第"+(this.round.cur+1)+"/"+this.round.jus.length+"局",this.round.cur==this.round.jus.length-1?this.mContent.m_playcontrol.m_btn_next.enabled=!1:this.mContent.m_playcontrol.m_btn_next.enabled=!0,0==this.round.cur?this.mContent.m_playcontrol.m_btn_pre.enabled=!1:this.mContent.m_playcontrol.m_btn_pre.enabled=!0,0==this.startState?(this.startState=!0,this.FaPai(),this.mContent.m_playcontrol.m_c1.selectedIndex=1):(TweenMax.resumeAll(),this.mContent.m_playcontrol.m_c1.selectedIndex=1)},n.prototype.pre=function(){TweenMax.killAll(),this.round.cur--,this.round.cur<0&&(this.round.cur=0),this.playNext()},n.prototype.next=function(){TweenMax.killAll(),this.round.cur++,this.round.cur>=this.round.jus.length&&(this.round.cur=this.round.jus.length-1),this.playNext()},n.prototype.pause=function(){TweenMax.pauseAll(),this.mContent.m_playcontrol.m_c1.selectedIndex=0},n.prototype.stop=function(t){this.startState=!1,this.mContent.m_playcontrol.m_c1.selectedIndex=0,null!=t&&(this.round.cur=0,this.round.cur==this.round.jus.length-1?this.mContent.m_playcontrol.m_btn_next.enabled=!1:this.mContent.m_playcontrol.m_btn_next.enabled=!0,0==this.round.cur?this.mContent.m_playcontrol.m_btn_pre.enabled=!1:this.mContent.m_playcontrol.m_btn_pre.enabled=!0,TweenMax.killAll()),this.reset(),this.wantToBreakHere=!0},n.prototype.playNext=function(){this.stop(null),this.play()},n.prototype.reset=function(){for(var t=0;t<this.curHeadAry.length;t++)this.ju=this.round.jus[this.round.cur],this.curHeadAry[t].restart()},n.prototype.show=function(t){this.doShareJs(),e.prototype.show.call(this,t)},n.prototype.setHead=function(){this.head1=this.mContent.m_head1,this.head2=this.mContent.m_head2,this.head3=this.mContent.m_head3,this.head4=this.mContent.m_head4,this.head5=this.mContent.m_head5,this.head6=this.mContent.m_head6,this.head2.m_ctrlPos.selectedIndex=1,this.head2.m_pokers.m_c2.selectedIndex=1,this.head3.m_ctrlPos.selectedIndex=1,this.head3.m_pokers.m_c2.selectedIndex=1,this.head4.m_ctrlPos.selectedIndex=1,this.head4.m_pokers.m_c2.selectedIndex=1;for(var t=0;6>t;t++)this["head"+(t+1)].init();this.headAry=[[this.head1,this.head4],[this.head1,this.head3,this.head5],[this.head1,this.head3,this.head4,this.head5],[this.head1,this.head2,this.head3,this.head5,this.head6],[this.head1,this.head2,this.head3,this.head4,this.head5,this.head6]],this.curHeadAry=this.headAry[this.mContent.m_playerNumCtrl.selectedIndex]},n.prototype.UserIn=function(t){for(var e=0;e<this.curHeadAry.length;e++)if(0==this.curHeadAry[e].isInit){this.curHeadAry[e].setDataPlay(t);break}},n.prototype.FaPai=function(){this.onStartEffectComplete()},n.prototype.onStartEffectComplete=function(){for(var t=0;t<this.curHeadAry.length;t++)this.curHeadAry[t].onFaPai();App.TimerManager.doTimer(2e3,1,this.showSingleResult,this)},n.prototype.showSingleResult=function(){1==this.startState&&0==this.wantToBreakHere&&this.doShowSingleResult()},n.prototype.doShowSingleResult=function(){for(var t=this,e=this.ju.players,n=[],i=0;i<e.length;i++)if(e[i].px>0){var o=e[i].id,r=this.getPlayerById(o);r.showSpecial(),n.push(o)}for(var s=0;s<e.length;s++){var o=e[s].id,r=this.getPlayerById(o);r.onBaiPaiEnd(),r.updateScorePlay(e[s])}for(var a=0;a<n.length;a++)for(var r=this.getPlayerById(n[a]),s=0;s<e.length;s++)e[s].id==n[a]&&r.showSpecialPlay(e[s]);for(var h=0,u=function(i){for(var o=function(o){var r=e[o].id;if(n.indexOf(r)<0){TweenMax.delayedCall(h,function(){var n=t.getPlayerById(r);n.showResultPlay(i,e[o])});h+=1}},r=0;r<e.length;r++)o(r)},l=0;3>l;l++)u(l);TweenMax.delayedCall(h+2,function(){ModuleMgr.ins.showModule(ModuleEnum.GAME_SINGLE_RESULT_PLAY,t.round),t.startState=!1})},n.prototype.onQuit=function(){ModuleMgr.ins.changeScene(ModuleEnum.REPLAY,ModuleEnum.GAME_MAIN)},n.prototype.getPlayerById=function(t){for(var e=0;e<this.curHeadAry.length;e++)if(this.curHeadAry[e].juPlayer.id==t)return this.curHeadAry[e];return null},n.prototype.doShareJs=function(){var e=new Object;e.shareUserId=t.GameModel.ins.uid,e.shareUserName=t.GameModel.ins.uname,e.shareRePlayRoomId=this.round.Rd,e.shareTime=Utils.timetrans(1e3*this.round.Tm),e.avatar=t.GameModel.ins.avatar,t.WXUtil.ins.shareRePlay(e)},n.prototype.sleep=function(t){return void 0===t&&(t=0),1==this.wantToBreakHere?Promise.reject("quit"):new Promise(function(e){return setTimeout(e,t)})},n.prototype.preClose=function(e){this.wantToBreakHere=!0,TweenMax.killAll(),this.preCloseCpl(),App.MessageCenter.removeListener(t.MsgEnum.PLAY_NEXT,this.playNext,this),this.mContent.m_btn_quit.removeClickListener(this.onQuit,this)},n}(Module);t.GameReplay=e,__reflect(e.prototype,"game.GameReplay")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.isInit=!1,t.addClickListener(t.showInfo,t),t}return __extends(n,e),Object.defineProperty(n.prototype,"pokers",{get:function(){return this.m_pokers},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.isInit=!1,this.user=null,this.m_ctrlState.selectedIndex=4,this.visible=!1,this.m_lixian.visible=!1,this.m_img_special.visible=!1,this.m_img_fz.visible=!1,this.m_chat.visible=!1,this.m_chat.alpha=0,this.m_flower.visible=!1,this.m_boom1.visible=!1,this.m_boom2.visible=!1},n.prototype.setData=function(e){this.visible=!0,this.m_ctrlState.selectedIndex=0,this.user=e,this.isInit=!0,this.m_head.setURL(e.avatar),this.m_name.text=this.user.name,t.GameModel.ins.roomModel.rinfo.zz?(this.m_img_fz.url="ui://jow5n9bqh9yl51",this.user.uid==t.GameModel.ins.roomModel.rinfo.zuid?this.m_img_fz.visible=!0:this.m_img_fz.visible=!1):(this.m_img_fz.url="ui://jow5n9bqx90y45",this.user.uid==t.GameModel.ins.roomModel.fuid?this.m_img_fz.visible=!0:this.m_img_fz.visible=!1),1==this.user.status&&this.onReady(),this.m_score.text=this.user.sc.toString(),this.setDiaoXian(t.GameModel.ins.roomModel.checkIsOffLine(this.user.uid))},n.prototype.setDataPlay=function(t){this.juPlayer=t,this.visible=!0,this.isInit=!0,this.m_ctrlState.selectedIndex=0,this.m_name.text=t.name,this.onReady(),this.m_score.text=t.sc.toString(),this.m_head.setURL(t.avatar)},n.prototype.setDiaoXian=function(t){this.m_lixian.visible=t},n.prototype.restart=function(){this.m_img_finish.visible=!1,this.m_img_special.visible=!1,this.pokers.m_txt_score_result.text="",this.m_ctrlState.selectedIndex=0,this.m_chat.visible=!1,this.m_chat.alpha=0},n.prototype.onReady=function(){this.m_img_finish.visible=!1,this.m_img_special.visible=!1,this.m_ctrlState.selectedIndex=1,this.user&&(this.user.status=1)},n.prototype.onFaPai=function(){this.m_img_finish.visible=!1,this.m_ctrlState.selectedIndex=2,this.pokers.init()},n.prototype.speek=function(t){"%%-"==t.slice(0,3)&&"-%%"==t.slice(t.length-3,t.length)?(this.m_chat_txt.text="",this.m_chat_txt_emoji.text=t.slice(3,t.length-3)):(this.m_chat_txt.text=t,this.m_chat_txt_emoji.text=""),this.m_chat.visible=!0,TweenMax.to(this.m_chat,.5,{alpha:1,onComplete:this.onHide,onCompleteParams:[this.m_chat]})},n.prototype.flower=function(t){"flower"==t?(this.m_flower.visible=!0,this.m_t0.play()):"boom"==t&&(this.m_boom1.visible=!0,this.m_boom2.visible=!0,this.m_t1.play())},n.prototype.onHide=function(t){TweenMax.delayedCall(2,function(){t.alpha=0,t.visible=!1})},n.prototype.onBaiPaiEnd=function(){App.SoundUtils.playSound("showCard_mp3",0,1),this.m_ctrlState.selectedIndex=3,this.pokers.m_c1.selectedIndex=1,this.pokers.m_qiangyan.visible=!1,this.pokers.m_porka.visible=!1,this.m_img_finish.visible=!0},n.prototype.showResult=function(t,e,n){void 0===n&&(n=!1),this.m_img_finish.visible=!1,this.pokers.showResult(t,e,n)},n.prototype.showSpecialResult=function(t){this.m_img_finish.visible=!1,this.pokers.showSpecialResult(t)},n.prototype.showSpecialPlay=function(t){this.m_img_finish.visible=!1,this.pokers.showSpecialPlay(t)},n.prototype.showResultPlay=function(t,e){this.m_img_finish.visible=!1,this.pokers.showResultPlay(t,e)},n.prototype.showSpecial=function(){this.m_img_finish.visible=!1,this.m_img_special.visible=!0},n.prototype.showQiangYan=function(){this.pokers.showQiangYan()},n.prototype.showInfo=function(){ModuleMgr.ins.showModule(ModuleEnum.USERINFO,this.user)},n.prototype.updateScore=function(){this.m_score.text=this.user.sc.toString()},n.prototype.updateScorePlay=function(t){this.m_score.text=t.sc.toString()},n.prototype.doDispose=function(){TweenMax.killAll()},n}(UI.Game.UI_PlayerHead);t.PlayerHead=e,__reflect(e.prototype,"game.PlayerHead")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.offsite=45,t.beishu=1,t.mp=!1,t}return __extends(n,e),n.prototype.init=function(){this.m_qiangyan.visible=!1,this.m_c1.selectedIndex=0,this.m_porka.visible=!1,this.m_imt_teshu.visible=!1,this.m_txt_scoretop.visible=!1,this.m_txt_score_mid.visible=!1,this.m_txt_score_down.visible=!1,this.beishu=1,this.zongfen=0,this.zongfenbase=0,this.mp=!1;for(var t=0;13>t;t++){var e=this["m_pork"+t];e.x=-26,e.m_ctrlstate.selectedIndex=0,egret.Tween.get(e,{loop:!1}).to({x:-26+20*t},300)}},n.prototype.showSpecialResult=function(e){this.result=e,this.bipai=t.GameModel.ins.roundModel.getResultBPByUid(e.uid);for(var n=0;13>n;n++){var i=this["m_pork"+n];i.showResult(e.cards[n])}e.sc>=0?this.m_txt_score_result.font="ui://jow5n9bqx90y46":this.m_txt_score_result.font="ui://jow5n9bqx90y47";var o="";e.sc>0&&(o="+"),this.m_txt_score_result.text=o+e.sc},n.prototype.showSpecialPlay=function(t){for(var e=t.topCards.concat(t.midCards).concat(t.downCards),n=0;13>n;n++){var i=this["m_pork"+n];i.showResult(e[n])}t.sc>=0?this.m_txt_score_result.font="ui://jow5n9bqx90y46":this.m_txt_score_result.font="ui://jow5n9bqx90y47";var o="";t.sc>0&&(o="+"),this.m_txt_score_result.text=o+t.sc},n.prototype.updateTeSuScore=function(t){this.zongfen+=t.tc,this.showResultScore(!1,!1)},n.prototype.showResult=function(e,n,i){if(void 0===i&&(i=!1),this.istesu=i,this.result=n,this.bipai=t.GameModel.ins.roundModel.getResultBPByUid(n.uid),1==t.GameModel.ins.roomModel.rinfo.zz&&(this.bipai=t.GameModel.ins.roundModel.result.bipai[0]),!(n.ty>0)){this.m_porka.visible=!0;var o=0,r=0;if(this.m_txt_score_result.text="",0==e){o=0,r=3,this.m_porka.y=-73+this.offsite,this.m_porka1.visible=!1,this.m_porka5.visible=!1;for(var s=2;5>s;s++)this.m_porka2.showResult(n.cards[0]),this.m_porka3.showResult(n.cards[1]),this.m_porka4.showResult(n.cards[2]);if(this.findPaiXing(n.ty1),this.m_txt_scoretop.visible=!0,this.bipai.scoretop>=0?this.m_txt_scoretop.font="ui://jow5n9bqx90y46":this.m_txt_scoretop.font="ui://jow5n9bqx90y47",this.scoretop=this.bipai.scoretop,0==t.GameModel.ins.roomModel.rinfo.zz)if(n.uid==t.GameModel.ins.uid)this.m_txt_scoretop.text=i?"":this.bipai.scoretopstr.toString(),this.score_fanbei_top="@param0";else{var a=this.bipai.getWinById(t.GameModel.ins.uid);a.w1==n.uid?(this.m_txt_scoretop.font="ui://jow5n9bqx90y46",this.m_txt_scoretop.text=i?"":"赢"+this.bipai.scoretopstr,this.score_fanbei_top="赢@param0"):""==a.w1?(this.m_txt_scoretop.text=i?"":""+this.bipai.scoretopstr,this.score_fanbei_top="@param0"):(this.m_txt_scoretop.font="ui://jow5n9bqx90y47",this.m_txt_scoretop.text=i?"":"输"+this.bipai.scoretopstr,this.score_fanbei_top="输@param0")}else t.GameModel.ins.roomModel.rinfo.zuid!=n.uid?(this.scoretop=this.bipai.getotherScoreById(n.uid).topscore,this.bipai.getWinById(n.uid).w1==n.uid?(this.m_txt_scoretop.font="ui://jow5n9bqx90y46",this.m_txt_scoretop.text=i?"":"赢",this.score_fanbei_top="赢"):""==this.bipai.getWinById(n.uid).w1?(this.m_txt_scoretop.text="",this.score_fanbei_top=""):(this.m_txt_scoretop.font="ui://jow5n9bqx90y47",this.m_txt_scoretop.text=i?"":"输",this.score_fanbei_top="输")):(this.m_txt_scoretop.text="",this.score_fanbei_top="")}else if(1==e)if(this.m_porka1.visible=!0,this.m_porka5.visible=!0,o=3,r=8,this.m_porka.y=-22+this.offsite,this.m_porka1.showResult(n.cards[3]),this.m_porka2.showResult(n.cards[4]),this.m_porka3.showResult(n.cards[5]),this.m_porka4.showResult(n.cards[6]),this.m_porka5.showResult(n.cards[7]),this.findPaiXing(n.ty2),this.m_txt_score_mid.visible=!0,this.bipai.scoremid>=0?this.m_txt_score_mid.font="ui://jow5n9bqx90y46":this.m_txt_score_mid.font="ui://jow5n9bqx90y47",this.scoremid=this.bipai.scoremid,0==t.GameModel.ins.roomModel.rinfo.zz)if(n.uid==t.GameModel.ins.uid)this.m_txt_score_mid.text=i?"":this.bipai.scoremidstr.toString(),this.score_fanbei_mid="@param0";else{var a=this.bipai.getWinById(t.GameModel.ins.uid);a.w2==n.uid?(this.m_txt_score_mid.font="ui://jow5n9bqx90y46",this.m_txt_score_mid.text=i?"":"赢"+this.bipai.scoremidstr,this.score_fanbei_mid="赢@param0"):""==a.w2?(this.m_txt_score_mid.text=i?"":""+this.bipai.scoremidstr,this.score_fanbei_mid="@param0"):(this.m_txt_score_mid.font="ui://jow5n9bqx90y47",this.m_txt_score_mid.text=i?"":"输"+this.bipai.scoremidstr,this.score_fanbei_mid="输@param0")}else t.GameModel.ins.roomModel.rinfo.zuid!=n.uid?(this.scoremid=this.bipai.getotherScoreById(n.uid).midscore,this.bipai.getWinById(n.uid).w2==n.uid?(this.m_txt_score_mid.font="ui://jow5n9bqx90y46",this.m_txt_score_mid.text=i?"":"赢",this.score_fanbei_mid="赢"):""==this.bipai.getWinById(n.uid).w2?(this.m_txt_score_mid.text="",this.score_fanbei_mid=""):(this.m_txt_score_mid.font="ui://jow5n9bqx90y47",this.m_txt_score_mid.text=i?"":"输",this.score_fanbei_mid="输")):(this.m_txt_score_mid.text="",this.score_fanbei_mid="");else if(2==e){if(this.m_porka1.visible=!0,this.m_porka5.visible=!0,o=8,r=13,this.m_porka.y=36+this.offsite,this.m_porka1.showResult(n.cards[8]),this.m_porka2.showResult(n.cards[9]),this.m_porka3.showResult(n.cards[10]),this.m_porka4.showResult(n.cards[11]),this.m_porka5.showResult(n.cards[12]),this.findPaiXing(n.ty3),this.m_txt_score_down.visible=!0,this.bipai.scoredown>=0?this.m_txt_score_down.font="ui://jow5n9bqx90y46":this.m_txt_score_down.font="ui://jow5n9bqx90y47",this.scoredown=this.bipai.scoredown,0==t.GameModel.ins.roomModel.rinfo.zz)if(n.uid==t.GameModel.ins.uid)this.m_txt_score_down.text=i?"":this.bipai.scoredownstr.toString(),this.score_fanbei_down="@param0";else{var a=this.bipai.getWinById(t.GameModel.ins.uid);a.w3==n.uid?(this.m_txt_score_down.font="ui://jow5n9bqx90y46",this.m_txt_score_down.text=i?"":"赢"+this.bipai.scoredownstr,this.score_fanbei_down="赢@param0"):""==a.w3?(this.m_txt_score_down.text=i?"":""+this.bipai.scoredownstr,this.score_fanbei_down="@param0"):(this.m_txt_score_down.font="ui://jow5n9bqx90y47",this.m_txt_score_down.text=i?"":"输"+this.bipai.scoredownstr,this.score_fanbei_down="输@param0")}else t.GameModel.ins.roomModel.rinfo.zuid!=n.uid?(this.scoredown=this.bipai.getotherScoreById(n.uid).downscore,this.bipai.getWinById(n.uid).w3==n.uid?(this.m_txt_score_down.font="ui://jow5n9bqx90y46",this.m_txt_score_down.text=i?"":"赢",this.score_fanbei_down="赢"):""==this.bipai.getWinById(n.uid).w3?(this.m_txt_score_down.text="",this.score_fanbei_down=""):(this.m_txt_score_down.font="ui://jow5n9bqx90y47",this.m_txt_score_down.text=i?"":"输",this.score_fanbei_down="输")):(this.m_txt_score_down.text="",this.score_fanbei_down="");if(this.zongfen=this.scoretop+this.scoremid+this.scoredown,this.zongfenbase=this.scoretop+this.scoremid+this.scoredown,1==t.GameModel.ins.roomModel.rinfo.zz&&this.result.uid!=t.GameModel.ins.roomModel.rinfo.zuid){var h=this.bipai.getotherScoreById(this.result.uid);h&&(this.zongfenbase=h.topscore+h.midscore+h.downscore,this.zongfen=this.zongfenbase)}this.showResultScore(!1,!1)}this.m_t1.play(this.effectEnd,this);for(var s=o;r>s;s++){var u=this["m_pork"+s];u.showResult(n.cards[s])}}},n.prototype.UpDateULD=function(e){if(1==t.GameModel.ins.roomModel.rinfo.zz)if(e.qlTar.uid==this.result.uid)for(var n=0;n<e.qlTar.tarUidArr.length;n++){var i=e.getDQFanBeiScore(e.qlTar.tarUidArr[n]);i&&(this.scoretop-=2*i.sc1,this.scoremid-=2*i.sc2,this.scoredown-=2*i.sc3,this.zongfen=this.scoretop+this.scoremid+this.scoredown)}else{var i=e.getDQFanBeiScore(this.result.uid);i&&(this.scoretop+=2*i.sc1,this.scoremid+=2*i.sc2,this.scoredown+=2*i.sc3,this.zongfen=this.scoretop+this.scoremid+this.scoredown)}else if(e.qlTar.uid==t.GameModel.ins.uid)for(var n=0;n<e.qlTar.tarUidArr.length;n++){var i=e.getDQFanBeiScore(e.qlTar.tarUidArr[n]);i&&(e.qlTar.uid==this.result.uid?(this.scoretop-=2*i.sc1,this.scoremid-=2*i.sc2,this.scoredown-=2*i.sc3):e.qlTar.tarUidArr[n]==this.result.uid&&(this.scoretop+=2*i.sc1,this.scoremid+=2*i.sc2,this.scoredown+=2*i.sc3),this.zongfen=this.scoretop+this.scoremid+this.scoredown)}else{var i=e.getDQFanBeiScore(t.GameModel.ins.uid);i&&(e.qlTar.uid==this.result.uid?(this.scoretop-=2*i.sc1,this.scoremid-=2*i.sc2,this.scoredown-=2*i.sc3):(this.scoretop+=2*i.sc1,this.scoremid+=2*i.sc2,this.scoredown+=2*i.sc3),this.zongfen=this.scoretop+this.scoremid+this.scoredown)}var o=this.scoretop.toString();this.scoretop>=0?(o="+"+o,this.m_txt_scoretop.font="ui://jow5n9bqx90y46"):this.m_txt_scoretop.font="ui://jow5n9bqx90y47";var r=this.scoremid.toString();this.scoremid>=0?(r="+"+r,this.m_txt_score_mid.font="ui://jow5n9bqx90y46"):this.m_txt_score_mid.font="ui://jow5n9bqx90y47";var s=this.scoredown.toString();this.scoredown>=0?(s="+"+s,this.m_txt_score_down.font="ui://jow5n9bqx90y46"):this.m_txt_score_down.font="ui://jow5n9bqx90y47",this.m_txt_scoretop.text=App.StringUtils.strParams(this.score_fanbei_top,[o]),this.m_txt_score_mid.text=App.StringUtils.strParams(this.score_fanbei_mid,[r]),this.m_txt_score_down.text=App.StringUtils.strParams(this.score_fanbei_down,[s]),this.zongfen=this.scoretop+this.scoremid+this.scoredown,this.showResultScore(!1,!1)},n.prototype.showFanBei=function(e,n,i){if(void 0===i&&(i=!1),this.beishu+=1,1==t.GameModel.ins.roomModel.rinfo.zz)if(e==t.GameModel.ins.roomModel.rinfo.zuid){var o=t.GameModel.ins.roundModel.getResultBPByUid(e).getDQFanBeiScore(n);o&&(this.scoretop-=o.sc1,this.scoremid-=o.sc2,this.scoredown-=o.sc3,this.zongfen-=o.sc1+o.sc2+o.sc3)}else{var o=t.GameModel.ins.roundModel.getResultBPByUid(n).getDQFanBeiScore(e);o&&(this.scoretop+=o.sc1,this.scoremid+=o.sc2,this.scoredown+=o.sc3,this.zongfen+=o.sc1+o.sc2+o.sc3)}else{var o=t.GameModel.ins.roundModel.getResultBPByUid(e).getDQFanBeiScore(n);o&&(this.scoretop-=o.sc1,this.scoremid-=o.sc2,this.scoredown-=o.sc3,this.zongfen-=o.sc1+o.sc2+o.sc3)}var r=this.scoretop.toString();this.scoretop>0?(r="+"+r,this.m_txt_scoretop.font="ui://jow5n9bqx90y46"):this.m_txt_scoretop.font="ui://jow5n9bqx90y47";var s=this.scoremid.toString();this.scoremid>0?(s="+"+s,this.m_txt_score_mid.font="ui://jow5n9bqx90y46"):this.m_txt_score_mid.font="ui://jow5n9bqx90y47";var a=this.scoredown.toString();this.scoredown>0?(a="+"+a,this.m_txt_score_down.font="ui://jow5n9bqx90y46"):this.m_txt_score_down.font="ui://jow5n9bqx90y47",this.m_txt_scoretop.text=App.StringUtils.strParams(this.score_fanbei_top,[r]),this.m_txt_score_mid.text=App.StringUtils.strParams(this.score_fanbei_mid,[s]),this.m_txt_score_down.text=App.StringUtils.strParams(this.score_fanbei_down,[a]),this.showResultScore(!0)},n.prototype.updateMP=function(e,n,i,o){void 0===e&&(e=!1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0),this.mp=!0,e?0==t.GameModel.ins.roomModel.rinfo.zz?(this.scoretop-=n,this.scoremid-=i,this.scoredown-=o,this.zongfen-=n+i+o):(this.zongfen=this.scoretop+this.scoremid+this.scoredown,this.scoretop-=n,this.scoremid-=i,this.scoredown-=o,this.zongfen-=n+i+o):0==t.GameModel.ins.roomModel.rinfo.zz?(this.scoretop*=2,this.scoremid*=2,this.scoredown*=2,this.zongfen*=2):(this.zongfen=this.scoretop+this.scoremid+this.scoredown,this.scoretop*=2,this.scoremid*=2,this.scoredown*=2,this.zongfen*=2);var r=this.scoretop.toString();this.scoretop>0?(r="+"+r,this.m_txt_scoretop.font="ui://jow5n9bqx90y46"):this.m_txt_scoretop.font="ui://jow5n9bqx90y47";var s=this.scoremid.toString();this.scoremid>0?(s="+"+s,this.m_txt_score_mid.font="ui://jow5n9bqx90y46"):this.m_txt_score_mid.font="ui://jow5n9bqx90y47";var a=this.scoredown.toString();this.scoredown>0?(a="+"+a,this.m_txt_score_down.font="ui://jow5n9bqx90y46"):this.m_txt_score_down.font="ui://jow5n9bqx90y47",this.m_txt_scoretop.text=App.StringUtils.strParams(this.score_fanbei_top,[r]),this.m_txt_score_mid.text=App.StringUtils.strParams(this.score_fanbei_mid,[s]),this.m_txt_score_down.text=App.StringUtils.strParams(this.score_fanbei_down,[a]),this.showResultScore(!0)},n.prototype.showResultScore=function(e,n){if(void 0===n&&(n=!1),0==t.GameModel.ins.roomModel.rinfo.zz)if(t.GameModel.ins.uid!=this.result.uid)e?this.zongfen>0?(this.m_txt_score_result.font="ui://jow5n9bqx90y46",this.m_txt_score_result.text=this.istesu?"":"翻倍"):(this.m_txt_score_result.font="ui://jow5n9bqx90y47",this.m_txt_score_result.text=this.istesu?"":"翻倍"):1==n&&1==this.beishu&&0==this.mp&&(this.m_txt_score_result.font="ui://jow5n9bqx90y47",this.m_txt_score_result.text=this.istesu?"":"不翻倍");else{this.result.sc>=0?this.m_txt_score_result.font="ui://jow5n9bqx90y46":this.m_txt_score_result.font="ui://jow5n9bqx90y47";var i="";this.result.sc>0&&(i="+"),this.m_txt_score_result.text="总得分："+i+this.zongfen}else{var i="";1==n&&(this.zongfen=this.result.sc),this.zongfen>0?(this.m_txt_score_result.font="ui://jow5n9bqx90y46",i="+"):this.m_txt_score_result.font="ui://jow5n9bqx90y47",this.m_txt_score_result.text=i+this.zongfen}},n.prototype.showResultPlay=function(t,e){if(!(e.px>0)){var n=e.topCards.concat(e.midCards.concat(e.downCards));this.m_porka.visible=!0;var i=0,o=0;if(0==t){i=0,o=3,this.m_porka.y=-73+this.offsite,this.m_porka1.visible=!1,this.m_porka5.visible=!1;for(var r=2;5>r;r++)this.m_porka2.showResult(e.topCards[0]),this.m_porka3.showResult(e.topCards[1]),this.m_porka4.showResult(e.topCards[2]);this.findPaiXing(e.topType),this.m_txt_scoretop.visible=!0,this.m_txt_scoretop.text=""}else if(1==t)this.m_porka1.visible=!0,this.m_porka5.visible=!0,i=3,o=8,this.m_porka.y=-22+this.offsite,this.m_porka1.showResult(e.midCards[0]),this.m_porka2.showResult(e.midCards[1]),this.m_porka3.showResult(e.midCards[2]),this.m_porka4.showResult(e.midCards[3]),this.m_porka5.showResult(e.midCards[4]),this.findPaiXing(e.midType),this.m_txt_score_mid.visible=!0,this.m_txt_score_mid.text="";else if(2==t){this.m_porka1.visible=!0,this.m_porka5.visible=!0,i=8,o=13,this.m_porka.y=36+this.offsite,this.m_porka1.showResult(e.downCards[0]),this.m_porka2.showResult(e.downCards[1]),this.m_porka3.showResult(e.downCards[2]),this.m_porka4.showResult(e.downCards[3]),this.m_porka5.showResult(e.downCards[4]),this.findPaiXing(e.downType),this.m_txt_score_down.visible=!0,this.m_txt_score_down.text="",e.sc>=0?this.m_txt_score_result.font="ui://jow5n9bqx90y46":this.m_txt_score_result.font="ui://jow5n9bqx90y47";var s="";e.sc>0&&(s="+"),this.m_txt_score_result.text="总得分："+s+e.sc}this.m_t1.play(this.effectEnd,this);for(var r=i;o>r;r++){var a=this["m_pork"+r];a.showResult(n[r])}}},n.prototype.effectEnd=function(){this.m_porka.visible=!1},n.prototype.showQiangYan=function(){this.m_qiangyan.visible=!0,this.m_t0.play(this.daQiangComplete,this)},n.prototype.daQiangComplete=function(){this.m_qiangyan.visible=!1},n.prototype.findPaiXing=function(t){var e=["ui://jow5n9bqfetr4k","ui://jow5n9bqrezh2d","ui://jow5n9bqrezh2c","ui://jow5n9bqrezh2b","ui://jow5n9bqrezh2a","ui://jow5n9bqrezh29","ui://jow5n9bqrezh28","ui://jow5n9bqrezh27","ui://jow5n9bqrezh25","ui://jow5n9bqrezh26"];this.m_img_type.url=e[t-1],App.SoundUtils.playSound("sg_common"+(t-1).toString()+"_mp3",0,1)},n}(UI.Game.UI_PlayerPokers);t.PlayerPokers=e,__reflect(e.prototype,"game.PlayerPokers")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.selectState=!1,t.touchable=!0,t}return __extends(n,e),n.prototype.setData=function(e){this.vo=e,this.m_txt1.font=this.vo.font,this.m_txt2.font=this.vo.font,this.m_txt_type1.text=String(this.vo.type),this.m_txt_type2.text=String(this.vo.type),this.m_txt1.text=this.vo.showStr,this.m_txt2.text=this.vo.showStr,this.m_ctrlstate.selectedIndex=1,5==this.vo.type?(this.m_txt1.text="",this.m_txt2.text="",this.m_img_joke.visible=!0):this.m_img_joke.visible=!1,"K"==this.vo.showStr&&3==this.vo.type&&null!=t.GameModel.ins.roomModel&&1==t.GameModel.ins.roomModel.rinfo.jm?this.m_img_ma.visible=!0:this.m_img_ma.visible=!1,this.resetState()},n.prototype.changeSelectState=function(){this.selectState=!this.selectState,1==this.selectState?this.y=-30:this.y=0},n.prototype.resetState=function(){this.selectState=!1,this.y=0},n.prototype.showResult=function(e){this.vo=e,this.m_txt1.font=this.vo.font,this.m_txt2.font=this.vo.font,this.m_txt_type1.text=String(this.vo.type),this.m_txt_type2.text=String(this.vo.type),this.m_txt1.text=this.vo.showStr,this.m_txt2.text=this.vo.showStr,this.m_ctrlstate.selectedIndex=1,5==this.vo.type?(this.m_txt1.text="",this.m_txt2.text="",this.m_img_joke.visible=!0):this.m_img_joke.visible=!1,"K"==this.vo.showStr&&3==this.vo.type&&null!=t.GameModel.ins.roomModel&&1==t.GameModel.ins.roomModel.rinfo.jm?this.m_img_ma.visible=!0:this.m_img_ma.visible=!1},n}(UI.Game.UI_Pork);t.Pork=e,__reflect(e.prototype,"game.Pork")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.startSelect=!0,t}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Game.UI_PutPork.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(e){this.RenderList(),this.mContent.m_btntype1.addClickListener(this.onChooseType,this),this.mContent.m_btntype2.addClickListener(this.onChooseType,this),this.mContent.m_btntype3.addClickListener(this.onChooseType,this),this.mContent.m_btntype4.addClickListener(this.onChooseType,this),this.mContent.m_btntype5.addClickListener(this.onChooseType,this),this.mContent.m_btntype6.addClickListener(this.onChooseType,this),this.mContent.m_btntype7.addClickListener(this.onChooseType,this),this.mContent.m_btntype8.addClickListener(this.onChooseType,this),this.mContent.m_btntype9.addClickListener(this.onChooseType,this),this.mContent.m_area_top.addClickListener(this.onAreaClick,this),this.mContent.m_area_mid.addClickListener(this.onAreaClick,this),this.mContent.m_area_down.addClickListener(this.onAreaClick,this),this.mContent.m_porkList.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.doSelect,this),this.mContent.m_porkList.addEventListener(egret.TouchEvent.TOUCH_END,this.stopSelect,this),this.mContent.m_btntype1.m_txt.url="ui://jow5n9bqrezh1w",this.mContent.m_btntype2.m_txt.url="ui://jow5n9bqrezh1x",this.mContent.m_btntype3.m_txt.url="ui://jow5n9bqrezh1y",this.mContent.m_btntype4.m_txt.url="ui://jow5n9bqrezh1z",this.mContent.m_btntype5.m_txt.url="ui://jow5n9bqrezh20",this.mContent.m_btntype6.m_txt.url="ui://jow5n9bqrezh21",6==t.GameModel.ins.roomModel.rinfo.rp?(this.mContent.m_btntype7.m_txt.url="ui://jow5n9bqrezh24",this.mContent.m_btntype8.m_txt.url="ui://jow5n9bqrezh23"):(this.mContent.m_btntype7.m_txt.url="ui://jow5n9bqrezh23",this.mContent.m_btntype8.m_txt.url="ui://jow5n9bqrezh24"),this.mContent.m_btntype9.m_txt.url="ui://jow5n9bqrezh22",this.mContent.m_btn_close1.visible=!1,this.mContent.m_btn_close2.visible=!1,this.mContent.m_btn_close3.visible=!1,this.mContent.m_btn_close1.addClickListener(this.onCloseSelect,this),this.mContent.m_btn_close2.addClickListener(this.onCloseSelect,this),this.mContent.m_btn_close3.addClickListener(this.onCloseSelect,this),this.mContent.m_btn_cancel.addClickListener(this.onReset,this),this.mContent.m_btn_ok.addClickListener(this.onOk,this),this.mContent.m_btn_help.addClickListener(this.onHelp,this),App.MessageCenter.addListener(t.MsgEnum.GAME_BAIPAI,this.BaiPaiCallBack,this);
var n=t.PorkUtilExtends.isTeShuPai(t.GameModel.ins.roundModel.myCard);null!=n&&n.type>0&&t.AlertUtil.alert("恭喜你获得特殊牌型\n[COLOR=#FF0000]"+t.PorkUtilExtends.getTeShuPai(n.type)+"[/COLOR]\n是否选择免摆？",new core.Handler(this,this.mianBai,[n])),this.topSelectAry=[],this.midSelectAry=[],this.downSelectAry=[],this.preShowCpl()},n.prototype.mianBai=function(e){for(var n=new C2T_Message_BaiPai,i=[],o=0;o<e.arr.length;o++)i.push(t.PorkUtil.ChangeClientToServer(e.arr[o].data));n.cards=i,n.mb=1,t.ServerEngine.sendBaiPai(n)},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.RenderList=function(){if(t.GameModel.ins.roundModel.listCard.length<=0)this.mContent.m_ctrl.selectedIndex=1;else{this.mContent.m_ctrl.selectedIndex=0,this.porkAry=new Array,this.mContent.m_porkList.itemRenderer=this.RenderListItem,this.mContent.m_porkList.callbackThisObj=this,this.mContent.m_porkList.numItems=t.GameModel.ins.roundModel.listCard.length,this.mContent.m_porkList.addEventListener(fairygui.ItemEvent.CLICK,this.onClickPork,this);for(var e=0;e<this.mContent.m_porkList.numItems;e++)this.mContent.m_porkList.getChildAt(e).addEventListener(egret.TouchEvent.TOUCH_MOVE,this.moveChoose,this);this.setBtnTypeState()}},n.prototype.RenderListItem=function(e,n){var i=n,o=t.GameModel.ins.roundModel.listCard[e];i.setData(o),this.porkAry.push(i)},n.prototype.RenderTopList=function(e){this.topSelectAry=e,t.PorkUtil.SortCard(this.topSelectAry),this.mContent.m_btn_close1.visible=this.topSelectAry.length>0?!0:!1,this.mContent.m_list_top.itemRenderer=this.RenderListItemTop,this.mContent.m_list_top.callbackThisObj=this,this.mContent.m_list_top.numItems=e.length,this.findPaiXing(0,e)},n.prototype.RenderListItemTop=function(t,e){var n=e,i=this.topSelectAry[t];n.setData(i)},n.prototype.RenderMidList=function(e){this.midSelectAry=e,t.PorkUtil.SortCard(this.midSelectAry),this.mContent.m_btn_close2.visible=this.midSelectAry.length>0?!0:!1,this.mContent.m_list_mid.itemRenderer=this.RenderListItemMid,this.mContent.m_list_mid.callbackThisObj=this,this.mContent.m_list_mid.numItems=e.length,this.findPaiXing(1,e)},n.prototype.RenderListItemMid=function(t,e){var n=e,i=this.midSelectAry[t];n.setData(i)},n.prototype.RenderDownList=function(e){this.downSelectAry=e,t.PorkUtil.SortCard(this.downSelectAry),this.mContent.m_btn_close3.visible=this.downSelectAry.length>0?!0:!1,this.mContent.m_list_down.itemRenderer=this.RenderListItemDown,this.mContent.m_list_down.callbackThisObj=this,this.mContent.m_list_down.numItems=e.length,this.findPaiXing(2,e)},n.prototype.RenderListItemDown=function(t,e){var n=e,i=this.downSelectAry[t];n.setData(i)},n.prototype.onClickPork=function(t){var e=t.itemObject;e.changeSelectState()},n.prototype.setBtnTypeState=function(){this.mContent.m_btntype1.enabled=t.GameModel.ins.roundModel.duizi.length>0,this.mContent.m_btntype2.enabled=t.GameModel.ins.roundModel.liadui.length>0,this.mContent.m_btntype3.enabled=t.GameModel.ins.roundModel.santiao.length>0,this.mContent.m_btntype4.enabled=t.GameModel.ins.roundModel.shunzi.length>0,this.mContent.m_btntype5.enabled=t.GameModel.ins.roundModel.tonghua.length>0,this.mContent.m_btntype6.enabled=t.GameModel.ins.roundModel.hulu.length>0,6==t.GameModel.ins.roomModel.rinfo.rp?(this.mContent.m_btntype4.enabled=!1,this.mContent.m_btntype5.enabled=!1,this.mContent.m_btntype7.enabled=t.GameModel.ins.roundModel.tonghuashun.length>0,this.mContent.m_btntype8.enabled=t.GameModel.ins.roundModel.tiezhi.length>0):(this.mContent.m_btntype7.enabled=t.GameModel.ins.roundModel.tiezhi.length>0,this.mContent.m_btntype8.enabled=t.GameModel.ins.roundModel.tonghuashun.length>0),this.mContent.m_btntype9.enabled=t.GameModel.ins.roundModel.wutong.length>0},n.prototype.onChooseType=function(t){App.SoundUtils.playSound("deal_mp3",0,1);var e=t.currentTarget.name;this.findClickTypePork(e)},n.prototype.doSelect=function(){this.startSelect=!0},n.prototype.stopSelect=function(){this.startSelect=!1,this.lastTouch=null},n.prototype.moveChoose=function(t){var e=t.currentTarget;this.lastTouch!=e&&(this.lastTouch=e,e.changeSelectState())},n.prototype.findClickTypePork=function(e){for(var n=t.GameModel.ins.roundModel.getTypeByClick(e),i=0;i<this.porkAry.length;i++){this.porkAry[i].resetState();for(var o=0;o<n.length;o++)if(this.porkAry[i].vo==n[o]){this.porkAry[i].changeSelectState();break}}},n.prototype.onAreaClick=function(t){var e=t.currentTarget.name,n=this.getSelectPokerAry();this.doAreaClick(e,n)},n.prototype.doAreaClick=function(e,n){switch(e){case"area_top":if(this.mContent.m_list_top.numItems>0)return;if(this.midSelectAry.length>0&&1==t.PorkUtil.checkCanPutDown(n,this.midSelectAry))return void t.AlertUtil.floatMsg("头墩不能比中墩大");if(this.downSelectAry.length>0&&1==t.PorkUtil.checkCanPutDown(n,this.downSelectAry))return void t.AlertUtil.floatMsg("头墩不能比下墩大");3==n.length&&(t.GameModel.ins.roundModel.listCard=this.getRestPokerAry(n),this.RenderList(),this.RenderTopList(n),App.SoundUtils.playSound("deal_mp3",0,1)),this.checkRestOnly();break;case"area_mid":if(this.mContent.m_list_mid.numItems>0)return;if(this.downSelectAry.length>0&&1==t.PorkUtil.checkCanPutDown(n,this.downSelectAry))return void t.AlertUtil.floatMsg("中墩不能比下墩大");if(this.topSelectAry.length>0&&1==t.PorkUtil.checkCanPutDown(this.topSelectAry,n))return void t.AlertUtil.floatMsg("头墩不能比中墩大");5==n.length&&(t.GameModel.ins.roundModel.listCard=this.getRestPokerAry(n),this.RenderList(),this.RenderMidList(n),App.SoundUtils.playSound("deal_mp3",0,1)),this.checkRestOnly();break;case"area_down":if(this.mContent.m_list_down.numItems>0)return;if(this.midSelectAry.length>0&&1==t.PorkUtil.checkCanPutDown(this.midSelectAry,n))return void t.AlertUtil.floatMsg("中墩不能比下墩大");if(this.topSelectAry.length>0&&1==t.PorkUtil.checkCanPutDown(this.topSelectAry,n))return void t.AlertUtil.floatMsg("头墩不能比下墩大");5==n.length&&(t.GameModel.ins.roundModel.listCard=this.getRestPokerAry(n),this.RenderList(),this.RenderDownList(n),App.SoundUtils.playSound("deal_mp3",0,1)),this.checkRestOnly()}},n.prototype.getSelectPokerAry=function(){for(var t=[],e=0;e<this.porkAry.length;e++){var n=this.porkAry[e];1==n.selectState&&t.push(n.vo)}return t},n.prototype.getRestPokerAry=function(t){for(var e=[],n=0;n<this.porkAry.length;n++){for(var i=this.porkAry[n],o=!0,r=0;r<t.length;r++)if(i.vo==t[r]){o=!1;break}1==o&&e.push(i.vo)}return e},n.prototype.onCloseSelect=function(e){var n=e.currentTarget.name;switch(n){case"btn_close1":t.GameModel.ins.roundModel.listCard=t.GameModel.ins.roundModel.listCard.concat(this.topSelectAry),this.RenderList(),this.RenderTopList([]);break;case"btn_close2":t.GameModel.ins.roundModel.listCard=t.GameModel.ins.roundModel.listCard.concat(this.midSelectAry),this.RenderList(),this.RenderMidList([]);break;case"btn_close3":t.GameModel.ins.roundModel.listCard=t.GameModel.ins.roundModel.listCard.concat(this.downSelectAry),this.RenderList(),this.RenderDownList([])}},n.prototype.onReset=function(){t.GameModel.ins.roundModel.listCard=t.GameModel.ins.roundModel.myCard,this.RenderList(),this.RenderTopList([]),this.RenderMidList([]),this.RenderDownList([]),this.mContent.m_ctrl.selectedIndex=0},n.prototype.onOk=function(){var e=new C2T_Message_BaiPai;e.cards=t.PorkUtil.ChangeClientArrToServer(this.topSelectAry).concat(t.PorkUtil.ChangeClientArrToServer(this.midSelectAry),t.PorkUtil.ChangeClientArrToServer(this.downSelectAry)),e.mb=0,t.ServerEngine.sendBaiPai(e)},n.prototype.BaiPaiCallBack=function(e){e.uid==t.GameModel.ins.uid&&ModuleMgr.ins.closeModule(ModuleEnum.GAME_PUT_PORK)},n.prototype.checkRestOnly=function(){var e=t.GameModel.ins.roundModel.listCard.length;3==e&&0==this.mContent.m_list_top.numItems&&this.doAreaClick("area_top",t.GameModel.ins.roundModel.listCard),5==e&&(0==this.mContent.m_list_mid.numItems?this.doAreaClick("area_mid",t.GameModel.ins.roundModel.listCard):0==this.mContent.m_list_down.numItems&&this.doAreaClick("area_down",t.GameModel.ins.roundModel.listCard))},n.prototype.findPaiXing=function(e,n){return null==n||0==n.length?void(this.mContent["m_paixing_"+e].url=""):t.PorkUtil.findWuTong(n).length>0?void(this.mContent["m_paixing_"+e].url="ui://jow5n9bqrezh26"):t.PorkUtil.findTongHuaShun(n).length>0?void(this.mContent["m_paixing_"+e].url="ui://jow5n9bqrezh25"):t.PorkUtil.findTieZhi(n).length>0?void(this.mContent["m_paixing_"+e].url="ui://jow5n9bqrezh27"):t.PorkUtil.findHuLu(n).length>0?void(this.mContent["m_paixing_"+e].url="ui://jow5n9bqrezh28"):t.PorkUtil.findTongHua(n).length>0?void(this.mContent["m_paixing_"+e].url="ui://jow5n9bqrezh29"):t.PorkUtil.findShunZi(n).length>0?void(this.mContent["m_paixing_"+e].url="ui://jow5n9bqrezh2a"):t.PorkUtil.findSanTiao(n).length>0?void(this.mContent["m_paixing_"+e].url="ui://jow5n9bqrezh2b"):t.PorkUtil.findLiaDui(n).length>0?void(this.mContent["m_paixing_"+e].url="ui://jow5n9bqrezh2c"):t.PorkUtil.findDuiZi(n).length>0?void(this.mContent["m_paixing_"+e].url="ui://jow5n9bqrezh2d"):void(this.mContent["m_paixing_"+e].url="ui://jow5n9bqfetr4k")},n.prototype.onHelp=function(){ModuleMgr.ins.showModule(ModuleEnum.GAME_HELP)},n.prototype.preClose=function(n){this.RenderTopList([]),this.RenderMidList([]),this.RenderDownList([]),this.mContent.m_ctrl.selectedIndex=0,this.mContent.m_btntype1.removeClickListener(this.onChooseType,this),this.mContent.m_btntype2.removeClickListener(this.onChooseType,this),this.mContent.m_btntype3.removeClickListener(this.onChooseType,this),this.mContent.m_btntype4.removeClickListener(this.onChooseType,this),this.mContent.m_btntype5.removeClickListener(this.onChooseType,this),this.mContent.m_btntype6.removeClickListener(this.onChooseType,this),this.mContent.m_btntype7.removeClickListener(this.onChooseType,this),this.mContent.m_btntype8.removeClickListener(this.onChooseType,this),this.mContent.m_btntype9.removeClickListener(this.onChooseType,this),this.mContent.m_porkList.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.doSelect,this),this.mContent.m_porkList.removeEventListener(egret.TouchEvent.TOUCH_END,this.stopSelect,this),this.mContent.m_area_top.removeClickListener(this.onAreaClick,this),this.mContent.m_area_mid.removeClickListener(this.onAreaClick,this),this.mContent.m_area_down.removeClickListener(this.onAreaClick,this),this.mContent.m_btn_close1.removeClickListener(this.onCloseSelect,this),this.mContent.m_btn_close2.removeClickListener(this.onCloseSelect,this),this.mContent.m_btn_close3.removeClickListener(this.onCloseSelect,this),this.mContent.m_btn_cancel.removeClickListener(this.onReset,this),this.mContent.m_btn_ok.removeClickListener(this.onOk,this),this.mContent.m_btn_help.removeClickListener(this.onHelp,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_BAIPAI,this.BaiPaiCallBack,this),this.porkAry=null,this.RenderTopList([]),this.RenderMidList([]),this.RenderDownList([]),e.prototype.preClose.call(this,n)},n}(PopModuleView);t.PutPorkModule=e,__reflect(e.prototype,"game.PutPorkModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Game.UI_UserInfo.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(t){this.user=t,this.mContent.m_btn_close.addClickListener(this.onClose,this),this.mContent.m_btn_zadan.addClickListener(this.onZaDan,this),this.mContent.m_btn_flower.addClickListener(this.onFlower,this),this.mContent.m_head.setURL(this.user.avatar),this.mContent.m_txt_name.text="昵称:"+this.user.name,this.mContent.m_txt_id.text="ID:"+this.user.uid,this.mContent.m_txt_score.text="积分:"+this.user.sc.toString(),this.mContent.m_txt_pos.text="",e.prototype.preShow.call(this,t)},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.onZaDan=function(){if(this.user.uid==t.GameModel.ins.uid)for(var e=0;e<t.GameModel.ins.roomModel.users.length;e++)t.GameModel.ins.roomModel.users[e].uid!=t.GameModel.ins.uid&&t.ServerEngine.sendFlower(t.GameModel.ins.roomModel.users[e].uid+"|boom");else t.ServerEngine.sendFlower(this.user.uid+"|boom");this.onClose()},n.prototype.onFlower=function(){if(this.user.uid==t.GameModel.ins.uid)for(var e=0;e<t.GameModel.ins.roomModel.users.length;e++)t.GameModel.ins.roomModel.users[e].uid!=t.GameModel.ins.uid&&t.ServerEngine.sendFlower(t.GameModel.ins.roomModel.users[e].uid+"|flower");else t.ServerEngine.sendFlower(this.user.uid+"|flower");this.onClose()},n.prototype.onClose=function(){ModuleMgr.ins.closeModule(ModuleEnum.USERINFO)},n}(PopModuleView);t.UserInfoPanel=e,__reflect(e.prototype,"game.UserInfoPanel")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.GameHelper.UI_GameHelper.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80rezh18",t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e}(PopModuleView);t.GameHelpModule=e,__reflect(e.prototype,"game.GameHelpModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.MainUI.UI_MainModule.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(e){this.mContent.m_btn_kefu.addClickListener(this.onKefuClick,this),this.mContent.m_btn_notice.addClickListener(this.onNoticeClick,this),this.mContent.m_btn_mail.addClickListener(this.onMailClick,this),this.mContent.m_btn_shuoming.addClickListener(this.onShuoMingClick,this),this.mContent.m_btn_setting.addClickListener(this.onSettingClick,this),this.mContent.m_btn_zhanji.addClickListener(this.onZhanjiClick,this),this.mContent.m_btn_rank.addClickListener(this.onRankClick,this),this.mContent.m_btn_activity.addClickListener(this.onActivityClick,this),this.mContent.m_sp_add.addClickListener(this.onJoinRoom,this),this.mContent.m_sp_create.addClickListener(this.onCreateRoom,this),this.mContent.m_sp_quan.addClickListener(this.onQuan,this),this.mContent.m_btn_buyCard.addClickListener(this.onBuyCard,this),this.mContent.m_btn_add.addClickListener(this.onBuyCard,this),App.MessageCenter.addListener(t.MsgEnum.UPDATE_MYINFO,this.updatePlayerInfo,this),App.MessageCenter.addListener(t.MsgEnum.STOP_PLAY_MUSIC,this.playMusic,this),this.updatePlayerInfo(),this.preShowCpl(),App.SoundUtils.playSound("music_bg_home_mp3",1,0)},n.prototype.show=function(t){this.onShare(),e.prototype.show.call(this,t),null!=t&&1==t.fromPlay&&ModuleMgr.ins.showModule(ModuleEnum.ZHANJI)},n.prototype.updatePlayerInfo=function(){this.mContent.m_txt_name.text=t.GameModel.ins.uname,this.mContent.m_txt_id.text="ID:"+t.GameModel.ins.uid,this.mContent.m_txt_card.text=t.GameModel.ins.card.toString(),this.mContent.m_head.setURL(t.GameModel.ins.avatar)},n.prototype.onMailClick=function(){ModuleMgr.ins.showModule(ModuleEnum.MAIL)},n.prototype.onShuoMingClick=function(){ModuleMgr.ins.showModule(ModuleEnum.SHUOMING)},n.prototype.onNoticeClick=function(){ModuleMgr.ins.showModule(ModuleEnum.NOTICE)},n.prototype.onSettingClick=function(){ModuleMgr.ins.showModule(ModuleEnum.SETTING)},n.prototype.onKefuClick=function(){ModuleMgr.ins.showModule(ModuleEnum.KEFU)},n.prototype.onZhanjiClick=function(){ModuleMgr.ins.showModule(ModuleEnum.ZHANJI)},n.prototype.onRankClick=function(){ModuleMgr.ins.showModule(ModuleEnum.RANK)},n.prototype.onActivityClick=function(){ModuleMgr.ins.showModule(ModuleEnum.ACTIVITY)},n.prototype.onJoinRoom=function(){ModuleMgr.ins.showModule(ModuleEnum.JOINROOM)},n.prototype.onCreateRoom=function(){ModuleMgr.ins.showModule(ModuleEnum.CREATE_ROOM)},n.prototype.onBuyCard=function(){ModuleMgr.ins.showModule(ModuleEnum.BUY_CARD)},n.prototype.onQuan=function(){t.AlertUtil.floatMsg("牌友圈未开放，尽情期待")},n.prototype.playMusic=function(t){1==t?App.SoundUtils.playSound("music_bg_home_mp3",1,0):App.SoundUtils.stopSoundByID("music_bg_home_mp3")},n.prototype.onShare=function(){var e=new Object;e.shareUserId=t.GameModel.ins.uid,e.shareUserName=t.GameModel.ins.uname,e.avatar=t.GameModel.ins.avatar,t.WXUtil.ins.share(e)},n.prototype.preClose=function(e){App.SoundUtils.stopSoundByID("music_bg_home_mp3"),App.MessageCenter.removeListener(t.MsgEnum.STOP_PLAY_MUSIC,this.playMusic,this),this.preCloseCpl()},n}(Module);t.GameMainModule=e,__reflect(e.prototype,"game.GameMainModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setURL=function(t){0==App.GlobalData.IsDebug&&RES.getResByUrl(t,this.loaded,this,RES.ResourceItem.TYPE_IMAGE)},e.prototype.loaded=function(t){var e=t;this.m_img.texture=e},e}(UI.MainUI.UI_HeadImage);t.PlayerHeadImg=e,__reflect(e.prototype,"game.PlayerHeadImg")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setURL=function(t){0==App.GlobalData.IsDebug&&RES.getResByUrl(t,this.loaded,this,RES.ResourceItem.TYPE_IMAGE)},e.prototype.loaded=function(t){var e=t;this.m_img.texture=e},e}(UI.MainUI.UI_HeadImage1);t.PlayerHeadImg1=e,__reflect(e.prototype,"game.PlayerHeadImg1")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Base.UI_SimpleAlert.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.vo=e,this.mContent.m_content.text=this.vo.content,this.mContent.m_btn_ok.addClickListener(this.onOkClick,this),this.mContent.m_btn_cancel.addClickListener(this.onCancelClick,this),t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e.prototype.onOkClick=function(){null!=this.vo.handleYes&&this.vo.handleYes.run(),ModuleMgr.ins.closeModule(this.moduleId)},e.prototype.onCancelClick=function(){null!=this.vo.handleNo&&this.vo.handleNo.run(),ModuleMgr.ins.closeModule(this.moduleId)},e}(PopModuleView);t.AlertModule=e,__reflect(e.prototype,"game.AlertModule")}(game||(game={}));var game;!function(t){var e=function(){function t(t,e,n){this.content=t,this.handleYes=e,this.handleNo=n}return t}();t.AlertMsgVO=e,__reflect(e.prototype,"game.AlertMsgVO")}(game||(game={}));var game;!function(t){var e=function(){function e(){}return e.alert=function(e,n){ModuleMgr.ins.showModule(ModuleEnum.ALERT,new t.AlertMsgVO(e,n,null))},e.floatMsg=function(e){App.MessageCenter.dispatch(t.MsgEnum.FLOAT_MSG,e)},e}();t.AlertUtil=e,__reflect(e.prototype,"game.AlertUtil")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.setData=function(e,n){0==e?this.m_winner.visible=!0:this.m_winner.visible=!1;var i=t.GameModel.ins.roomModel.getUserById(n.uid);this.m_txt_name.text=i.name,this.m_txt_id.text="ID:"+i.uid,this.m_head.setURL(i.avatar);for(var o=0;6>o;o++)if(null!=n.scoreArr[o]){var r=n.scoreArr[o].toString();this["m_txt_ju"+o].text="第"+(o+1)+"局:"+r}else this["m_txt_ju"+o].text="";n.resultScore>0?(this.m_bg.url="ui://25mni52ohmwn1h",this.m_txt_score.text="+"+n.resultScore):(this.m_bg.url="ui://25mni52ohmwn1g",this.m_txt_score.text=n.resultScore.toString())},n.prototype.setDataPlay=function(t,e){0==t?this.m_winner.visible=!0:this.m_winner.visible=!1;var n=e.getScoreById(e.playerFinalData[t].uid);this.m_txt_name.text=e.playerFinalData[t].name,this.m_txt_id.text="ID:"+e.playerFinalData[t].uid,this.m_head.setURL(e.playerFinalData[t].avatar);for(var i=0;6>i;i++)if(null!=n[i]){var o=n[i].toString();n[i]>0&&(o="+"+o),this["m_txt_ju"+i].text="第"+(i+1)+"局:"+o}else this["m_txt_ju"+i].text="";e.playerFinalData[t].sc>0?(this.m_bg.url="ui://25mni52ohmwn1h",this.m_txt_score.text="+"+e.playerFinalData[t].sc):(this.m_bg.url="ui://25mni52ohmwn1g",this.m_txt_score.text=e.playerFinalData[t].sc.toString())},n}(UI.Result.UI_AllResultItem);t.AllResultItem=e,__reflect(e.prototype,"game.AllResultItem")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Result.UI_AllResult.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(n){this.mContent.m_btn_back.addClickListener(this.onBack,this),this.mContent.m_btn_share.addClickListener(this.onShare,this),this.mContent.m_txt_roomid.text="房间:"+t.GameModel.ins.roomModel.rid,this.mContent.m_txt_info.text=1==t.GameModel.ins.roomModel.rinfo.fc?"房主付费":"房费AA "+t.GameModel.ins.roomModel.rinfo.pn+"人 "+t.GameModel.ins.roomModel.rinfo.snum+"局 ",this.mContent.m_txt_time.text=Utils.timetrans((new Date).getTime()),e.prototype.preShow.call(this,n)},n.prototype.show=function(n){App.SoundUtils.playSound("over_mp3",0,1),this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=t.GameModel.ins.roomModel.jieSuanAll.length,e.prototype.show.call(this,n)},n.prototype.RenderListItem=function(e,n){var i=n;i.setData(e,t.GameModel.ins.roomModel.jieSuanAll[e])},n.prototype.onBack=function(){t.GameModel.ins.roomModel.hasPlayedJu<t.GameModel.ins.roomModel.rinfo.snum&&t.AlertUtil.floatMsg("房间已经解散"),t.GameModel.ins.disMissRoom(),ModuleMgr.ins.changeScene(ModuleEnum.GAME_SINGLE_RESULT,ModuleEnum.GAME_MAIN)},n.prototype.onShare=function(){var t=new egret.RenderTexture;t.drawToTexture(this.mContent.displayObject);var e=document.getElementById("divImage"),n=document.getElementById("shareImage");n.src=t.toDataURL("image/jpeg"),e.style.display="block"},n}(Module);t.AllResultModule=e,__reflect(e.prototype,"game.AllResultModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Result.UI_AllResult.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.round=e,this.mContent.m_btn_back.addClickListener(this.onBack,this),this.mContent.m_btn_share.addClickListener(this.onShare,this),this.mContent.m_txt_roomid.text="房间:"+this.round.Rd,this.mContent.m_txt_info.text=this.round.Fc+"人 ",t.prototype.preShow.call(this,e)},e.prototype.show=function(e){this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=this.round.playerFinalData.length,t.prototype.show.call(this,e)},e.prototype.RenderListItem=function(t,e){var n=e;n.setDataPlay(t,this.round)},e.prototype.onBack=function(){ModuleMgr.ins.changeScene(ModuleEnum.GAME_SINGLE_RESULT,ModuleEnum.GAME_MAIN)},e.prototype.onShare=function(){var t=new egret.RenderTexture;t.drawToTexture(this.mContent.displayObject);var e=document.getElementById("divImage"),n=document.getElementById("shareImage");n.src=t.toDataURL("image/jpeg"),e.style.display="block"},e}(Module);t.AllResultPlayModule=e,__reflect(e.prototype,"game.AllResultPlayModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.setData=function(e){this.porkVOArr=e.cards,this.m_txt_name.text=t.GameModel.ins.roomModel.getUserById(e.uid).name,this.m_txt_id.text="ID:"+e.uid,this.m_head.setURL(t.GameModel.ins.roomModel.getUserById(e.uid).avatar);var n=e.sc.toString();e.sc>0&&(n="+"+n),this.m_txt_score.text=n,this.m_list_top.itemRenderer=this.RenderListItem1,this.m_list_top.callbackThisObj=this,this.m_list_top.numItems=3,this.m_list_mid.itemRenderer=this.RenderListItem2,this.m_list_mid.callbackThisObj=this,this.m_list_mid.numItems=5,this.m_list_down.itemRenderer=this.RenderListItem3,this.m_list_down.callbackThisObj=this,this.m_list_down.numItems=5},n.prototype.setDataPlay=function(t){this.juplayer=t,this.m_txt_name.text=this.juplayer.name,this.m_txt_id.text="ID:"+this.juplayer.id;var e=this.juplayer.sc.toString();t.sc>0&&(e="+"+e),this.m_txt_score.text=e,this.m_list_top.itemRenderer=this.RenderListItem11,this.m_list_top.callbackThisObj=this,this.m_list_top.numItems=3,this.m_list_mid.itemRenderer=this.RenderListItem22,this.m_list_mid.callbackThisObj=this,this.m_list_mid.numItems=5,this.m_list_down.itemRenderer=this.RenderListItem33,this.m_list_down.callbackThisObj=this,this.m_list_down.numItems=5},n.prototype.RenderListItem1=function(t,e){var n=e;n.setData(this.porkVOArr[t])},n.prototype.RenderListItem2=function(t,e){var n=e;n.setData(this.porkVOArr[3+t])},n.prototype.RenderListItem3=function(t,e){var n=e;n.setData(this.porkVOArr[8+t])},n.prototype.RenderListItem11=function(t,e){var n=e;n.setData(this.juplayer.topCards[t])},n.prototype.RenderListItem22=function(t,e){var n=e;n.setData(this.juplayer.midCards[t])},n.prototype.RenderListItem33=function(t,e){var n=e;n.setData(this.juplayer.downCards[t])},n}(UI.Result.UI_SingleResultItem);t.SingleResultItem=e,__reflect(e.prototype,"game.SingleResultItem")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Result.UI_SingleResult.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(n){this.mContent.m_btn_continue.addClickListener(this.onContinue,this),this.mContent.m_btn_check.addClickListener(this.onCheck,this),this.mContent.m_c1.selectedIndex=0,this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.cards=t.GameModel.ins.roundModel.result.cards.concat([]),this.cards.sort(function(t,e){return e.sc-t.sc}),this.mContent.m_list.numItems=this.cards.length,this.mContent.m_txt_roominfo.text=1==t.GameModel.ins.roomModel.rinfo.fc?"房主付费":"房费AA "+t.GameModel.ins.roomModel.rinfo.pn+"人 "+t.GameModel.ins.roomModel.rinfo.nnum+"/"+t.GameModel.ins.roomModel.rinfo.snum+"局 ",this.mContent.m_txt_time.text=Utils.timetrans((new Date).getTime()),e.prototype.preShow.call(this,n)},n.prototype.show=function(n){e.prototype.show.call(this,n),t.GameModel.ins.roomModel.isSingleOpen=!0},n.prototype.onContinue=function(){t.GameModel.ins.roomModel.isAllFinish?ModuleMgr.ins.changeScene(ModuleEnum.GAME,ModuleEnum.GAME_ALL_RESULT):(App.MessageCenter.dispatch(t.MsgEnum.GAME_BEGIN_RESTART),t.ServerEngine.sendReady(),ModuleMgr.ins.closeModule(ModuleEnum.GAME_SINGLE_RESULT))},n.prototype.RenderListItem=function(t,e){var n=e;n.setData(this.cards[t])},n.prototype.onCheck=function(){App.MessageCenter.dispatch(t.MsgEnum.GAME_CHECK_SINGLE),ModuleMgr.ins.closeModule(ModuleEnum.GAME_SINGLE_RESULT)},n.prototype.preClose=function(e){null!=t.GameModel.ins.roomModel&&(t.GameModel.ins.roomModel.isSingleOpen=!1),this.preCloseCpl()},n}(Module);t.SingleResultModule=e,__reflect(e.prototype,"game.SingleResultModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Result.UI_SingleResult.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(t){this.round=t,this.mContent.m_btn_continue.addClickListener(this.onContinue,this),this.mContent.m_btn_check.addClickListener(this.onCheck,this),this.mContent.m_c1.selectedIndex=1,this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=this.round.jus[this.round.cur].players.length,this.mContent.m_txt_roominfo.text=this.round.Fc+"人 "+(this.round.cur+1)+"/"+this.round.Jn+"局 ",this.mContent.m_txt_time.text="",e.prototype.preShow.call(this,t)},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.onContinue=function(){this.round.cur==this.round.jus.length-1?ModuleMgr.ins.changeScene(ModuleEnum.REPLAY,ModuleEnum.GAME_MAIN,{fromPlay:!0}):(this.round.cur++,App.MessageCenter.dispatch(t.MsgEnum.PLAY_NEXT),ModuleMgr.ins.closeModule(ModuleEnum.GAME_SINGLE_RESULT_PLAY))},n.prototype.RenderListItem=function(t,e){var n=e;n.setDataPlay(this.round.jus[this.round.cur].players[t])},n.prototype.onCheck=function(){},n}(Module);t.SingleResultPlayModule=e,__reflect(e.prototype,"game.SingleResultPlayModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.enterNumber="",t}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.AddRoom.UI_AddRoom.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(t){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fal";for(var n=0;10>n;n++)this.mContent["m_btn"+n].addClickListener(this.onClickNum,this);this.mContent.m_btndel.addClickListener(this.onDel,this),this.mContent.m_btnreset.addClickListener(this.onReset,this),this.updateCode(),e.prototype.preShow.call(this,t)},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.onClickNum=function(t){var e=t.target.name.slice(3,4);this.enterNumber.length<6&&(this.enterNumber=this.enterNumber.concat(e)),this.updateCode()},n.prototype.onDel=function(){this.enterNumber=this.enterNumber.slice(0,this.enterNumber.length-1),this.updateCode()},n.prototype.onReset=function(){this.enterNumber="",this.updateCode()},n.prototype.updateCode=function(){for(var e=this.enterNumber.split(""),n=0;6>n;n++)null!=e[n]?this.mContent["m_txt"+(n+1)].text=e[n]:this.mContent["m_txt"+(n+1)].text="";6==this.enterNumber.length&&(t.ServerEngine.enterRoom(this.enterNumber),App.MessageCenter.addListener(t.MsgEnum.NEW_UESR_IN,this.enterRoomCallBack,this))},n.prototype.enterRoomCallBack=function(e){e.uid==t.GameModel.ins.uid&&(App.MessageCenter.removeListener(t.MsgEnum.NEW_UESR_IN,this.enterRoomCallBack,this),ModuleMgr.ins.changeScene(ModuleEnum.GAME_MAIN,ModuleEnum.GAME))},n}(PopModuleView);t.JoinRoomModule=e,__reflect(e.prototype,"game.JoinRoomModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Kefu.UI_KeFu.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(t){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fam",this.mContent.m_btn_ok.addClickListener(this.onCloseClick,this),this.mContent.m_btn_copy.addClickListener(this.onCopy,this),e.prototype.preShow.call(this,t)},n.prototype.onCopy=function(){var e=(new t.Clipboard).setText("1234567890");e?t.AlertUtil.floatMsg("复制成功"):t.AlertUtil.floatMsg("复制失败")},n.prototype.show=function(t){e.prototype.show.call(this,t)},n}(PopModuleView);t.KeFuModule=e,__reflect(e.prototype,"game.KeFuModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Loading.UI_LoadingModule.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(t){this.mContent.m_btn_start.visible=!1,this.mContent.m_txt.visible=!1,this.preShowCpl()},n.prototype.show=function(t){this.mContent.m_bar.value=0,this.mContent.m_bar.visible=!1,this.mContent.m_img.visible=!1,this.mContent.m_txt_name.requestFocus(),App.Socket.connect(core.Handler.create(this,this.onServerConnected)),console.log(fairygui.GRoot.inst.width),console.log(window.innerWidth),console.log(fairygui.GRoot.inst.height),console.log(window.innerHeight),setDivOri(window.innerWidth,window.innerHeight),e.prototype.show.call(this,t)
},n.prototype.onServerConnected=function(){if(0==App.GlobalData.IsDebug){App.Socket.addCmdListener(MsgType.Login,core.Handler.create(this,this.loginCallBack));var e=new C2T_Login;e.Msg.name=t.OptModel.ins.name,e.Msg.wid=t.OptModel.ins.token,e.Msg.mid=App.MathUtils.random(1,1e6).toString(),e.Msg.head=t.OptModel.ins.head,e.Msg.chid=t.OptModel.ins.channelId,App.Socket.send(e)}else this.mContent.m_btn_start.visible=!0,this.mContent.m_txt.visible=!0,this.mContent.m_btn_start.addClickListener(this.doStart,this)},n.prototype.loaded=function(){console.log(111)},n.prototype.doStart=function(){if(""!=this.mContent.m_txt_name.text){this.mContent.m_btn_start.visible=!1,this.mContent.m_txt.visible=!1,this.mContent.m_bar.visible=!0,this.mContent.m_img.visible=!0,this.uid=this.mContent.m_txt_name.text,App.Socket.addCmdListener(MsgType.Login,core.Handler.create(this,this.loginCallBack));var t=new C2T_Login;t.Msg.name=this.uid,t.Msg.wid=this.uid,t.Msg.mid=App.MathUtils.random(1,1e3).toString(),t.Msg.head="http://www.touxiang.cn/uploads/20131110/10-010858_115.jpg",t.Msg.chid="",App.Socket.send(t)}},n.prototype.loginCallBack=function(e){this.mContent.m_bar.visible=!0,this.mContent.m_img.visible=!0,App.Socket.removeCmdListener(MsgType.Login,this.loginCallBack),t.ServerEngine.addSocketListener(),RES.loadGroup("game",0,this),App.Socket.addCmdListener(MsgType.ReConnect,core.Handler.create(this,this.reConnectCallBack)),t.ServerEngine.sendBeart()},n.prototype.reConnectCallBack=function(e){t.GameModel.ins.setReConnectInfo(e)},n.prototype.onProgress=function(t,e){this.mContent.m_img.x=this.mContent.m_bar.x-5+t/e*(this.mContent.m_bar.width-80),this.mContent.m_bar.max=e,this.mContent.m_bar.value=t,t==e&&this.startGame()},n.prototype.startGame=function(){t.SettingModel.ins.init(),fairygui.UIPackage.addPackage("Base"),fairygui.UIPackage.addPackage("MainUI"),fairygui.UIPackage.addPackage("Mail"),fairygui.UIPackage.addPackage("Kefu"),fairygui.UIPackage.addPackage("Notice"),fairygui.UIPackage.addPackage("ZhanJi"),fairygui.UIPackage.addPackage("Activity"),fairygui.UIPackage.addPackage("AddRoom"),fairygui.UIPackage.addPackage("CreateRoom"),fairygui.UIPackage.addPackage("BuyCard"),fairygui.UIPackage.addPackage("Setting"),fairygui.UIPackage.addPackage("ShuoMing"),fairygui.UIPackage.addPackage("Game"),fairygui.UIPackage.addPackage("Bg1"),fairygui.UIPackage.addPackage("Bg2"),fairygui.UIPackage.addPackage("Bg3"),fairygui.UIPackage.addPackage("Bg4"),fairygui.UIPackage.addPackage("MainBg"),fairygui.UIPackage.addPackage("PutPorkBg"),fairygui.UIPackage.addPackage("GameHelper"),fairygui.UIPackage.addPackage("Rank"),fairygui.UIPackage.addPackage("Result"),fairygui.UIPackage.addPackage("TestPork"),ModuleMgr.ins.showModule(ModuleEnum.FLOAT),console.log("-----shareRoomId"+t.OptModel.ins.shareRoomId),console.log("-----shareRePlayRoomId"+t.OptModel.ins.shareRePlayRoomId),null!=t.GameModel.ins.roomModel&&t.GameModel.ins.roomModel.isReConnectInRoom?ModuleMgr.ins.changeScene(ModuleEnum.LOADING,ModuleEnum.GAME):null!=t.OptModel.ins.shareRoomId&&t.OptModel.ins.shareUserId!=t.GameModel.ins.uid?(t.ServerEngine.enterRoom(t.OptModel.ins.shareRoomId),App.MessageCenter.addListener(t.MsgEnum.NEW_UESR_IN,this.enterRoomCallBack,this),App.MessageCenter.addListener(t.MsgEnum.ENTER_ROOM_FAILD,this.enterRoomFaild,this)):null!=t.OptModel.ins.shareRePlayRoomId?HttpAPI.HttpGET("http://"+App.GlobalData.SocketServer+":8883/huifang",{uid:t.GameModel.ins.uid,id:t.OptModel.ins.shareRePlayRoomId},this.onCallBack,this.onError,this):ModuleMgr.ins.changeScene(ModuleEnum.LOADING,ModuleEnum.GAME_MAIN,[]),getLocation()},n.prototype.enterRoomCallBack=function(e){e.uid==t.GameModel.ins.uid&&(App.MessageCenter.removeListener(t.MsgEnum.NEW_UESR_IN,this.enterRoomCallBack,this),ModuleMgr.ins.changeScene(ModuleEnum.LOADING,ModuleEnum.GAME))},n.prototype.enterRoomFaild=function(){ModuleMgr.ins.changeScene(ModuleEnum.LOADING,ModuleEnum.GAME_MAIN,[])},n.prototype.onCallBack=function(e){var n=JSON.parse(e.target.response);if(null==n.data)t.AlertUtil.floatMsg(n.err),ModuleMgr.ins.changeScene(ModuleEnum.LOADING,ModuleEnum.GAME_MAIN,[]);else{var i=JSON.parse(n.data.msg),o=new t.Round;o.init(i),ModuleMgr.ins.changeScene(ModuleEnum.LOADING,ModuleEnum.REPLAY,o)}},n.prototype.onError=function(t){ModuleMgr.ins.changeScene(ModuleEnum.LOADING,ModuleEnum.GAME_MAIN,[])},n}(Module);t.LoadingModule=e,__reflect(e.prototype,"game.LoadingModule",["RES.PromiseTaskReporter"])}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Mail.UI_MailDetail.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fao",t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e}(PopModuleView);t.MailDetailModule=e,__reflect(e.prototype,"game.MailDetailModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(){this.m_btn_read.addClickListener(this.OpenDetail,this)},e.prototype.OpenDetail=function(){ModuleMgr.ins.showModule(ModuleEnum.MAIL_DETAIL)},e}(UI.Mail.UI_MailItem);t.MailListItem=e,__reflect(e.prototype,"game.MailListItem")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Mail.UI_MailModule.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fao",this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=5,t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e.prototype.RenderListItem=function(t,e){var n=e;n.setData()},e}(PopModuleView);t.MailModule=e,__reflect(e.prototype,"game.MailModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Notice.UI_Notice.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5faq",t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e}(PopModuleView);t.NoticeModule=e,__reflect(e.prototype,"game.NoticeModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.nowPer=0,e}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.PreLoading.UI_PreLoading.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(t){this.preShowCpl()},e.prototype.show=function(e){t.prototype.show.call(this,e),App.TimerManager.doFrame(1,0,this.updateBar,this)},e.prototype.updateBar=function(){this.nowPer+=2,this.nowPer>=50&&(this.nowPer=50),this.mContent.m_img.x=this.mContent.m_bar.x-5+this.nowPer/50*(this.mContent.m_bar.width-80),this.mContent.m_bar.max=50,this.mContent.m_bar.value=this.nowPer},e.prototype.preClose=function(t){App.TimerManager.remove(this.updateBar,this),this.preCloseCpl()},e}(Module);t.PreLoadingModule=e,__reflect(e.prototype,"game.PreLoadingModule")}(game||(game={}));var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){egret.lifecycle.addLifecycleListener(function(t){t.onUpdate=function(){}}),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.doTest=function(){game.GameModel.ins.createRoundTest();var t=game.PorkUtil.findShunZi(game.GameModel.ins.roundModel.myCard);console.log(t.length);for(var e=0;e<t.length;e++){for(var n="",i=0;i<t[e].length;i++)n+=t[e][i].point+"-";console.log(n)}},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(n){switch(n.label){case 0:return[4,this.loadPreLoadResource1()];case 1:return n.sent(),fairygui.UIPackage.addPackage("PreLoading"),this.startEngine(),[4,this.loadPreLoadResource()];case 2:return n.sent(),[4,RES.getResAsync("description_json")];case 3:return t=n.sent(),0!=App.GlobalData.IsDebug?[3,6]:[4,platform.login()];case 4:return n.sent(),[4,platform.getUserInfo()];case 5:e=n.sent(),console.log(e),n.label=6;case 6:return this.loadLoadingResource(),[2]}})})},e.prototype.loadPreLoadResource1=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return e.sent(),[4,RES.loadGroup("preload",0)];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),console.error(t),[3,4];case 4:return[2]}})})},e.prototype.loadPreLoadResource=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),ModuleMgr.ins.showModule(ModuleEnum.PRELOADING),[4,RES.loadGroup("loading",0)];case 1:return e.sent(),[3,3];case 2:return t=e.sent(),console.error(t),[3,3];case 3:return[2]}})})},e.prototype.loadLoadingResource=function(){fairygui.UIPackage.addPackage("Loading"),ModuleMgr.ins.closeModule(ModuleEnum.PRELOADING),ModuleMgr.ins.showModule(ModuleEnum.LOADING,[])},e.prototype.startEngine=function(){App.StageUtils.startFullscreenAdaptation(1206,750),LayerCenter.Instance.init(this.stage),App.run(this.stage),new RegModuleTask,new BindFGuiTask,new RegRunTimeClassTask,egret.ExternalInterface.addCallback("sendToTs",function(t){console.log("message form native : "+t)})},e.prototype.startGame=function(){fairygui.UIPackage.addPackage("Base")},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Rank.UI_RankModule.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80du5019",HttpAPI.HttpGET("http://"+App.GlobalData.SocketServer+":8883/rank",{uid:t.GameModel.ins.uid},this.onCallBack,this.onError,this)},n.prototype.onCallBack=function(e){this.preShowCpl();var n=JSON.parse(e.target.response);""==n.err?(this.result=n.data,this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=this.result.length):console.log(n.err),this.mContent.m_txt_name.text=t.GameModel.ins.uname,this.mContent.m_img_outrank.visible=!0;for(var i=0;i<this.result.length;i++)if(this.result[i].uid==t.GameModel.ins.uid){this.mContent.m_img_outrank.visible=!1;var o=(i+1).toString();this.mContent.m_txt_rank.text="第"+o+"名",this.mContent.m_txt_name.text=this.result[i].uname,this.mContent.m_txt_score.text=this.result[i].wnum+"/"+this.result[i].num;break}this.mContent.m_head.setURL(t.GameModel.ins.avatar)},n.prototype.onError=function(t){},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.RenderListItem=function(t,e){var n=e;n.setData(t,this.result[t])},n}(PopModuleView);t.RankModule=e,__reflect(e.prototype,"game.RankModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Setting.UI_Setting.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(n){this.mContent.m_panelBg.m_title.url="ui://i36kne80h5w5w",this.mContent.m_btn_help.addClickListener(this.onHelp,this),this.mContent.m_btn_music.addClickListener(this.onMusic,this),this.mContent.m_btn_sound.addClickListener(this.onSound,this),this.mContent.m_btn_bg1.addClickListener(this.onChooseBg,this),this.mContent.m_btn_bg2.addClickListener(this.onChooseBg,this),this.mContent.m_btn_bg3.addClickListener(this.onChooseBg,this),this.mContent.m_DeskChooseCtrl.selectedIndex=t.SettingModel.ins.bg,this.mContent.m_btn_music.selected=!t.SettingModel.ins.music,this.mContent.m_btn_sound.selected=!t.SettingModel.ins.sound,e.prototype.preShow.call(this,n)},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.onHelp=function(){t.AlertUtil.floatMsg("请联系客服解决！")},n.prototype.onMusic=function(){t.SettingModel.ins.setMusic()},n.prototype.onSound=function(){t.SettingModel.ins.setSound()},n.prototype.onChooseBg=function(){t.SettingModel.ins.setBg(this.mContent.m_DeskChooseCtrl.selectedIndex)},n}(PopModuleView);t.SettingModule=e,__reflect(e.prototype,"game.SettingModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.ShuoMing.UI_ShuoMing.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"m_txt_content",{get:function(){return this.mContent.m_txtcontent},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fan",this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=5,this.mContent.m_list.addClickListener(this.chooseTab,this),this.mContent.m_list.selectedIndex=0,this.chooseTab(),t.prototype.preShow.call(this,e)},e.prototype.RenderListItem=function(t,e){var n=e;n.setData(t)},e.prototype.chooseTab=function(){switch(this.mContent.m_list.selectedIndex){case 0:this.mContent.m_txt_num.text="2-4人",this.m_txt_content.m_txt_content.text="一、游戏术语\n墩数万家手中的牌按照三张、五张、五张分为三组，成为前墩中墩后墩，之后与其他三家比牌，较大则赢一墩，不同的特殊牌型有额外的墩数计算。\n单张（乌龙）：\n一墩牌里没有特殊牌型都是单张独立的牌。\n对子、两对、三条：\n对子就是两张一样的牌，两对是两个对子加上一张单牌，三条就是三张一样的牌，中后墩三条就是额外加上两张单牌\n顺子：\n连续的五张牌\n同花：\n五张相同花色的牌\n葫芦：\n三条加上一对\n铁支：\n四张一样的牌加一张单牌\n五同：\n五张一样的牌，是所有牌中最大的牌。\n打枪：\n比牌结束后，如果其中一个玩家三墩全胜过另一个玩家，则称为打枪，打枪翻倍。\n全垒打：\n3人以上牌局时，若单个玩家打枪胜过所有其他玩家，就是全垒打。\n二、牌型大小\n基础牌型大小：\n五同>同花顺>铁支>葫芦>同花>顺子>三条>两对>一对>乌龙\n牌面大小顺序：\nA>K>Q>J>10>9>8>7>6>5>4>3>2\n特殊牌型大小：\n至尊清龙>一条龙>三炸弹>四套三条>全大=全小=凑一色=五对冲三=带铁支六对半=带同花顺三顺子=带同花顺三同花>六对半=三顺子=三同花\n至尊清龙：清一色从A-K\n一条龙：从A-K\n三炸弹：3个铁支\n四套三条：四套相同的三张牌+任意一张杂牌\n全大：所有的牌都是8—A\n全小：所有牌都是2-7\n凑一色：所有牌全红火全黑\n五队冲三：5个对子+1个3条\n带铁支六对半：含有铁支的六对半\n带同花顺三顺子：含有同花顺的三顺子\n带同花顺三同花：含有同花顺的三同花\n六对半：6个对子加任意一张单牌\n三顺子：三墩水都是顺子牌\n三同花：三墩水都是同一种花色\n三、基本玩法\n普通牌型，每一墩算一水\n一家通杀一家，翻倍，3人以上（含3人）一家通杀，翻两倍（一普通牌型通杀为例，每家赢12水）\n同花十三水104水\n三炸弹100水\n十三水52水\n四套三条36水\n全大12水\n全小12水\n凑一色12水\n五对冲三12水\n六对半12水\n三顺子12水\n三同花6水\n五同 底墩10水，中墩20水\n同花顺 底墩5水，中墩10水\n炸弹，底墩4水，中墩8水\n三尖刀 头墩三条3水\n葫芦一水，中墩两水\n同花、杂顺、三条、两对、对子、乌龙都是1水\n特殊说明：单玩家同一墩一样大时，则算平局，特殊牌型不参与比牌，等起与玩家比牌后直接翻牌计算。\n";break;case 1:this.mContent.m_txt_num.text="2-5人",this.m_txt_content.m_txt_content.text="一、游戏术语\n墩数万家手中的牌按照三张、五张、五张分为三组，成为前墩中墩后墩，之后与其他三家比牌，较大则赢一墩，不同的特殊牌型有额外的墩数计算。\n单张（乌龙）：\n一墩牌里没有特殊牌型都是单张独立的牌。\n对子、两对、三条：\n对子就是两张一样的牌，两对是两个对子加上一张单牌，三条就是三张一样的牌，中后墩三条就是额外加上两张单牌\n顺子：\n连续的五张牌\n同花：\n五张相同花色的牌，同花相比，只比五张牌中最大的那张牌。\n葫芦：\n三条加上一对\n铁支：\n四张一样的牌加一张单牌\n五同：\n五张一样的牌，是所有牌中最大的牌。\n打枪：\n比牌结束后，如果其中一个玩家三墩全胜过另一个玩家，则称为打枪，打枪翻倍。\n全垒打：\n3人以上牌局时，若单个玩家打枪胜过所有其他玩家，就是全垒打。\n二、牌型大小\n基础牌型大小：\n五同>同花顺>铁支>葫芦>同花>顺子>三条>两对>一对>乌龙\n牌面大小顺序：\nA>K>Q>J>10>9>8>7>6>5>4>3>2\n特殊牌型大小：\n至尊清龙>一条龙>四套三条>六对半=三顺子=三同花\n至尊清龙：清一色从A-K\n一条龙：从A-K\n四套三条：四套相同的三张牌+任意一张杂牌\n六对半：6个对子加一张任意单牌\n三顺子：三墩水都是顺子牌\n三同花：三墩水都是同一种花色\n三、基本玩法\n普通牌型，每一墩算一水\n一家通杀一家，翻倍，3人以上（含3人）一家通杀，翻两倍（一普通牌型通杀为例，每家赢12水）\n同花十三水104水\n三炸弹100水\n十三水52水\n四套三条36水\n全大12水\n全小12水\n凑一色12水\n五对冲三12水\n六对半12水\n三顺子12水\n三同花6水\n五同 底墩10水，中墩20水\n同花顺 底墩5水，中墩10水\n炸弹，底墩4水，中墩8水\n三尖刀 头墩三条3水\n葫芦一水，中墩两水\n同花、杂顺、三条、两对、对子、乌龙都是1水\n特殊说明：单玩家同一墩一样大时，则算平局，特殊牌型不参与比牌，等起与玩家比牌后直接翻牌计算。\n";break;case 2:this.mContent.m_txt_num.text="2-5人",this.m_txt_content.m_txt_content.text="一、游戏术语\n普通玩法总计54张牌，加一色玩法共计67张牌，含大小王，当4-5人玩时，剩余两张牌不发。\n按54张牌的4人玩法，大小王当作癞子，可以用来替代任何牌组合牌型。\n头墩有两张王，算王者荣耀20水，中墩要大于等于三条的时候才可以将两张王放在头墩。\n单张（乌龙）：\n一墩牌里没有特殊牌型都是单张独立的牌。\n对子、两对、三条：\n对子就是两张一样的牌，两对是两个对子加上一张单牌，三条就是三张一样的牌，中后墩三条就是额外加上两张单牌\n顺子：\n连续的五张牌\n同花：\n五张相同花色的牌，同花相比，只比五张牌中最大的那张牌。\n同花对：童话里又一个相同花色的对子，这样的同花比散牌同花大。\n同花三条;同花里有三个相同的牌，这样的同花同花对和散牌同花大。\n葫芦：\n三条加上一对\n铁支：\n四张一样的牌加一张单牌\n五同：\n五张一样的牌，是所有牌中最大的牌。\n打枪：\n比牌结束后，如果其中一个玩家三墩全胜过另一个玩家，则称为打枪，打枪翻倍。\n全垒打：\n3人以上牌局时，若单个玩家打枪胜过所有其他玩家，就是全垒打。\n二、牌型大小\n基础牌型大小：\n五同>同花顺>铁支>葫芦>同花>顺子>三条>两对>一对>乌龙\n牌面大小顺序：\nA>K>Q>J>10>9>8>7>6>5>4>3>2\n特殊牌型大小：\n至尊清龙>一条龙>三炸弹>四套三条>全大=全小=凑一色=五对冲三=带铁支六对半=带同花顺三顺子=带同花顺三同花>六对半=三顺子=三同花\n至尊清龙：清一色从A-K\n一条龙：从A-K\n三炸弹：3个铁支\n四套三条：四套相同的三张牌+任意一张杂牌\n全大：所有的牌都是8—A\n全小：所有牌都是2-7\n凑一色：所有牌全红火全黑\n五队冲三：5个对子+1个3条\n带铁支六对半：含有铁支的六对半\n带同花顺三顺子：含有同花顺的三顺子\n带同花顺三同花：含有同花顺的三同花\n六对半：6个对子加任意一张单牌\n三顺子：三墩水都是顺子牌\n三同花：三墩水都是同一种花色\n三、基本玩法\n普通牌型，每一墩算一水\n一家通杀一家，翻倍，3人以上（含3人）一家通杀，翻两倍（以普通牌型通杀为例，每家赢12水）\n同花十三水104水\n三炸弹100水\n十三水52水\n四套三条36水\n全大12水\n全小12水\n凑一色12水\n五对冲三12水\n六对半12水\n三顺子12水\n三同花6水\n五同 底墩10水，中墩20水\n同花顺 底墩5水，中墩10水\n炸弹，底墩4水，中墩8水\n三尖刀 头墩三条3水\n葫芦一水，中墩两水\n同花、杂顺、三条、两对、对子、乌龙都是1水\n特殊说明：单玩家同一墩一样大时，则算平局，特殊牌型不参与比牌，等其余玩家比牌后直接翻牌计算。\n";break;case 3:this.mContent.m_txt_num.text="2-6人",this.m_txt_content.m_txt_content.text="一、游戏术语\n墩数万家手中的牌按照三张、五张、五张分为三组，成为前墩中墩后墩，之后与其他三家比牌，较大则赢一墩，不同的特殊牌型有额外的墩数计算。\n单张（乌龙）：\n一墩牌里没有特殊牌型都是单张独立的牌。\n对子、两对、三条：\n对子就是两张一样的牌，两对是两个对子加上一张单牌，三条就是三张一样的牌，中后墩三条就是额外加上两张单牌\n顺子：\n连续的五张牌\n同花：\n五张相同花色的牌，同花相比，只比五张牌中最大的那张牌。\n葫芦：\n三条加上一对\n铁支：\n四张一样的牌加一张单牌\n五同：\n五张一样的牌，是所有单墩牌中最大的牌。\n打枪：\n比牌结束后，如果其中一个玩家三墩全胜过另一个玩家，则称为打枪，打枪翻倍。\n全垒打：\n3人以上牌局时，若单个玩家打枪胜过所有其他玩家，就是全垒打。\n二、牌型大小\n基础牌型大小：\n五同>同花顺>铁支>葫芦>同花>顺子>三条>两对>一对>乌龙\n牌面大小顺序：\nA>K>Q>J>10>9>8>7>6>5>4>3>2\n特殊牌型大小：\n至尊清龙>一条龙>四套三条>六对半=三顺子=三同花\n至尊清龙：清一色从A-K\n一条龙：从A-K各一张\n四套三条：四套相同的三张牌+任意一张杂牌\n六对半：6个对子加任意一张单牌。\n三顺子：三墩水都是顺子牌\n三同花：三墩水都是同一种花色\n三、基本玩法\n普通牌型，每一墩算一水\n一家通杀一家，翻倍，3人以上（含3人）一家通杀，翻两倍（以普通牌型通杀为例，每家赢12水）\n至尊清龙104水\n三炸弹100水\n一条龙52水\n四套三条36水\n六同20水\n全大12水\n全小12水\n凑一色12水\n五对冲三12水\n六对半12水\n三顺子12水\n三同花6水\n五同 底墩10水，中墩20水\n同花顺 底墩5水，中墩10水\n炸弹，底墩4水，中墩8水\n三尖刀 头墩三条3水\n葫芦一水，中墩两水\n同花、杂顺、三条、两对、对子、乌龙都是1水\n特殊说明：单玩家同一墩一样大时，则算平局，特殊牌型不参与比牌，等其余玩家比牌后直接翻牌计算。\n";break;case 4:this.mContent.m_txt_num.text="2-6人",this.m_txt_content.m_txt_content.text="一、游戏术语\n墩数万家手中的牌按照三张、五张、五张分为三组，成为前墩中墩后墩，之后与其他三家比牌，较大则赢一墩，不同的特殊牌型有额外的墩数计算。\n单张（乌龙）：\n一墩牌里没有特殊牌型都是单张独立的牌。\n对子、两对、三条：\n对子就是两张一样的牌，两对是两个对子加上一张单牌，三条就是三张一样的牌，中后墩三条就是额外加上两张单牌\n顺子：\n连续的五张牌\n葫芦：\n三条加上一对\n铁支：\n四张一样的牌加一张单牌。\n打枪：\n比牌结束后，如果其中一个玩家三墩全胜过另一个玩家，则称为打枪，打枪翻倍。\n全垒打：\n3人以上牌局时，若单个玩家打枪胜过所有其他玩家，就是全垒打。\n二、牌型大小\n牌型大小顺序：\n铁支>同花顺>葫芦>三条>两对>一对>乌龙\n牌面大小顺序：\nA>K>Q>J>10>9>8>7>6>5>4>3>2\n特殊牌型大小顺序：\n十三水>六同>四套冲三>六对半>三顺子\n十三水;从A-K各一张\n六同：有6张相同的牌：\n四套三条：四套相同的三张牌+任意一张单牌\n六对半：6个对子加任意一张单牌\n三、基本玩法\n1.普通牌型，每一墩算一水；\n2.一家通杀一家，翻倍，一家通杀3家，翻两倍（一普通牌型通杀为例，每家赢12水）。\n3.十三水52水\n4.六同30水\n5四套三条30水\n6六对半10水‘\n7三顺子10水\n8三尖刀 头墩三条 3水\n9.葫芦1水，中墩2水\n10.同花、乌龙’1水\n11.同花顺5水、中墩10水\n12.铁支6水，中墩12水\n"}},e.prototype.show=function(e){t.prototype.show.call(this,e)},e}(PopModuleView);t.ShuoMingModule=e,__reflect(e.prototype,"game.ShuoMingModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(t){switch(t){case 0:this.m_name.text="十三水";break;case 1:this.m_name.text="加一色十三水";break;case 2:this.m_name.text="大小王十三水";break;case 3:this.m_name.text="六人十三水";break;case 4:this.m_name.text="纯一色十三水"}},e}(UI.ShuoMing.UI_ShuoMingTab);t.ShuoMingTabItem=e,__reflect(e.prototype,"game.ShuoMingTabItem")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=new fairygui.GComponent},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(t){this.preShowCpl()},e.prototype.show=function(e){t.prototype.show.call(this,e),this.testSocket()},e.prototype.testSocket=function(){App.Socket.send("abcd")},e}(Module);t.TESTModule=e,__reflect(e.prototype,"game.TESTModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.arr=[2,3,4,5,6,7,8,9,10,11,12,13,14,18,19,20,21,22,23,24,25,26,27,28,29,30,34,35,36,37,38,39,40,41,42,43,44,45,46,50,51,52,53,54,55,56,57,58,59,60,61,62,65,66],t}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.TestPork.UI_TestPork.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(t){this.mContent.m_list1.itemRenderer=this.RenderListItem,this.mContent.m_list1.callbackThisObj=this,this.mContent.m_list1.addEventListener(fairygui.ItemEvent.CLICK,this.onClickPork,this),this.mContent.m_list1.numItems=54,this.mContent.m_list2.itemRenderer=this.RenderListItem1,this.mContent.m_list2.callbackThisObj=this,this.mContent.m_list2.addEventListener(fairygui.ItemEvent.CLICK,this.onClickPork1,this),this.selectArr=[],this.mContent.m_btn_ok.addClickListener(this.showPut,this),this.preShowCpl()},n.prototype.showPut=function(){t.GameModel.ins.createRoundTest1(this.selectArr),ModuleMgr.ins.showModule(ModuleEnum.GAME_PUT_PORK,[])},n.prototype.RenderListItem=function(e,n){var i=n,o=new t.PorkVO(t.PorkUtil.ChangeServerCardToClient(this.arr[e]));i.setData(o)},n.prototype.onClickPork=function(t){if(this.selectArr.length<13){var e=t.itemObject;this.selectArr.push(e.vo),this.selectArr.sort(function(t,e){return e.point-t.point}),this.rendSelect()}},n.prototype.rendSelect=function(){if(this.mContent.m_btn_ok.visible=!1,13==this.selectArr.length){this.mContent.m_btn_ok.visible=!0;for(var t=[],e=0;e<this.selectArr.length;e++)t.push(this.selectArr[e].data)}this.mContent.m_list2.numItems=this.selectArr.length},n.prototype.RenderListItem1=function(t,e){var n=e,i=this.selectArr[t];n.setData(i)},n.prototype.onClickPork1=function(t){for(var e=t.itemObject,n=0;n<this.selectArr.length;n++)if(e.vo==this.selectArr[n]){this.selectArr.splice(n,1);break}this.selectArr.sort(function(t,e){return e.point-t.point}),this.rendSelect()},n}(PopModuleView);t.TestPorkModule=e,__reflect(e.prototype,"game.TestPorkModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.code="",t}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.ZhanJi.UI_BoFangMa.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(t){this.mContent.m_btn_cancel.addClickListener(this.cancelHandle,this),this.mContent.m_btn_ok.addClickListener(this.okHandle,this),this.mContent.m_txt_input.addEventListener(egret.TextEvent.CHANGE,this.inputHandle,this),this.mContent.m_txt_input.alpha=0,this.preShowCpl()},n.prototype.inputHandle=function(t){this.code=this.mContent.m_txt_input.text,this.code=this.code.substr(0,6);for(var e=this.code.split(""),n=0;6>n;n++)null!=e[n]&&""!=e[n]?this.mContent["m_txt_input"+(n+1)].text=e[n]:this.mContent["m_txt_input"+(n+1)].text=""},n.prototype.cancelHandle=function(){ModuleMgr.ins.closeModule(ModuleEnum.BOFANGMA)},n.prototype.okHandle=function(){this.code.length<6?t.AlertUtil.floatMsg("回放码不正确，请重新输入."):HttpAPI.HttpGET("http://"+App.GlobalData.SocketServer+":8883/huifang",{uid:t.GameModel.ins.uid,id:this.code},this.onCallBack,this.onError,this)},n.prototype.onCallBack=function(e){var n=JSON.parse(e.target.response);if(null==n.data)t.AlertUtil.floatMsg(n.err);else{var i=JSON.parse(n.data.msg);this.round=new t.Round,this.round.init(i),ModuleMgr.ins.changeScene(ModuleEnum.GAME_MAIN,ModuleEnum.REPLAY,this.round)}},n.prototype.onError=function(t){},n}(PopModuleView);t.ChaKanMaPanel=e,__reflect(e.prototype,"game.ChaKanMaPanel")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(t){this.m_txt_name.text=t.name,0==t.order?this.m_txt_sort.text="发起者":this.m_txt_sort.text="同意"+t.order},e}(UI.ZhanJi.UI_JieSanItem);t.JieSanItem=e,__reflect(e.prototype,"game.JieSanItem")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.ZhanJi.UI_JieSanSort.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_btn_close.addClickListener(this.doClose,this),this.round=e,this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=this.round.jesanArr.length,t.prototype.preShow.call(this,e)},e.prototype.RenderListItem=function(t,e){var n=e;n.setData(this.round.jesanArr[t])},e.prototype.show=function(e){t.prototype.show.call(this,e)},e.prototype.doClose=function(){ModuleMgr.ins.closeModule(ModuleEnum.JIESANSORT)},e}(PopModuleView);t.JieSanSort=e,__reflect(e.prototype,"game.JieSanSort")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(t){this.m_txt_0.text=t.juNum.toString();for(var e=0;6>e;e++)if(null!=t.players[e]){var n=t.players[e];n.sc>0?this["m_txt_"+(e+1)].text="+"+n.sc.toString():this["m_txt_"+(e+1)].text=n.sc.toString()}else this["m_txt_"+(e+1)].text=""},e}(UI.ZhanJi.UI_ZhanJiDetailItem);t.ZhanJiDetailItem=e,__reflect(e.prototype,"game.ZhanJiDetailItem")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.ZhanJi.UI_ZhanJiDetail.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(n){this.mContent.m_panelBg.m_title.url="ui://i36kne80rezhz",null!=n&&(this.round=n),this.mContent.m_btn_close.addClickListener(this.doClose,this),this.mContent.m_btn_sort.addClickListener(this.checkSort,this),this.mContent.m_txt_rid.text="房号:"+this.round.Rd,this.mContent.m_txt_jid.text="局数:"+this.round.Jn+"局",this.mContent.m_txt_time.text=Utils.timetrans(1e3*this.round.Tm);for(var i=0;6>i;i++)null!=this.round.jus[0].players[i]?(this.mContent["m_txt_name"+(i+1)].text=this.round.jus[0].players[i].name,this.mContent["m_txt_score"+(i+1)].text="ID:"+this.round.jus[0].players[i].id.toString()):(this.mContent["m_txt_name"+(i+1)].text="",this.mContent["m_txt_score"+(i+1)].text="");for(var o in this.round.playerFinalData)if(this.round.playerFinalData[o].uid==t.GameModel.ins.uid){this.round.playerFinalData[o].sc>0?this.mContent.m_img_win.url="ui://lxifvkdup0d65":0==this.round.playerFinalData[o].sc?this.mContent.m_img_win.url="ui://lxifvkdup0d63":this.mContent.m_img_win.url="ui://lxifvkdup0d64";break}this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=this.round.jus.length,e.prototype.preShow.call(this,n)},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.RenderListItem=function(t,e){var n=e;n.setData(this.round.jus[t])},n.prototype.checkSort=function(){""!=this.round.jiesanId?ModuleMgr.ins.showModule(ModuleEnum.JIESANSORT,this.round):t.AlertUtil.floatMsg("房间没有解散")},n.prototype.onCloseClick=function(){ModuleMgr.ins.closeModule(ModuleEnum.ZHANJI),e.prototype.onCloseClick.call(this)},n.prototype.doClose=function(){ModuleMgr.ins.closeModule(ModuleEnum.ZHANJIDETAIL)},n}(PopModuleView);t.ZhanJiDetailModule=e,__reflect(e.prototype,"game.ZhanJiDetailModule")}(game||(game={}));var game;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.maxScore=0,t.addClickListener(t.onClick,t),t}return __extends(i,e),i.prototype.setData=function(e){this.data=e,this.users=[],this.m_txt_rid.text="房号:"+this.data.Rd,this.m_txt_jushu.text="局数:"+this.data.Jn,this.m_txt_time.text=Utils.timetrans(1e3*this.data.Tm);for(var i in this.data.playerFinalData){var o=new n;o.uid=this.data.playerFinalData[i].uid,o.uname=this.data.playerFinalData[i].name,o.sc=this.data.playerFinalData[i].sc,o.uid==t.GameModel.ins.uid&&(o.sc>0?this.m_img_result.url="ui://lxifvkdup0d65":0==o.sc?this.m_img_result.url="ui://lxifvkdup0d63":this.m_img_result.url="ui://lxifvkdup0d64"),o.sc>this.maxScore&&(this.maxScore=o.sc),this.users.push(o)}this.m_list.itemRenderer=this.RenderListItem,this.m_list.callbackThisObj=this,this.m_list.numItems=this.users.length,this.m_btn_check.addClickListener(this.replay,this)},i.prototype.replay=function(e){e.stopImmediatePropagation(),this.data.jus.length>0?ModuleMgr.ins.changeScene(ModuleEnum.GAME_MAIN,ModuleEnum.REPLAY,this.data):t.AlertUtil.floatMsg("牌局数据有问题！")},i.prototype.RenderListItem=function(t,e){var n=e;n.setData(this.users[t],this.maxScore)},i.prototype.onClick=function(e){this.data.jus.length>0?ModuleMgr.ins.showModule(ModuleEnum.ZHANJIDETAIL,this.data):t.AlertUtil.floatMsg("牌局数据有问题！")},i}(UI.ZhanJi.UI_ZhanJiItem);t.ZhanJiItem=e,__reflect(e.prototype,"game.ZhanJiItem");var n=function(){function t(){}return t}();t.ZhanJiUser=n,__reflect(n.prototype,"game.ZhanJiUser")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(t,e){t.sc==e?this.m_img_win.visible=!0:this.m_img_win.visible=!1,this.m_txt_name.text=t.uname,this.m_txt_score.text=t.sc.toString(),t.sc<0?this.m_txt_score.color=4950841:this.m_txt_score.color=13838887},e}(UI.ZhanJi.UI_ZhanJiItemUserItem);t.ZhanJiItemUserItem=e,__reflect(e.prototype,"game.ZhanJiItemUserItem")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t}();t.JuModel=e,__reflect(e.prototype,"game.JuModel");var n=function(){function t(){}return t}();t.JuPlayer=n,__reflect(n.prototype,"game.JuPlayer");var i=function(){function t(){}return t}();t.JieSanPlayer=i,__reflect(i.prototype,"game.JieSanPlayer");var o=function(){function o(){this.cur=0}return o.prototype.init=function(o){this.Tm=o.Tm,this.Rd=o.Rd,this.Fc=o.Fc,this.Jn=o.Jn,this.jus=[],this.playerFinalData=[];for(var r in o.Us)this.playerFinalData.push(o.Us[r]);if(this.jiesanId=o.Js,""!=this.jiesanId){this.jesanArr=[];var s=new i;s.name=this.jiesanId,s.order=0,this.jesanArr.push(s);var a=1;for(var r in o.Jc)if(r!=this.jiesanId){var h=new i;h.name=r,h.order=a,this.jesanArr.push(h),a++}}this.playerFinalData.sort(function(t,e){return e.sc-t.sc});for(var u=o.Pl,l=0;l<u.length;l++){var c=new e;c.juNum=u[l].Js,c.players=[];for(var d in u[l].Us){var p=new n;p.id=d,p.name=u[l].Us[d].name,p.avatar=this.getAvatarById(d),p.px=u[l].Us[d].px,p.sc=u[l].Us[d].sc,p.topCards=[];for(var m=0;m<u[l].Us[d].tc.length;m++){var _=new t.PorkVO(t.PorkUtil.ChangeServerCardToClient(u[l].Us[d].tc[m]));p.topCards.push(_)}p.topCards=t.PorkUtil.SortCard(p.topCards),p.midCards=[];for(var m=0;m<u[l].Us[d].zc.length;m++){var _=new t.PorkVO(t.PorkUtil.ChangeServerCardToClient(u[l].Us[d].zc[m]));p.midCards.push(_)}p.midCards=t.PorkUtil.SortCard(p.midCards),p.downCards=[];for(var m=0;m<u[l].Us[d].wc.length;m++){var _=new t.PorkVO(t.PorkUtil.ChangeServerCardToClient(u[l].Us[d].wc[m]));p.downCards.push(_)}p.downCards=t.PorkUtil.SortCard(p.downCards),p.topType=u[l].Us[d].tt,p.midType=u[l].Us[d].zt,p.downType=u[l].Us[d].wt,c.players.push(p)}this.jus.push(c),this.jus.sort(function(t,e){return t.juNum-e.juNum})}},o.prototype.getScoreById=function(t){for(var e=[],n=0;n<this.jus.length;n++)for(var i=this.jus[n],o=0;o<i.players.length;o++)if(i.players[o].id==t){e.push(i.players[o].sc);break}return e},o.prototype.getAvatarById=function(t){for(var e in this.playerFinalData)if(this.playerFinalData[e].uid==t)return this.playerFinalData[e].avatar
},o}();t.Round=o,__reflect(o.prototype,"game.Round");var r=function(){function t(){}return Object.defineProperty(t,"ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t.prototype.init=function(t){this.rounds=[];for(var e=0;e<t.length;e++){var n=JSON.parse(t[e].msg),i=new o;i.init(n),this.rounds.push(i)}},t}();t.ZhanJiModel=r,__reflect(r.prototype,"game.ZhanJiModel")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.ZhanJi.UI_ZhanJi.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fap",HttpAPI.HttpGET("http://"+App.GlobalData.SocketServer+":8883/zhanji",{uid:t.GameModel.ins.uid,page:1},this.onCallBack,this.onError,this),this.mContent.m_checkother.addClickListener(this.playerOther,this)},n.prototype.playerOther=function(){ModuleMgr.ins.showModule(ModuleEnum.BOFANGMA)},n.prototype.onCallBack=function(e){this.preShowCpl();var n=JSON.parse(e.target.response);""==n.err?this.result=n.data:(t.AlertUtil.floatMsg(n.err),this.result=[]),t.ZhanJiModel.ins.init(this.result),this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=t.ZhanJiModel.ins.rounds.length},n.prototype.onError=function(t){},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.RenderListItem=function(e,n){var i=n;i.setData(t.ZhanJiModel.ins.rounds[e])},n}(PopModuleView);t.ZhanJiModule=e,__reflect(e.prototype,"game.ZhanJiModule")}(game||(game={}));var game;!function(t){var e=function(){function t(t){var e=this;this.pointNumbers={},t.forEach(function(t){var n=t.point,i=e.pointNumbers[n]||0;e.pointNumbers[n]=i+1})}return Object.defineProperty(t.prototype,"maxNumber",{get:function(){var t=0;for(var e in this.pointNumbers){var n=this.pointNumbers[e];t=Math.max(n,t)}return t},enumerable:!0,configurable:!0}),t}();t.CardPointHelper=e,__reflect(e.prototype,"game.CardPointHelper")}(game||(game={}));var HttpURLs=function(){function t(){}return t.rank="http://121.40.23.6:8883/rank",t.zhanji="http://121.40.23.6:8883/zhanji",t.huifang="http://121.40.23.6:8883/huifang",t}();__reflect(HttpURLs.prototype,"HttpURLs");var game;!function(t){var e=function(){function e(){}return e.addSocketListener=function(){App.Socket.addCmdListener(MsgType.UpdateMyInfo,core.Handler.create(this,this.updateMyInfo,[],!1)),App.Socket.addCmdListener(MsgType.EnterRooom,core.Handler.create(this,this.enterRoomCallBack,[],!1)),App.Socket.addCmdListener(MsgType.LeaveRoom,core.Handler.create(this,this.leaveRoomCallBack,[],!1)),App.Socket.addCmdListener(MsgType.Ready,core.Handler.create(this,this.readyCallBack,[],!1)),App.Socket.addCmdListener(MsgType.JieSuan_Single,core.Handler.create(this,this.JieSuanSingleCallBack,[],!1)),App.Socket.addCmdListener(MsgType.GameStart,core.Handler.create(this,this.gameStartCallBack,[],!1)),App.Socket.addCmdListener(MsgType.GameReStart,core.Handler.create(this,this.gameReStart,[],!1)),App.Socket.addCmdListener(MsgType.RoomDismiss,core.Handler.create(this,this.roomDismiss,[],!1)),App.Socket.addCmdListener(MsgType.JieSuan_All,core.Handler.create(this,this.JieSuanAllCallBack,[],!1)),App.Socket.addCmdListener(MsgType.AnswerForDismiss,core.Handler.create(this,this.answerForDismissCallBack,[],!1)),App.Socket.addCmdListener(MsgType.BaiPai,core.Handler.create(this,this.baipaiCallBack,[],!1)),App.Socket.addCmdListener(MsgType.AskForDismiss,core.Handler.create(this,this.askForDismissCallBack,[],!1)),App.Socket.addCmdListener(MsgType.PlayerDisConnect,core.Handler.create(this,this.playerDiaoXian,[],!1)),App.Socket.addCmdListener(MsgType.PlayerInAfterDisConnect,core.Handler.create(this,this.playerDiaoXianBack,[],!1)),App.Socket.addCmdListener(MsgType.Chat,core.Handler.create(this,this.chatCallBack,[],!1))},e.updateMyInfo=function(e){t.GameModel.ins.card=e.card,t.GameModel.ins.gold=e.gold,App.MessageCenter.dispatch(t.MsgEnum.UPDATE_MYINFO,e)},e.createRoom=function(t,e,n,i,o,r,s,a){App.Socket.addCmdListener(MsgType.CreateRoom,a);var h=new C2T_Msg;h.Aid=MsgType.CreateRoom;var u=new C2T_Message_CreateRoom;u.ty=t,u.pn=e,u.jn=n,u.zz=i,u.jm=o,u.fc=r,u.jp=s,h.Msg=u,App.Socket.send(h)},e.enterRoom=function(t){var e=new C2T_Msg;e.Aid=MsgType.EnterRooom;var n=new C2T_Message_EnterRoom;n.rid=t,e.Msg=n,App.Socket.send(e)},e.enterRoomCallBack=function(e){t.GameModel.ins.setRoomInfo(e)},e.leaveRoomCallBack=function(e){t.GameModel.ins.roomModel.removeUser(e.uid),App.MessageCenter.dispatch(t.MsgEnum.NEW_UESR_OUT,e)},e.leaveRooom=function(){var t=new C2T_Msg;t.Aid=MsgType.LeaveRoom,App.Socket.send(t)},e.sendReady=function(){var t=new C2T_Msg;t.Aid=MsgType.Ready,App.Socket.send(t)},e.readyCallBack=function(e){App.MessageCenter.dispatch(t.MsgEnum.NEW_UESR_READY,e)},e.gameStartCallBack=function(e){t.GameModel.ins.createRound(e),App.MessageCenter.dispatch(t.MsgEnum.GAME_FAPAI)},e.gameReStart=function(){App.MessageCenter.dispatch(t.MsgEnum.GAME_RESTART)},e.JieSuanSingleCallBack=function(e){t.GameModel.ins.roomModel.rinfo.nnum+=1,t.GameModel.ins.roundModel.jieSuanSingle(e)},e.JieSuanAllCallBack=function(e){t.GameModel.ins.roomModel.setJieSuanAll(e)},e.sendBaiPai=function(t){var e=new C2T_Msg;e.Aid=MsgType.BaiPai,e.Msg=t,App.Socket.send(e)},e.askForDismiss=function(){var e=new C2T_Msg;e.Aid=MsgType.AskForDismiss;var n=new C2T_Message_AskForDismiss;n.rid=t.GameModel.ins.roomModel.rid,e.Msg=n,App.Socket.send(e)},e.askForDismissCallBack=function(e){App.MessageCenter.dispatch(t.MsgEnum.GAME_ASKFOR_DISMISS,e)},e.baipaiCallBack=function(e){App.MessageCenter.dispatch(t.MsgEnum.GAME_BAIPAI,e)},e.sendAcceptOrRefuseDismiss=function(t){var e=new C2T_Msg;e.Aid=MsgType.AnswerForDismiss;var n=new C2T_Message_AnswerForDismiss;n.act=t,e.Msg=n,App.Socket.send(e)},e.answerForDismissCallBack=function(e){App.MessageCenter.dispatch(t.MsgEnum.GAME_ANSWER_FOR_DISMISS,e)},e.roomDismiss=function(e){e.ok>0?0==t.GameModel.ins.roomModel.isAllFinish?(t.AlertUtil.floatMsg("房间已经解散"),t.GameModel.ins.disMissRoom(),ModuleMgr.ins.closeModule(ModuleEnum.GAME_SINGLE_RESULT),ModuleMgr.ins.changeScene(ModuleEnum.GAME,ModuleEnum.GAME_MAIN)):t.GameModel.ins.roomModel.hasPlayedJu<t.GameModel.ins.roomModel.rinfo.snum&&(ModuleMgr.ins.closeModule(ModuleEnum.GAME_SINGLE_RESULT),ModuleMgr.ins.changeScene(ModuleEnum.GAME,ModuleEnum.GAME_ALL_RESULT)):App.MessageCenter.dispatch(t.MsgEnum.GAME_ANSWER_FAILED,e)},e.playerDiaoXian=function(e){App.MessageCenter.dispatch(t.MsgEnum.GAME_USER_DIAOXIAN,e)},e.playerDiaoXianBack=function(e){App.MessageCenter.dispatch(t.MsgEnum.GAME_USER_DIAOXIAN_BACK,e)},e.sendChat=function(e){var n=new C2T_Msg;n.Aid=MsgType.Chat;var i=new C2T_Chat;i.type=0,i.str=e,i.uid=t.GameModel.ins.uid,i.uname=t.GameModel.ins.uname;var o=new Date;i.times=o.getTime().toString(),i.time=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()+" "+o.getHours()+":"+o.getMinutes(),n.Msg=i,App.Socket.send(n)},e.sendFlower=function(e){var n=new C2T_Msg;n.Aid=MsgType.Chat;var i=new C2T_Chat;i.type=1,i.str=e,i.uid=t.GameModel.ins.uid,i.uname=t.GameModel.ins.uname;var o=new Date;i.times=o.getTime().toString(),i.time=o.getFullYear()+"-"+o.getMonth()+"-"+o.getDate()+" "+o.getHours()+":"+o.getMinutes(),n.Msg=i,App.Socket.send(n)},e.chatCallBack=function(e){switch(e.type){case 0:t.ChatModel.ins.onReceive(e),App.MessageCenter.dispatch(t.MsgEnum.GAME_CHAT,e);break;case 1:App.MessageCenter.dispatch(t.MsgEnum.GAME_FLOWER,e)}},e.sendBeart=function(){App.TimerManager.doTimer(8e3,0,this.doHeartBeat,this),this.doHeartBeat()},e.doHeartBeat=function(){var t=new C2T_Heart;t.Aid=1,App.Socket.send(t),console.log("heart")},e}();t.ServerEngine=e,__reflect(e.prototype,"game.ServerEngine")}(game||(game={}));var App=function(){function t(){}return Object.defineProperty(t,"TimerManager",{get:function(){return core.TimerManager.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DebugUtils",{get:function(){return core.DebugUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"RandomUtils",{get:function(){return core.RandomUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DisplayUtils",{get:function(){return core.DisplayUtil.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MathUtils",{get:function(){return core.MathUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ResourceUtils",{get:function(){return core.ResourceUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DeviceUtils",{get:function(){return core.DeviceUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ShockUtils",{get:function(){return core.ShockUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"StringUtils",{get:function(){return core.StringUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"EgretExpandUtils",{get:function(){return core.EgretExpandUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"SoundUtils",{get:function(){return core.SoundUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"EventCenter",{get:function(){return null==t._eventCenter&&(t._eventCenter=new core.MessageCenter(1)),t._eventCenter},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MessageCenter",{get:function(){return core.MessageCenter.getInstance(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"StageUtils",{get:function(){return core.StageUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Socket",{get:function(){return ws.ServerSocket.getInstance()},enumerable:!0,configurable:!0}),t.run=function(e){egret.ImageLoader.crossOrigin="anonymous",t.GlobalData=RES.getRes("config_json"),t.DebugUtils.isOpen(t.GlobalData.IsDebug),t.DebugUtils.setThreshold(5),t.EgretExpandUtils.init(),t.Socket.initServer(t.GlobalData.SocketServer,t.GlobalData.SocketPort,new ws.UTFMsgByJson),core.FrameEventCenter.getInstance().init(e),egret.Capabilities.runtimeType==egret.RuntimeType.WEB&&(core.WebUtils.addKeyboardListener(),egret.Logger.logLevel=egret.Logger.ALL),RES.setMaxRetryTimes(2)},t.GlobalData=null,t.ProtoFile=null,t.ProtoConfig=null,t}();__reflect(App.prototype,"App");var C2T_Heart=function(t){function e(){var e=t.call(this)||this;return e.Aid=1,e}return __extends(e,t),e}(C2T_Base);__reflect(C2T_Heart.prototype,"C2T_Heart");var C2T_Login_Message=function(){function t(){this.name="",this.wid="",this.mid="",this.head="",this.chid=""}return t}();__reflect(C2T_Login_Message.prototype,"C2T_Login_Message");var C2T_Login=function(t){function e(){var e=t.call(this)||this;return e.Aid=MsgType.Login,e.Msg=new C2T_Login_Message,e}return __extends(e,t),e}(C2T_Base);__reflect(C2T_Login.prototype,"C2T_Login");var MsgType;!function(t){t[t.Login=1001]="Login",t[t.CreateRoom=2003]="CreateRoom",t[t.EnterRooom=2001]="EnterRooom",t[t.LeaveRoom=2002]="LeaveRoom",t[t.Ready=2004]="Ready",t[t.ReadyCancel=2005]="ReadyCancel",t[t.GameStart=2006]="GameStart",t[t.BaiPai=2007]="BaiPai",t[t.JieSuan_Single=2009]="JieSuan_Single",t[t.JieSuan_All=2010]="JieSuan_All",t[t.KickOut=2011]="KickOut",t[t.ReConnect=2012]="ReConnect",t[t.GameReStart=2013]="GameReStart",t[t.AskForDismiss=2014]="AskForDismiss",t[t.AnswerForDismiss=2015]="AnswerForDismiss",t[t.RoomDismiss=2016]="RoomDismiss",t[t.PlayerDisConnect=2017]="PlayerDisConnect",t[t.PlayerInAfterDisConnect=2018]="PlayerInAfterDisConnect",t[t.Chat=2019]="Chat",t[t.UpdateMyInfo=2028]="UpdateMyInfo"}(MsgType||(MsgType={}));var C2T_Message_CreateRoom=function(){function t(){}return t}();__reflect(C2T_Message_CreateRoom.prototype,"C2T_Message_CreateRoom");var C2T_Message_EnterRoom=function(){function t(){}return t}();__reflect(C2T_Message_EnterRoom.prototype,"C2T_Message_EnterRoom");var C2T_Message_BaiPai=function(){function t(){}return t}();__reflect(C2T_Message_BaiPai.prototype,"C2T_Message_BaiPai");var C2T_Message_AskForDismiss=function(){function t(){}return t}();__reflect(C2T_Message_AskForDismiss.prototype,"C2T_Message_AskForDismiss");var C2T_Message_AnswerForDismiss=function(){function t(){}return t}();__reflect(C2T_Message_AnswerForDismiss.prototype,"C2T_Message_AnswerForDismiss");var C2T_Chat=function(){function t(){this.times="1536840416000",this.type=0}return t}();__reflect(C2T_Chat.prototype,"C2T_Chat");var C2T_Msg=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(C2T_Base);__reflect(C2T_Msg.prototype,"C2T_Msg");var core;!function(t){var e=function(){function t(){this.m_callbacks=[]}return t.getInstance=function(){return null==t.s_instance&&(t.s_instance=new t),t.s_instance},t.prototype.init=function(t){this.m_stage=t,this.m_stage?(this.m_preTick=Date.now(),this.m_stage.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)):egret.log("Stage为null不能开启帧循环监听")},t.prototype.onEnterFrame=function(t){var e=Date.now(),n=this.m_callbacks;if(n){for(var i=n.length;i>0;i--){var o=n[i-1];o.isValid||n.splice(i-1,1)}for(var i=0,r=n.length;r>i;i++){var o=n[i];o.isValid&&o.callback&&o.callback.call(o.thisObj,e-this.m_preTick)}}this.m_preTick=e},t.prototype.addFrameEventListener=function(t,e){if(t&&e){var i=new n(t,e);this.m_callbacks.push(i)}},t.prototype.removeFrameEventListener=function(t,e){var n=this.m_callbacks;if(n)for(var i=0,o=n.length;o>i;i++){var r=n[i];r.callback===t&&r.thisObj===e&&(r.isValid=!1)}},t}();t.FrameEventCenter=e,__reflect(e.prototype,"core.FrameEventCenter");var n=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.isValid=!0,i}return __extends(e,t),e.prototype.clone=function(){var t=new e(this.callback,this.thisObj);return t.index=this.index,t.isValid=this.isValid,t},e}(t.Callback);__reflect(n.prototype,"FrameCallBack")}(core||(core={}));var T2C_Heart=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e)},e}(T2C_Base);__reflect(T2C_Heart.prototype,"T2C_Heart"),window.T2C_Heart=T2C_Heart;var T2C_Login_Message=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(T2C_Message_Base);__reflect(T2C_Login_Message.prototype,"T2C_Login_Message");var T2C_Login=function(t){function e(){var e=t.call(this)||this;return e.Msg=new T2C_Login_Message,e}return __extends(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.Msg.execute(e.Msg),game.GameModel.ins.setLoginData(this.Msg),App.Socket.dispatchCmd(this.Aid,this.Msg)},e}(T2C_Base);__reflect(T2C_Login.prototype,"T2C_Login"),window.T2C_Login=T2C_Login;var core;!function(t){var e=function(){function t(t){this.data=t}return t}();t.Node=e,__reflect(e.prototype,"core.Node")}(core||(core={}));var T2C_UpdateMyInfo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(T2C_Message_Base);__reflect(T2C_UpdateMyInfo.prototype,"T2C_UpdateMyInfo");var T2C_Enter_Room=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.fname=t.fname,this.fuid=t.fuid,this.rid=t.rid,this.gps=t.gps,this.rinfo=t.rinfo,this.users=t.users,this.zuid=t.zuid},e}(T2C_Message_Base);__reflect(T2C_Enter_Room.prototype,"T2C_Enter_Room");var T2C_Create_Room=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(T2C_Message_Base);__reflect(T2C_Create_Room.prototype,"T2C_Create_Room");var T2C_Leave_Room=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(T2C_Message_Base);__reflect(T2C_Leave_Room.prototype,"T2C_Leave_Room");var T2C_Ready=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(T2C_Message_Base);__reflect(T2C_Ready.prototype,"T2C_Ready");var T2C_GameStart=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(T2C_Message_Base);__reflect(T2C_GameStart.prototype,"T2C_GameStart");var T2C_BaiPai=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(T2C_Message_Base);__reflect(T2C_BaiPai.prototype,"T2C_BaiPai");var T2C_JieSuanAll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.et=t.et,this.sc=t.sc},e}(T2C_Message_Base);__reflect(T2C_JieSuanAll.prototype,"T2C_JieSuanAll");var T2C_JieSuanSingle=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.bp=t.bp,this.sc=t.sc},e}(T2C_Message_Base);__reflect(T2C_JieSuanSingle.prototype,"T2C_JieSuanSingle");var T2C_ReConnect=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.dealer=t.dealer,this.fname=t.fname,this.fuid=t.fuid,this.js=t.js,this.jt=t.jt,this.ju=t.ju,this.of=t.of,this.rid=t.rid,this.rinfo=t.rinfo,this.users=t.users,this.status=t.status},e}(T2C_Message_Base);__reflect(T2C_ReConnect.prototype,"T2C_ReConnect");var T2C_DiaoXian=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.name=t.name,this.uid=t.uid},e}(T2C_Message_Base);__reflect(T2C_DiaoXian.prototype,"T2C_DiaoXian");var T2C_DiaoXian_Back=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.name=t.name,this.uid=t.uid},e}(T2C_Message_Base);__reflect(T2C_DiaoXian_Back.prototype,"T2C_DiaoXian_Back");var T2C_AskForDismiss=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.name=t.name,this.uid=t.uid,this.time=t.time},e}(T2C_Message_Base);__reflect(T2C_AskForDismiss.prototype,"T2C_AskForDismiss");var T2C_AnswerForDismiss=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.uid=t.uid,this.act=t.act},e}(T2C_Message_Base);__reflect(T2C_AnswerForDismiss.prototype,"T2C_AnswerForDismiss");var T2C_Chat=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.uid=t.uid,this.uname=t.uname,this.str=t.str,this.time=t.time,this.times=t.times,this.type=t.type},e}(T2C_Message_Base);__reflect(T2C_Chat.prototype,"T2C_Chat");var T2C_Msg=function(t){function e(){var e=t.call(this)||this;return e.Msg=new T2C_Message_Base,e}return __extends(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),""==this.Err?(this.Aid==MsgType.UpdateMyInfo?this.Msg=new T2C_UpdateMyInfo:this.Aid==MsgType.EnterRooom?this.Msg=new T2C_Enter_Room:this.Aid==MsgType.CreateRoom?this.Msg=new T2C_Create_Room:this.Aid==MsgType.LeaveRoom?this.Msg=new T2C_Leave_Room:this.Aid==MsgType.Ready?this.Msg=new T2C_Ready:this.Aid==MsgType.ReadyCancel?this.Msg=new T2C_Ready:this.Aid==MsgType.GameStart?this.Msg=new T2C_GameStart:this.Aid==MsgType.BaiPai?this.Msg=new T2C_BaiPai:this.Aid==MsgType.JieSuan_Single?this.Msg=new T2C_JieSuanSingle:this.Aid==MsgType.JieSuan_All?this.Msg=new T2C_JieSuanAll:this.Aid==MsgType.ReConnect?this.Msg=new T2C_ReConnect:this.Aid==MsgType.PlayerDisConnect?this.Msg=new T2C_DiaoXian:this.Aid==MsgType.PlayerInAfterDisConnect?this.Msg=new T2C_DiaoXian_Back:this.Aid==MsgType.AskForDismiss?this.Msg=new T2C_AskForDismiss:this.Aid==MsgType.AnswerForDismiss?this.Msg=new T2C_AnswerForDismiss:this.Aid==MsgType.Chat?this.Msg=new T2C_Chat:this.Msg=new T2C_Message_Base,this.Msg.execute(e.Msg),App.Socket.dispatchCmd(this.Aid,this.Msg)):(App.MessageCenter.dispatch(game.MsgEnum.FLOAT_MSG,this.Err,this.Aid),this.Aid==MsgType.EnterRooom&&App.MessageCenter.dispatch(game.MsgEnum.ENTER_ROOM_FAILD))},e}(T2C_Base);__reflect(T2C_Msg.prototype,"T2C_Msg"),window.T2C_Msg=T2C_Msg;var LayerCenter=function(){function t(){}return Object.defineProperty(t,"Instance",{get:function(){return null==t.s_instance&&(t.s_instance=new t),t.s_instance},enumerable:!0,configurable:!0}),t.prototype.init=function(e){e&&(this.stage=e,e.addEventListener(egret.Event.RESIZE,this.onStageResize,this),this.m_layerDic=new Dictionary,t.stageWidth=e.stageWidth,t.stageHeight=e.stageHeight,this.stage.addChild(fairygui.GRoot.inst.displayObject)),this.initLayers()},t.prototype.initLayers=function(){this.addLayer(LayerEnum.SCENE,new SceneModuleLayer),this.addLayer(LayerEnum.UI,new UIModuleLayer),this.addLayer(LayerEnum.STATIC,new StaticModuleLayer),this.addLayer(LayerEnum.POPUP,new PopModuleLayer),this.addLayer(LayerEnum.TOP,new TopModuleLayer)},t.prototype.addLayer=function(t,e){this.m_layerDic.add(t,e),egret.callLater(this.updateLayer,this)},t.prototype.onStageResize=function(e){t.stageWidth=this.stage.stageWidth,t.stageHeight=this.stage.stageHeight,fairygui.GRoot.inst.setSize(t.stageWidth,t.stageHeight),App.EventCenter.dispatch(egret.Event.RESIZE)},t.prototype.updateLayer=function(){var t=this.m_layerDic.keys.concat();t.sort(function(t,e){return t-e});for(var e=0,n=t.length;n>e;e++){var i=this.m_layerDic.get(t[e]);i.parent?fairygui.GRoot.inst.setChildIndex(i,e):fairygui.GRoot.inst.addChildAt(i,e)}},t.prototype.getLayer=function(t){return this.m_layerDic.get(t)},t.prototype.removeLayer=function(t){var e=this.m_layerDic.remove(t);return this.updateLayer(),e},t}();__reflect(LayerCenter.prototype,"LayerCenter");var core;!function(t){var e=function(){function e(e,n){if(void 0===n&&(n=!1),this.m_list=[],e)for(var i=0,o=e.length;o>i;i++){var r=new t.Node(e[i]);this.m_list.push(r)}for(var s=this.m_list,i=0,o=s.length;o>i;i++){var r=s[i];i+1==o?r.nextNode=n?s[0]:null:r.nextNode=s[i+1],0==i?r.preNode=n?s[o-1]:null:r.preNode=s[i-1]}}return e.prototype.getLen=function(){return this.m_list.length},e.prototype.getFirst=function(){return this.m_list[0]},e.prototype.getEnd=function(){return this.m_list[this.m_list.length-1]},e.prototype.getNode=function(t){return this.m_list[t]},e.prototype.clear=function(){this.m_list.length=0},e}();t.NodeList=e,__reflect(e.prototype,"core.NodeList")}(core||(core={}));var ModuleMgr=function(){function t(){this.m_configLib=new Object}return Object.defineProperty(t,"ins",{get:function(){return null==t.s_instance&&(t.s_instance=new t),t.s_instance},enumerable:!0,configurable:!0}),t.prototype.getStaticLayer=function(){return LayerCenter.Instance.getLayer(LayerEnum.STATIC)},t.prototype.getPopUpLayer=function(){return LayerCenter.Instance.getLayer(LayerEnum.POPUP)},t.prototype.regModule=function(t){this.m_configLib[t.moduleId]=t},t.prototype.getConfigVo=function(t){var e=this.m_configLib[t];return null==e?void egret.log("未注册的moduleId:",t):e},t.prototype.showModule=function(t,e,n){var i=this.getConfigVo(t);if(null!=i){var o=LayerCenter.Instance.getLayer(i.layerKind),r=o.showModule(t,e,n);return r}},t.prototype.changeScene=function(e,n,i){t.ins.getPopUpLayer().closeAll(),t.ins.closeModule(e),t.ins.showModule(n,i)},t.prototype.isShow=function(t){var e=this.m_configLib[t];if(e){var n=LayerCenter.Instance.getLayer(e.layerKind);return n.isShow(t)}return!1},t.prototype.closeModule=function(t,e){var n=this.getConfigVo(t);if(null!=n){var i=LayerCenter.Instance.getLayer(n.layerKind);i.closeModule(t,e)}},t.prototype.loadSkins=function(t){},t}();__reflect(ModuleMgr.prototype,"ModuleMgr");var LayerEnum;!function(t){t[t.SCENE=0]="SCENE",t[t.UI=1]="UI",t[t.STATIC=2]="STATIC",t[t.POPUP=3]="POPUP",t[t.TOP=4]="TOP"}(LayerEnum||(LayerEnum={}));var ModuleConsts=function(){function t(){}return t.MODULE_SERVER_CPL="MODULE_SERVER_CPL",t.MODULE_PRE_SHOW_CPL="MODULE_PRE_SHOW_CPL",t.MODULE_PRE_CLOSE_CPL="MODULE_PRE_CLOSE_CPL",t.MODULE_CLOSE_CPL="MODULE_CLOSE_CPL",t.MODULE_ADD_TO_STAGE="MODULE_ADD_TO_STAGE",t.MODULE_FADE_IN_CPL="MODULE_FADE_IN_CPL",t.MODULE_FADE_OUT_CPL="MODULE_FADE_OUT_CPL",t.MODULE_FADE_IN_TYPE_0=0,t.MODULE_FADE_IN_TYPE_1=1,t.MODULE_FADE_IN_TYPE_2=2,t.MODULE_FADE_OUT_TYPE_0=0,t.MODULE_FADE_OUT_TYPE_1=1,t.MODULE_FADE_OUT_TYPE_2=2,t.STATE_NULL=0,t.STATE_SHOW=1,t.STATE_CLOSE=3,t.STATE_DISPOSE=4,t.PHASE_LOAD_ASSET=11,t.PHASE_SERVER=12,t.PHASE_PRE_SHOW=13,t.PHASE_MODULE_FADE_IN=14,t.PHASE_SHOW=15,t.PHASE_PRE_CLOSE=21,t.PHASE_MODULE_FADE_OUT=22,t.PHASE_CLOSE=23,t}();__reflect(ModuleConsts.prototype,"ModuleConsts");var ModuleEnum;!function(t){t[t.NONE=0]="NONE",t[t.TEST=1]="TEST",t[t.PRELOADING=2]="PRELOADING",t[t.LOADING=3]="LOADING",t[t.GAME_MAIN=4]="GAME_MAIN",t[t.MAIL=5]="MAIL",t[t.MAIL_DETAIL=6]="MAIL_DETAIL",t[t.NOTICE=7]="NOTICE",t[t.SHUOMING=8]="SHUOMING",t[t.SETTING=9]="SETTING",t[t.KEFU=10]="KEFU",t[t.ZHANJI=11]="ZHANJI",t[t.ZHANJIDETAIL=12]="ZHANJIDETAIL",t[t.RANK=13]="RANK",t[t.ACTIVITY=14]="ACTIVITY",t[t.JOINROOM=15]="JOINROOM",t[t.GAME_HELP=16]="GAME_HELP",t[t.CREATE_ROOM=17]="CREATE_ROOM",t[t.BUY_CARD=18]="BUY_CARD",t[t.GAME=19]="GAME",t[t.GAME_PUT_PORK=20]="GAME_PUT_PORK",t[t.GAME_SINGLE_RESULT=21]="GAME_SINGLE_RESULT",t[t.GAME_ALL_RESULT=22]="GAME_ALL_RESULT",t[t.GAME_SINGLE_RESULT_PLAY=23]="GAME_SINGLE_RESULT_PLAY",t[t.GAME_ALL_RESULT_PLAY=24]="GAME_ALL_RESULT_PLAY",t[t.DISSOLVE_ROOM=25]="DISSOLVE_ROOM",t[t.CHAT=26]="CHAT",t[t.ALERT=27]="ALERT",t[t.FLOAT=28]="FLOAT",t[t.USERINFO=29]="USERINFO",t[t.REPLAY=30]="REPLAY",t[t.TESTPORK=31]="TESTPORK",t[t.BOFANGMA=32]="BOFANGMA",t[t.JIESANSORT=33]="JIESANSORT"}(ModuleEnum||(ModuleEnum={}));var BindFGuiTask=function(){function t(){this.exec()}return t.prototype.exec=function(){UI.PreLoading.PreLoadingBinder.bindAll(),UI.Loading.LoadingBinder.bindAll(),UI.MainUI.MainUIBinder.bindAll(),UI.Activity.ActivityBinder.bindAll(),UI.AddRoom.AddRoomBinder.bindAll(),UI.Base.BaseBinder.bindAll(),UI.BuyCard.BuyCardBinder.bindAll(),UI.CreateRoom.CreateRoomBinder.bindAll(),UI.Kefu.KefuBinder.bindAll(),UI.Mail.MailBinder.bindAll(),UI.Notice.NoticeBinder.bindAll(),UI.Rank.RankBinder.bindAll(),UI.ZhanJi.ZhanJiBinder.bindAll(),UI.Setting.SettingBinder.bindAll(),UI.ShuoMing.ShuoMingBinder.bindAll(),UI.Rank.RankBinder.bindAll(),UI.Game.GameBinder.bindAll(),UI.GameHelper.GameHelperBinder.bindAll(),UI.Result.ResultBinder.bindAll(),UI.TestPork.TestPorkBinder.bindAll()},t}();__reflect(BindFGuiTask.prototype,"BindFGuiTask");var RegModuleTask=function(){function t(){this.exec()}return t.prototype.exec=function(){this.regModule(ModuleEnum.PRELOADING,LayerEnum.SCENE,game.PreLoadingModule,[]),this.regModule(ModuleEnum.LOADING,LayerEnum.SCENE,game.LoadingModule,[]),this.regModule(ModuleEnum.TEST,LayerEnum.SCENE,game.TESTModule,[]),this.regModule(ModuleEnum.GAME_MAIN,LayerEnum.SCENE,game.GameMainModule,[]),this.regModule(ModuleEnum.MAIL,LayerEnum.POPUP,game.MailModule,[]),this.regModule(ModuleEnum.MAIL_DETAIL,LayerEnum.POPUP,game.MailDetailModule,[]),this.regModule(ModuleEnum.NOTICE,LayerEnum.POPUP,game.NoticeModule,[]),this.regModule(ModuleEnum.KEFU,LayerEnum.POPUP,game.KeFuModule,[]),this.regModule(ModuleEnum.ZHANJI,LayerEnum.POPUP,game.ZhanJiModule,[]),this.regModule(ModuleEnum.ZHANJIDETAIL,LayerEnum.POPUP,game.ZhanJiDetailModule,[]),this.regModule(ModuleEnum.RANK,LayerEnum.POPUP,game.RankModule,[]),this.regModule(ModuleEnum.ACTIVITY,LayerEnum.POPUP,game.ActivityModule,[]),this.regModule(ModuleEnum.JOINROOM,LayerEnum.POPUP,game.JoinRoomModule,[]),this.regModule(ModuleEnum.CREATE_ROOM,LayerEnum.POPUP,game.CreateRoomModule,[]),this.regModule(ModuleEnum.BUY_CARD,LayerEnum.POPUP,game.BuyCardModule,[]),this.regModule(ModuleEnum.SETTING,LayerEnum.POPUP,game.SettingModule,[]),this.regModule(ModuleEnum.SHUOMING,LayerEnum.POPUP,game.ShuoMingModule,[]),this.regModule(ModuleEnum.GAME,LayerEnum.SCENE,game.Game,[]),this.regModule(ModuleEnum.GAME_PUT_PORK,LayerEnum.POPUP,game.PutPorkModule,[]),this.regModule(ModuleEnum.GAME_HELP,LayerEnum.POPUP,game.GameHelpModule,[]),this.regModule(ModuleEnum.GAME_SINGLE_RESULT,LayerEnum.POPUP,game.SingleResultModule,[]),this.regModule(ModuleEnum.GAME_ALL_RESULT,LayerEnum.SCENE,game.AllResultModule,[]),this.regModule(ModuleEnum.GAME_SINGLE_RESULT_PLAY,LayerEnum.POPUP,game.SingleResultPlayModule,[]),this.regModule(ModuleEnum.GAME_ALL_RESULT_PLAY,LayerEnum.SCENE,game.AllResultPlayModule,[]),this.regModule(ModuleEnum.DISSOLVE_ROOM,LayerEnum.POPUP,game.DissolveRoomModule,[]),this.regModule(ModuleEnum.ALERT,LayerEnum.TOP,game.AlertModule,[]),this.regModule(ModuleEnum.FLOAT,LayerEnum.TOP,game.FloatMsgModule,[]),this.regModule(ModuleEnum.CHAT,LayerEnum.POPUP,game.ChatModule,[]),this.regModule(ModuleEnum.USERINFO,LayerEnum.POPUP,game.UserInfoPanel,[]),this.regModule(ModuleEnum.REPLAY,LayerEnum.SCENE,game.GameReplay,[]),this.regModule(ModuleEnum.TESTPORK,LayerEnum.POPUP,game.TestPorkModule,[]),this.regModule(ModuleEnum.BOFANGMA,LayerEnum.POPUP,game.ChaKanMaPanel,[]),this.regModule(ModuleEnum.JIESANSORT,LayerEnum.POPUP,game.JieSanSort,[])},t.prototype.regModule=function(t,e,n,i){void 0===i&&(i=null);var o=new ModuleConfigVo;switch(o.moduleId=t,o.layerKind=e,o.moduleCls=n,o.groupNames=i,e){case LayerEnum.SCENE:o.setIsAutoSize(!0);break;case LayerEnum.UI:o.setIsAutoSize(!0);break;case LayerEnum.STATIC:o.setIsAutoSize(!1),o.setDisposeWhenClose(!1);break;case LayerEnum.POPUP:o.setIsAutoSize(!0),o.setShowCover(!0);break;case LayerEnum.TOP:o.setIsAutoSize(!0)}return ModuleMgr.ins.regModule(o),o},t.prototype.checkHasSameId=function(){},t}();__reflect(RegModuleTask.prototype,"RegModuleTask");var RegRunTimeClassTask=function(){function t(){this.exec()}return t.prototype.exec=function(){fairygui.UIObjectFactory.setPackageItemExtension(UI.Game.UI_Pork.URL,game.Pork),fairygui.UIObjectFactory.setPackageItemExtension(UI.Game.UI_PlayerHead.URL,game.PlayerHead),fairygui.UIObjectFactory.setPackageItemExtension(UI.Game.UI_PlayerPokers.URL,game.PlayerPokers),fairygui.UIObjectFactory.setPackageItemExtension(UI.Mail.UI_MailItem.URL,game.MailListItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.ShuoMing.UI_ShuoMingTab.URL,game.ShuoMingTabItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.Rank.UI_RankItem.URL,game.RankItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.Result.UI_SingleResultItem.URL,game.SingleResultItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.Result.UI_AllResultItem.URL,game.AllResultItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.ZhanJi.UI_ZhanJiItem.URL,game.ZhanJiItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.ZhanJi.UI_ZhanJiItemUserItem.URL,game.ZhanJiItemUserItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.Game.UI_DissolveHead.URL,game.DissolveHead),fairygui.UIObjectFactory.setPackageItemExtension(UI.Game.UI_ChatItem.URL,game.ChatItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.Game.UI_ChatYuSheItem.URL,game.ChatYuSheItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.Game.UI_EmojiItem.URL,game.ChatEmojiItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.ZhanJi.UI_ZhanJiDetailItem.URL,game.ZhanJiDetailItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.ZhanJi.UI_JieSanItem.URL,game.JieSanItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.MainUI.UI_HeadImage.URL,game.PlayerHeadImg),fairygui.UIObjectFactory.setPackageItemExtension(UI.MainUI.UI_HeadImage1.URL,game.PlayerHeadImg1)},t}();__reflect(RegRunTimeClassTask.prototype,"RegRunTimeClassTask");var HistoryModuleVo=function(){function t(t,e,n){this.moduleId=t,this.data=e,this.historyData=n}return t}();__reflect(HistoryModuleVo.prototype,"HistoryModuleVo");var ModuleConfigVo=function(){function t(){this.m_disposeWhenClose=!0,this.m_showCover=!1}return Object.defineProperty(t.prototype,"isAutoSize",{get:function(){return this.m_isAutoSize},enumerable:!0,configurable:!0}),t.prototype.setIsAutoSize=function(t){return this.m_isAutoSize=t,this},Object.defineProperty(t.prototype,"disposeWhenClose",{get:function(){return this.m_disposeWhenClose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showCover",{get:function(){return this.m_showCover
},enumerable:!0,configurable:!0}),t.prototype.setShowCover=function(t){return this.m_showCover=t,this},t.prototype.setDisposeWhenClose=function(t){return 0==t&&this.layerKind==LayerEnum.POPUP?(egret.error("popup层不能设置disposeWhenClose为false"),this):(this.m_disposeWhenClose=t,this)},t}();__reflect(ModuleConfigVo.prototype,"ModuleConfigVo");var ModuleInfoVo=function(t){function e(e){var n=t.call(this)||this;return n.state=0,n.phase=0,n.moduleId=e.moduleId,n.configVo=e,n}return __extends(e,t),e.prototype.changeModuleState=function(t){if(this.state!=t){var e=this.state;if(this.state=t,e==ModuleConsts.STATE_NULL)t==ModuleConsts.STATE_SHOW&&this.startShow();else if(e==ModuleConsts.STATE_SHOW)switch(this.phase){case ModuleConsts.PHASE_LOAD_ASSET:case ModuleConsts.PHASE_SERVER:case ModuleConsts.PHASE_PRE_SHOW:case ModuleConsts.PHASE_MODULE_FADE_IN:t==ModuleConsts.STATE_CLOSE||(this.removeAllListeners(),this.preClose());break;case ModuleConsts.PHASE_SHOW:this.removeAllListeners(),this.preClose()}else if(e==ModuleConsts.STATE_CLOSE)switch(this.phase){case ModuleConsts.PHASE_PRE_CLOSE:this.removeAllListeners(),this.show();break;case ModuleConsts.PHASE_MODULE_FADE_OUT:case ModuleConsts.PHASE_CLOSE:null==this.module.content.parent&&this.layer.addChild(this.module.content),this.removeAllListeners(),this.moduleFadeIn()}}},e.prototype.startShow=function(){if(this.state=ModuleConsts.STATE_SHOW,null==this.module){this.module=new this.configVo.moduleCls,this.module.moduleInfoVo=this,this.isShow=!0;var t=this.configVo.groupNames.slice();if(t&&t.length>0){var e=core.LoadingManager.getCurLoading();e&&e.show(),this.phase=ModuleConsts.PHASE_LOAD_ASSET,core.ResUtils.loadGroups(t,this.onLoadProgress,this.onLoadFaild,this.onLoadComplete,this)}else this.initAll()}else this.isShow=!0,this.initAll()},e.prototype.initAll=function(){this.module.initContentAll(),this.moduleServerStart()},e.prototype.moduleServerStart=function(){this.state==ModuleConsts.STATE_SHOW&&(this.phase=ModuleConsts.PHASE_LOAD_ASSET,this.module.addEventListener(ModuleConsts.MODULE_SERVER_CPL,this.onModuleServerCpl,this),this.module.moduleServerStart(this.preShowData))},e.prototype.onModuleServerCpl=function(t){this.module.removeEventListener(ModuleConsts.MODULE_SERVER_CPL,this.onModuleServerCpl,this),this.preShow()},e.prototype.preShow=function(){this.state==ModuleConsts.STATE_SHOW&&(this.phase=ModuleConsts.PHASE_PRE_SHOW,this.module.addEventListener(ModuleConsts.MODULE_PRE_SHOW_CPL,this.onModulePreShowCpl,this),this.module.preShow(this.preShowData))},e.prototype.onModulePreShowCpl=function(t){var e=core.LoadingManager.getCurLoading();e&&e.hide(),this.module.initAutoSize(this.layer,this.configVo.isAutoSize),this.layer.addChild(this.module.content),this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_ADD_TO_STAGE)),this.moduleFadeIn()},e.prototype.moduleFadeIn=function(){this.state==ModuleConsts.STATE_SHOW&&(this.phase=ModuleConsts.PHASE_MODULE_FADE_IN,this.isShow=!0,this.module.addEventListener(ModuleConsts.MODULE_FADE_IN_CPL,this.onModuleFadeInCpl,this),this.module.moduleFadeIn())},e.prototype.onModuleFadeInCpl=function(t){this.module.removeEventListener(ModuleConsts.MODULE_FADE_IN_CPL,this.onModuleFadeInCpl,this),this.show()},e.prototype.show=function(){this.state==ModuleConsts.STATE_SHOW&&(this.phase=ModuleConsts.PHASE_SHOW,this.module.show(this.preShowData))},e.prototype.preClose=function(){this.phase=ModuleConsts.PHASE_PRE_CLOSE,this.module.addEventListener(ModuleConsts.MODULE_PRE_CLOSE_CPL,this.onModulePreCloseCpl,this),this.module.preClose(this.preShowData)},e.prototype.onModulePreCloseCpl=function(t){this.isShow=!1,this.module.removeEventListener(ModuleConsts.MODULE_PRE_CLOSE_CPL,this.onModulePreCloseCpl,this),this.moduleFadeOut()},e.prototype.moduleFadeOut=function(){this.phase=ModuleConsts.PHASE_MODULE_FADE_OUT,this.module.addEventListener(ModuleConsts.MODULE_FADE_OUT_CPL,this.onModuleFadeOutCpl,this),this.module.moduleFadeOut()},e.prototype.onModuleFadeOutCpl=function(t){this.module.removeEventListener(ModuleConsts.MODULE_FADE_OUT_CPL,this.onModuleFadeOutCpl,this),this.doRelease()},e.prototype.doRelease=function(){this.phase=ModuleConsts.PHASE_CLOSE,this.configVo.disposeWhenClose?(this.state=ModuleConsts.STATE_DISPOSE,this.module.release()):this.module.hide(),this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_CLOSE_CPL))},e.prototype.release=function(){this.removeAllListeners(),this.module=null,this.layer=null},e.prototype.getHistoryData=function(){return null!=this.module?this.module.getHistoryData():null},e.prototype.removeAllListeners=function(){this.module&&(this.module.removeEventListener(ModuleConsts.MODULE_SERVER_CPL,this.onModuleServerCpl,this),this.module.removeEventListener(ModuleConsts.MODULE_PRE_SHOW_CPL,this.onModulePreShowCpl,this),this.module.removeEventListener(ModuleConsts.MODULE_FADE_IN_CPL,this.onModuleFadeInCpl,this),this.module.removeEventListener(ModuleConsts.MODULE_PRE_CLOSE_CPL,this.onModulePreCloseCpl,this),this.module.removeEventListener(ModuleConsts.MODULE_FADE_OUT_CPL,this.onModuleFadeOutCpl,this))},e.prototype.onLoadProgress=function(t){var e=core.LoadingManager.getCurLoading();e&&e.setProgress(t)},e.prototype.onLoadFaild=function(t){egret.log("资源组"+t.curGroup+"加载失败, 失败URL："+t.curResItem.url)},e.prototype.onLoadComplete=function(t){for(var e=0;e<this.configVo.groupNames.length;e++){var n=this.configVo.groupNames[e],i=RES.getRes(n);i||(i=RES.getRes(n+"_fui")),i&&fairygui.UIPackage.addPackage(this.configVo.groupNames[e])}this.initAll()},e}(egret.EventDispatcher);__reflect(ModuleInfoVo.prototype,"ModuleInfoVo");var PopModuleLayer=function(t){function e(){var e=t.call(this)||this;return e.cover=new fairygui.GGraph,e.cover.touchable=!0,e.drawCover(),App.EventCenter.addListener(egret.Event.RESIZE,e.onStageResize,e),e}return __extends(e,t),e.prototype.onStageResize=function(t){this.drawCover()},e.prototype.drawCover=function(){this.cover.graphics.clear(),this.cover.graphics.beginFill(0,.8),this.cover.graphics.drawRect(0,0,LayerCenter.stageWidth,LayerCenter.stageHeight),this.cover.graphics.endFill()},e.prototype.onCoverTouch=function(t){var e=this.getCurModuleId();e>0&&this.closeModule(e)},e.prototype.showModule=function(t,e,n){var i=ModuleMgr.ins.getConfigVo(t);if(null!=i){var o=new ModuleInfoVo(i);return this.p_moduleList.push(o),o.preShowData=e,o.layer=this,o.addEventListener(ModuleConsts.MODULE_ADD_TO_STAGE,this.onModuleAddToStage,this),o.changeModuleState(ModuleConsts.STATE_SHOW),o}},e.prototype.onCloseCpl=function(e){t.prototype.onCloseCpl.call(this,e),this.updateModuleVisible()},e.prototype.onModuleAddToStage=function(t){this.updateModuleVisible()},e.prototype.updateModuleVisible=function(){if(this.p_moduleList.length>0){for(var t=0;t<this.p_moduleList.length;t++)t<this.p_moduleList.length-2?this.p_moduleList[t].module.setVisible(!1):this.p_moduleList[t].module.setVisible(!0);this.p_moduleList[this.p_moduleList.length-1]}this.updateConver()},e.prototype.updateConver=function(){for(var t=this.p_moduleList.length-1;t>=0;t--)if(this.p_moduleList[t].configVo.showCover)return void core.DisplayUtil.getInstance().addChildBelow(this.cover,this.p_moduleList[t].module.content);this.cover.parent&&this.cover.parent.removeChild(this.cover)},e}(UILayer);__reflect(PopModuleLayer.prototype,"PopModuleLayer");var Keyboard;!function(t){t[t.BACKSPACE=8]="BACKSPACE",t[t.TAB=9]="TAB",t[t.ENTER=13]="ENTER",t[t.SHIFT=16]="SHIFT",t[t.CTRL=17]="CTRL",t[t.ALT=18]="ALT",t[t.CAPSLOCK=20]="CAPSLOCK",t[t.ESC=27]="ESC",t[t.SPACE=32]="SPACE",t[t.PAGEUP=33]="PAGEUP",t[t.PAGEDOWN=34]="PAGEDOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN",t[t.INSERT=45]="INSERT",t[t.DELETE=46]="DELETE",t[t.NUM_0=48]="NUM_0",t[t.NUM_1=49]="NUM_1",t[t.NUM_2=50]="NUM_2",t[t.NUM_3=51]="NUM_3",t[t.NUM_4=52]="NUM_4",t[t.NUM_5=53]="NUM_5",t[t.NUM_6=54]="NUM_6",t[t.NUM_7=55]="NUM_7",t[t.NUM_8=56]="NUM_8",t[t.NUM_9=57]="NUM_9",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.NUMPAD_0=96]="NUMPAD_0",t[t.NUMPAD_1=97]="NUMPAD_1",t[t.NUMPAD_2=98]="NUMPAD_2",t[t.NUMPAD_3=99]="NUMPAD_3",t[t.NUMPAD_4=100]="NUMPAD_4",t[t.NUMPAD_5=101]="NUMPAD_5",t[t.NUMPAD_6=102]="NUMPAD_6",t[t.NUMPAD_7=103]="NUMPAD_7",t[t.NUMPAD_8=104]="NUMPAD_8",t[t.NUMPAD_9=105]="NUMPAD_9",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12"}(Keyboard||(Keyboard={}));var SceneModuleLayer=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(UIModuleLayer);__reflect(SceneModuleLayer.prototype,"SceneModuleLayer");var StaticModuleLayer=function(t){function e(){var e=t.call(this)||this;return e.cover=new egret.Sprite,e.cover.touchEnabled=!0,e.drawCover(),e}return __extends(e,t),e.prototype.drawCover=function(){this.cover.graphics.clear(),this.cover.graphics.beginFill(0,.2),this.cover.graphics.drawRect(0,0,LayerCenter.stageWidth,LayerCenter.stageHeight),this.cover.graphics.endFill()},e}(UILayer);__reflect(StaticModuleLayer.prototype,"StaticModuleLayer");var TopModuleLayer=function(t){function e(){var e=t.call(this)||this;return e.cover=new egret.Sprite,e.cover.touchEnabled=!0,e.drawCover(),App.EventCenter.addListener(egret.Event.RESIZE,e.onStageResize,e),e}return __extends(e,t),e.prototype.onStageResize=function(t){this.drawCover()},e.prototype.drawCover=function(){this.cover.graphics.clear(),this.cover.graphics.beginFill(0,.2),this.cover.graphics.drawRect(0,0,LayerCenter.stageWidth,LayerCenter.stageHeight),this.cover.graphics.endFill()},e.prototype.onModuleAddToStage=function(t){this.updateConver()},e.prototype.onCloseCpl=function(e){t.prototype.onCloseCpl.call(this,e),this.updateConver()},e.prototype.updateConver=function(){for(var t=this.p_moduleList.length-1;t>=0;t--)if(this.p_moduleList[t].configVo.showCover)return void core.DisplayUtil.getInstance().addChildBelow(this.cover,this.p_moduleList[t].module.content);this.cover.parent&&this.cover.parent.removeChild(this.cover)},e}(UILayer);__reflect(TopModuleLayer.prototype,"TopModuleLayer");var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initAutoSize=function(t,e){this.content&&e&&(this.content.x=t.width/2-this.content.width/2,this.content.y=t.height/2-this.content.height/2,this.content.addRelation(t,fairygui.RelationType.Center_Center))},e}(Module);t.TopModuleView=e,__reflect(e.prototype,"game.TopModuleView")}(game||(game={}));var core;!function(t){var e=function(){function t(){this.m_keyMap=new Dictionary}return t.prototype.addKeyListener=function(t,e,o){var r=this.m_keyMap.get(t);r||(r=new n(t)),r.callbacks.push(new i(e,o)),this.m_keyMap.add(t,r)},t.prototype.removeKeyListener=function(t,e,n){var i=this.m_keyMap.get(t);if(i)for(var o=i.callbacks,r=0,s=o.length;s>r;r++){var a=o[r];a&&a.callback===e&&a.thisObj===n&&(a.isValid=!1)}},t.prototype.enableKey=function(t,e){this.m_keyMap.get(t).keyEnable=e},t.prototype.enable=function(t){for(var e=this.m_keyMap,n=e.values,i=0,o=n.length;o>i;i++)n[i].keyEnable=t},t.prototype.sendKey=function(t){var e=this.m_keyMap.get(t);if(e){for(var n=e.callbacks,i=n.length;i>0;i--){var o=n[i-1];o.isValid||n.splice(i-1,1)}for(var i=0,r=n.length;r>i;i++){var s=n[i];s.callback.call(s.thisObj)}}},t.getInstance=function(){return t.s_instance||(t.s_instance=new t),t.s_instance},t}();t.InputManager=e,__reflect(e.prototype,"core.InputManager");var n=function(){function t(t){this.key=t,this.keyEnable=!0,this.callbacks=[]}return t}();__reflect(n.prototype,"KeyData");var i=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.isValid=!0,i}return __extends(e,t),e}(t.Callback);__reflect(i.prototype,"KeyCallBack")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.MODULE_SHOW="core.EventID.MODULE_SHOW",t.MODULE_HIDE="core.EventID.MODULE_HIDE",t.SOCKET_CONNECT="core.EventID.SOCKET_CONNECT",t.SOCKET_DATA="core.EventID.SOCKET_DATA",t.SOCKET_IOERROR="core.EventID.SOCKET_IOERROR",t.SOCKET_CLOSE="core.EventID.SOCKET_CLOSE",t.KEYBOARD_DOWN="core.EventID.KEYBOARD_DOWN",t.KEYBOARD_UP="core.EventID.KEYBOARD_UP",t.CREATE_ROLE="core.EventID.CREATE_ROLE",t}();t.EventID=e,__reflect(e.prototype,"core.EventID")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Activity.URL,t.UI_Activity)},e}();t.ActivityBinder=e,__reflect(e.prototype,"UI.Activity.ActivityBinder")}(e=t.Activity||(t.Activity={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Activity","Activity")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_list=this.getChildAt(5)},e.URL="ui://eqi03f83nxr20",e}(fairygui.GComponent);t.UI_Activity=e,__reflect(e.prototype,"UI.Activity.UI_Activity")}(e=t.Activity||(t.Activity={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_AddRoom.URL,t.UI_AddRoom)},e}();t.AddRoomBinder=e,__reflect(e.prototype,"UI.AddRoom.AddRoomBinder")}(e=t.AddRoom||(t.AddRoom={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("AddRoom","AddRoom")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_btn1=this.getChildAt(8),this.m_btn2=this.getChildAt(9),this.m_btn3=this.getChildAt(10),this.m_btn4=this.getChildAt(11),this.m_btn5=this.getChildAt(12),this.m_btn6=this.getChildAt(13),this.m_btn7=this.getChildAt(14),this.m_btn8=this.getChildAt(15),this.m_btn9=this.getChildAt(16),this.m_btn0=this.getChildAt(17),this.m_btndel=this.getChildAt(18),this.m_btnreset=this.getChildAt(19),this.m_txt1=this.getChildAt(20),this.m_txt2=this.getChildAt(21),this.m_txt3=this.getChildAt(22),this.m_txt4=this.getChildAt(23),this.m_txt5=this.getChildAt(24),this.m_txt6=this.getChildAt(25)},e.URL="ui://8vvi1zrysej4h",e}(fairygui.GComponent);t.UI_AddRoom=e,__reflect(e.prototype,"UI.AddRoom.UI_AddRoom")}(e=t.AddRoom||(t.AddRoom={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_FloatMsg.URL,t.UI_FloatMsg),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_PopModuleBg.URL,t.UI_PopModuleBg),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_SimpleAlert.URL,t.UI_SimpleAlert),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_AlertBg.URL,t.UI_AlertBg),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_AlertBg1.URL,t.UI_AlertBg1)},e}();t.BaseBinder=e,__reflect(e.prototype,"UI.Base.BaseBinder")}(e=t.Base||(t.Base={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Base","AlertBg")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_close=this.getChildAt(1),this.m_title=this.getChildAt(2)},e.URL="ui://i36kne80rezh13",e}(fairygui.GComponent);t.UI_AlertBg=e,__reflect(e.prototype,"UI.Base.UI_AlertBg")}(e=t.Base||(t.Base={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Base","AlertBg1")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_close=this.getChildAt(2),this.m_title=this.getChildAt(3)},e.URL="ui://i36kne80rezh17",e}(fairygui.GComponent);t.UI_AlertBg1=e,__reflect(e.prototype,"UI.Base.UI_AlertBg1")}(e=t.Base||(t.Base={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Base","FloatMsg")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt=this.getChildAt(1),this.m_t0=this.getTransitionAt(0)},e.URL="ui://i36kne809i991c",e}(fairygui.GComponent);t.UI_FloatMsg=e,__reflect(e.prototype,"UI.Base.UI_FloatMsg")}(e=t.Base||(t.Base={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Base","PopModuleBg")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_close=this.getChildAt(3),this.m_title=this.getChildAt(4)},e.URL="ui://i36kne80nl0p9",e}(fairygui.GComponent);t.UI_PopModuleBg=e,__reflect(e.prototype,"UI.Base.UI_PopModuleBg")}(e=t.Base||(t.Base={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Base","SimpleAlert")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_type=this.getControllerAt(0),this.m_panelBg=this.getChildAt(0),this.m_btn_ok=this.getChildAt(1),this.m_btn_cancel=this.getChildAt(2),this.m_content=this.getChildAt(3)},e.URL="ui://i36kne80r2oa1b",e}(fairygui.GComponent);t.UI_SimpleAlert=e,__reflect(e.prototype,"UI.Base.UI_SimpleAlert")}(e=t.Base||(t.Base={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_BuyCard.URL,t.UI_BuyCard)},e}();t.BuyCardBinder=e,__reflect(e.prototype,"UI.BuyCard.BuyCardBinder")}(e=t.BuyCard||(t.BuyCard={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("BuyCard","BuyCard")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_buy=this.getChildAt(2),this.m_btn_get=this.getChildAt(4),this.m_btn_close=this.getChildAt(8),this.m_txt_input=this.getChildAt(10),this.m_txt_input1=this.getChildAt(13),this.m_txt_input2=this.getChildAt(14),this.m_txt_input3=this.getChildAt(15),this.m_txt_input4=this.getChildAt(16),this.m_txt_input5=this.getChildAt(17),this.m_txt_input6=this.getChildAt(18)},e.URL="ui://ebiec26up0d66",e}(fairygui.GComponent);t.UI_BuyCard=e,__reflect(e.prototype,"UI.BuyCard.UI_BuyCard")}(e=t.BuyCard||(t.BuyCard={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ButtonCreate.URL,t.UI_ButtonCreate),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_CreateRoom.URL,t.UI_CreateRoom)},e}();t.CreateRoomBinder=e,__reflect(e.prototype,"UI.CreateRoom.CreateRoomBinder")}(e=t.CreateRoom||(t.CreateRoom={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("CreateRoom","ButtonCreate")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_cardnum=this.getChildAt(3)},e.URL="ui://83u5vz94h5w5v",e}(fairygui.GButton);t.UI_ButtonCreate=e,__reflect(e.prototype,"UI.CreateRoom.UI_ButtonCreate")}(e=t.CreateRoom||(t.CreateRoom={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("CreateRoom","CreateRoom")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_typeCtrl=this.getControllerAt(0),this.m_payCtrl=this.getControllerAt(1),this.m_JuShuCtrl=this.getControllerAt(2),this.m_NumCtrl=this.getControllerAt(3),this.m_NumCtrl1=this.getControllerAt(4),this.m_panelBg=this.getChildAt(0),this.m_btn_type0=this.getChildAt(4),this.m_btn_type1=this.getChildAt(5),this.m_btn_type2=this.getChildAt(6),this.m_btn_type3=this.getChildAt(7),this.m_btn_type4=this.getChildAt(8),this.m_btn_paytype0=this.getChildAt(10),this.m_btn_paytype1=this.getChildAt(11),this.m_btn_junum0=this.getChildAt(12),this.m_btn_junum1=this.getChildAt(13),this.m_btn_junum2=this.getChildAt(14),this.m_check_2=this.getChildAt(15),this.m_check_3=this.getChildAt(16),this.m_check_4=this.getChildAt(17),this.m_checkbox_zhuang=this.getChildAt(18),this.m_num1=this.getChildAt(28),this.m_num2=this.getChildAt(29),this.m_num3=this.getChildAt(30),this.m_btn_create=this.getChildAt(32),this.m_btn_buy=this.getChildAt(33),this.m_check_5=this.getChildAt(35),this.m_num4=this.getChildAt(36),this.m_radio_huase1=this.getChildAt(37),this.m_radio_huase2=this.getChildAt(38),this.m_radio_huase3=this.getChildAt(39),this.m_radio_huase4=this.getChildAt(40),this.m_huase=this.getChildAt(46),this.m_checkbox_mapai=this.getChildAt(47),this.m_jiama=this.getChildAt(49),this.m_checkbox_jiayise=this.getChildAt(50),this.m_jiayise=this.getChildAt(52)},e.URL="ui://83u5vz94sej48",e}(fairygui.GComponent);t.UI_CreateRoom=e,__reflect(e.prototype,"UI.CreateRoom.UI_CreateRoom")}(e=t.CreateRoom||(t.CreateRoom={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Flower.URL,t.UI_Flower),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Boom.URL,t.UI_Boom),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ChatYuSheItem.URL,t.UI_ChatYuSheItem),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_SecurityCheck.URL,t.UI_SecurityCheck),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_PlayerPokers.URL,t.UI_PlayerPokers),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_DissolveRoom.URL,t.UI_DissolveRoom),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_DissolveHead.URL,t.UI_DissolveHead),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_GameReplay.URL,t.UI_GameReplay),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_DaQiang.URL,t.UI_DaQiang),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Game.URL,t.UI_Game),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Pork.URL,t.UI_Pork),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_PutPork.URL,t.UI_PutPork),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ButtonType.URL,t.UI_ButtonType),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ButtonTypeEnd.URL,t.UI_ButtonTypeEnd),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_PlayerHead.URL,t.UI_PlayerHead),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_EmojiItem.URL,t.UI_EmojiItem),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_UserInfo.URL,t.UI_UserInfo),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ChatModule.URL,t.UI_ChatModule),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ChatItem.URL,t.UI_ChatItem),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ReplayBotton.URL,t.UI_ReplayBotton)},e}();t.GameBinder=e,__reflect(e.prototype,"UI.Game.GameBinder")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","Boom")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_boom1=this.getChildAt(0),this.m_boom2=this.getChildAt(1),this.m_t0=this.getTransitionAt(0)},e.URL="ui://jow5n9bq56g77e",e}(fairygui.GComponent);t.UI_Boom=e,__reflect(e.prototype,"UI.Game.UI_Boom")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","ButtonType")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt=this.getChildAt(1)},e.URL="ui://jow5n9bqmwp41o",e}(fairygui.GButton);t.UI_ButtonType=e,__reflect(e.prototype,"UI.Game.UI_ButtonType")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","ButtonTypeEnd")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt=this.getChildAt(1)},e.URL="ui://jow5n9bqmwp41p",e}(fairygui.GButton);t.UI_ButtonTypeEnd=e,__reflect(e.prototype,"UI.Game.UI_ButtonTypeEnd")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var core;!function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return __extends(e,t),e.prototype.getData=function(){return this.messageData},e}(t.EventData);t.KeyboardEventData=e,__reflect(e.prototype,"core.KeyboardEventData")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","ChatModule")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_ctrl=this.getControllerAt(0),this.m_panelBg=this.getChildAt(0),this.m_btn_liaotian=this.getChildAt(1),this.m_btn_record=this.getChildAt(2),this.m_btn_biaoq=this.getChildAt(3),this.m_list=this.getChildAt(4),this.m_btn_send=this.getChildAt(5),this.m_btn_input=this.getChildAt(7),this.m_list_emoji=this.getChildAt(8),this.m_listyushe=this.getChildAt(9)},e.URL="ui://jow5n9bqx90y31",e}(fairygui.GComponent);t.UI_ChatModule=e,__reflect(e.prototype,"UI.Game.UI_ChatModule")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var core;!function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,i)||this;return o.moduleEnum=n,o}return __extends(e,t),e}(t.EventData);t.ModuleEventData=e,__reflect(e.prototype,"core.ModuleEventData")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","DaQiang")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_qiang=this.getChildAt(0),this.m_t0=this.getTransitionAt(0)},e.URL="ui://jow5n9bqist44g",e}(fairygui.GComponent);t.UI_DaQiang=e,__reflect(e.prototype,"UI.Game.UI_DaQiang")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","DissolveRoom")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_list=this.getChildAt(1),this.m_txt_name=this.getChildAt(2),this.m_btn_refuse=this.getChildAt(3),this.m_btn_accept=this.getChildAt(4),this.m_txt_count=this.getChildAt(5)},e.URL="ui://jow5n9bqgl8o4h",e}(fairygui.GComponent);t.UI_DissolveRoom=e,__reflect(e.prototype,"UI.Game.UI_DissolveRoom")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","Flower")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_flower=this.getChildAt(0),this.m_t0=this.getTransitionAt(0)},e.URL="ui://jow5n9bq56g77d",e}(fairygui.GComponent);t.UI_Flower=e,__reflect(e.prototype,"UI.Game.UI_Flower")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","Game")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_playerNumCtrl=this.getControllerAt(0),this.m_bg=this.getChildAt(0),this.m_btn_quit=this.getChildAt(1),this.m_btn_setting=this.getChildAt(2),this.m_btn_help=this.getChildAt(3),this.m_btn_invite=this.getChildAt(5),this.m_btn_start=this.getChildAt(6),this.m_head5=this.getChildAt(7),this.m_head4=this.getChildAt(8),this.m_head3=this.getChildAt(9),this.m_head2=this.getChildAt(10),this.m_head6=this.getChildAt(11),this.m_head1=this.getChildAt(12),this.m_btn_check=this.getChildAt(15),this.m_btn_ready=this.getChildAt(16),this.m_btn_chat=this.getChildAt(17),this.m_btn_talk=this.getChildAt(18),this.m_img_start=this.getChildAt(19),this.m_txt_room=this.getChildAt(21),this.m_txt_jushu=this.getChildAt(22),this.m_txt_roomtype=this.getChildAt(23),this.m_sharetips=this.getChildAt(27),this.m_btn_continue=this.getChildAt(28),this.m_qld=this.getChildAt(29),this.m_t1=this.getTransitionAt(0),this.m_t3=this.getTransitionAt(1)},e.URL="ui://jow5n9bqmwp40",e}(fairygui.GComponent);t.UI_Game=e,__reflect(e.prototype,"UI.Game.UI_Game")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","GameReplay")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_playerNumCtrl=this.getControllerAt(0),this.m_bg=this.getChildAt(0),this.m_btn_quit=this.getChildAt(1),this.m_head5=this.getChildAt(3),this.m_head4=this.getChildAt(4),this.m_head3=this.getChildAt(5),this.m_head2=this.getChildAt(6),this.m_head6=this.getChildAt(7),this.m_head1=this.getChildAt(8),this.m_playerPoke6=this.getChildAt(10),this.m_txt_fid=this.getChildAt(11),this.m_playcontrol=this.getChildAt(12),this.m_txt_ju=this.getChildAt(13),this.m_t1=this.getTransitionAt(0)},e.URL="ui://jow5n9bqijgv4x",e}(fairygui.GComponent);t.UI_GameReplay=e,__reflect(e.prototype,"UI.Game.UI_GameReplay")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var core;!function(t){var e=function(){function t(){}return t.getLoading=function(e){var n=t.s_loading.get(e);return n||e&&(n=new e,t.s_loading.add(e,n)),n},t.getCurLoading=function(){return t.s_curLoading},t.setCurLoading=function(e){var n=t.s_loading.get(e);return n||e&&(n=new e,t.s_loading.add(e,n)),t.s_curLoading=n,n},t.s_loading=new Dictionary,t}();t.LoadingManager=e,__reflect(e.prototype,"core.LoadingManager")}(core||(core={}));var core;!function(t){var e=function(e){function n(t){return e.call(this,t)||this}return __extends(n,e),n.prototype.readUTFData=function(){var t=this.readShort();return e.prototype.readUTFBytes.call(this,t)},n.prototype.writeUTFBytes=function(t){this.writeShort(this.getStringBytesLen(t)),e.prototype.writeUTFBytes.call(this,t)},n.prototype.getStringBytesLen=function(t){var e=new egret.ByteArray;return e.writeUTFBytes(t),e.length},n.prototype.clone=function(){var e=new t.ByteBuffer;return e.writeBytes(this),e},n}(egret.ByteArray);t.ByteBuffer=e,__reflect(e.prototype,"core.ByteBuffer")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","PutPork")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_ctrl=this.getControllerAt(0),this.m_btn_close1=this.getChildAt(4),this.m_btn_close2=this.getChildAt(5),this.m_btn_close3=this.getChildAt(6),this.m_paixing_2=this.getChildAt(7),this.m_paixing_0=this.getChildAt(9),this.m_paixing_1=this.getChildAt(10),this.m_porkList=this.getChildAt(12),this.m_btn_cancel=this.getChildAt(13),this.m_btn_ok=this.getChildAt(14),this.m_btntype1=this.getChildAt(15),this.m_btntype2=this.getChildAt(16),this.m_btntype3=this.getChildAt(17),this.m_btntype4=this.getChildAt(18),this.m_btntype5=this.getChildAt(19),this.m_btntype6=this.getChildAt(20),this.m_btntype7=this.getChildAt(21),this.m_btntype8=this.getChildAt(22),this.m_btntype9=this.getChildAt(23),this.m_btngroup=this.getChildAt(24),this.m_btn_help=this.getChildAt(25),this.m_area_top=this.getChildAt(26),this.m_area_mid=this.getChildAt(27),this.m_area_down=this.getChildAt(28),this.m_list_top=this.getChildAt(29),this.m_list_mid=this.getChildAt(30),this.m_list_down=this.getChildAt(31)
},e.URL="ui://jow5n9bqmwp41g",e}(fairygui.GComponent);t.UI_PutPork=e,__reflect(e.prototype,"UI.Game.UI_PutPork")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","ReplayBotton")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getControllerAt(0),this.m_btn_start=this.getChildAt(2),this.m_btn_pre=this.getChildAt(3),this.m_btn_next=this.getChildAt(4),this.m_btn_stop=this.getChildAt(5),this.m_btn_pause=this.getChildAt(6),this.m_txt_huifangma=this.getChildAt(7)},e.URL="ui://jow5n9bqy9mu5t",e}(fairygui.GComponent);t.UI_ReplayBotton=e,__reflect(e.prototype,"UI.Game.UI_ReplayBotton")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","SecurityCheck")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_t0=this.getTransitionAt(0)},e.URL="ui://jow5n9bqdu502t",e}(fairygui.GComponent);t.UI_SecurityCheck=e,__reflect(e.prototype,"UI.Game.UI_SecurityCheck")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","UserInfo")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_zadan=this.getChildAt(3),this.m_btn_flower=this.getChildAt(4),this.m_txt_name=this.getChildAt(7),this.m_txt_score=this.getChildAt(8),this.m_txt_id=this.getChildAt(9),this.m_txt_pos=this.getChildAt(10),this.m_txt_pos0=this.getChildAt(11),this.m_txt_pos0_2=this.getChildAt(12),this.m_txt_pos0_3=this.getChildAt(13),this.m_txt_pos0_4=this.getChildAt(14),this.m_txt_pos0_5=this.getChildAt(15),this.m_btn_close=this.getChildAt(16),this.m_head=this.getChildAt(17)},e.URL="ui://jow5n9bqwigp4o",e}(fairygui.GComponent);t.UI_UserInfo=e,__reflect(e.prototype,"UI.Game.UI_UserInfo")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_GameHelper.URL,t.UI_GameHelper)},e}();t.GameHelperBinder=e,__reflect(e.prototype,"UI.GameHelper.GameHelperBinder")}(e=t.GameHelper||(t.GameHelper={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("GameHelper","GameHelper")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_shuoming=this.getChildAt(1)},e.URL="ui://gxctr1midu500",e}(fairygui.GComponent);t.UI_GameHelper=e,__reflect(e.prototype,"UI.GameHelper.UI_GameHelper")}(e=t.GameHelper||(t.GameHelper={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_KeFu.URL,t.UI_KeFu)},e}();t.KefuBinder=e,__reflect(e.prototype,"UI.Kefu.KefuBinder")}(e=t.Kefu||(t.Kefu={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Kefu","KeFu")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_btn_copy=this.getChildAt(3),this.m_btn_ok=this.getChildAt(4)},e.URL="ui://j0afz4iznl0p1",e}(fairygui.GComponent);t.UI_KeFu=e,__reflect(e.prototype,"UI.Kefu.UI_KeFu")}(e=t.Kefu||(t.Kefu={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_LoadingModule.URL,t.UI_LoadingModule)},e}();t.LoadingBinder=e,__reflect(e.prototype,"UI.Loading.LoadingBinder")}(e=t.Loading||(t.Loading={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Loading","LoadingModule")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_bar=this.getChildAt(1),this.m_txt_name=this.getChildAt(3),this.m_txt=this.getChildAt(4),this.m_btn_start=this.getChildAt(5),this.m_img=this.getChildAt(8)},e.URL="ui://icciepj5kyt83",e}(fairygui.GComponent);t.UI_LoadingModule=e,__reflect(e.prototype,"UI.Loading.UI_LoadingModule")}(e=t.Loading||(t.Loading={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_MailModule.URL,t.UI_MailModule),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_MailDetail.URL,t.UI_MailDetail),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_MailItem.URL,t.UI_MailItem)},e}();t.MailBinder=e,__reflect(e.prototype,"UI.Mail.MailBinder")}(e=t.Mail||(t.Mail={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Mail","MailDetail")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0)},e.URL="ui://tebyebzgnl0p11",e}(fairygui.GComponent);t.UI_MailDetail=e,__reflect(e.prototype,"UI.Mail.UI_MailDetail")}(e=t.Mail||(t.Mail={}))}(UI||(UI={}));var HttpAPI=function(){function t(){}return t.HttpGET=function(t,e,n,i,o){var r=e?t+"?"+encodeURI(this.encode(e)):t;console.log("短链接请求:---"+r);var s=new egret.HttpRequest;s.responseType=egret.HttpResponseType.TEXT,s.addEventListener(egret.Event.COMPLETE,n,o),s.addEventListener(egret.IOErrorEvent.IO_ERROR,i,o),s.open(r,egret.HttpMethod.GET),s.send()},t.HttpPOST=function(t,e,n,i,o){var r=new egret.HttpRequest;r.responseType=egret.HttpResponseType.TEXT,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.addEventListener(egret.Event.COMPLETE,n,o),r.addEventListener(egret.IOErrorEvent.IO_ERROR,i,o),r.open(t,egret.URLRequestMethod.POST),r.send(e)},t.encode=function(t){var e="";for(var n in t)e+=n+"="+t[n]+"&";return e.length>1?""+e.substring(0,e.length-1):e},t}();__reflect(HttpAPI.prototype,"HttpAPI");var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Mail","MailModule")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_list=this.getChildAt(1)},e.URL="ui://tebyebzgnl0p10",e}(fairygui.GComponent);t.UI_MailModule=e,__reflect(e.prototype,"UI.Mail.UI_MailModule")}(e=t.Mail||(t.Mail={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ButtonCreateRoom.URL,t.UI_ButtonCreateRoom),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_HeadImage.URL,t.UI_HeadImage),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_HeadImage1.URL,t.UI_HeadImage1),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_MainModule.URL,t.UI_MainModule)},e}();t.MainUIBinder=e,__reflect(e.prototype,"UI.MainUI.MainUIBinder")}(e=t.MainUI||(t.MainUI={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("MainUI","ButtonCreateRoom")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_img=this.getChildAt(0)},e.URL="ui://s4bbeogyrv2q2x",e}(fairygui.GButton);t.UI_ButtonCreateRoom=e,__reflect(e.prototype,"UI.MainUI.UI_ButtonCreateRoom")}(e=t.MainUI||(t.MainUI={}))}(UI||(UI={}));var core;!function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return __extends(e,t),e}(t.EventData);t.SocketEventData=e,__reflect(e.prototype,"core.SocketEventData")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.init=function(){t._propertyChange=Object.create(null),t._anchorChange=Object.create(null),t.injectAnchor()},t.setAnchorX=function(t,e){t.anchorX=e},t.setAnchorY=function(t,e){t.anchorY=e},t.setAnchor=function(t,e){t.anchorX=t.anchorY=e},t.getAnchor=function(t){return t.anchorX!=t.anchorY&&console.log("target's anchorX != anchorY"),t.anchorX||0},t.getAnchorY=function(t){return t.anchorY||0},t.getAnchorX=function(t){return t.anchorX||0},t.injectAnchor=function(){Object.defineProperty(egret.DisplayObject.prototype,"width",{get:function(){return this.$getWidth()},set:function(e){var n=this;this.$setWidth(e),t._propertyChange[this.hashCode]=!0,egret.callLater(function(){t.changeAnchor(n)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"height",{get:function(){return this.$getHeight()},set:function(e){var n=this;this.$setHeight(e),t._propertyChange[this.hashCode]=!0,egret.callLater(function(){t.changeAnchor(n)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"anchorX",{get:function(){return this._anchorX},set:function(e){var n=this;this._anchorX=e,t._propertyChange[this.hashCode]=!0,t._anchorChange[this.hashCode]=!0,egret.callLater(function(){t.changeAnchor(n)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"anchorY",{get:function(){return this._anchorY},set:function(e){var n=this;this._anchorY=e,t._propertyChange[this.hashCode]=!0,t._anchorChange[this.hashCode]=!0,egret.callLater(function(){t.changeAnchor(n)},this)},enumerable:!0,configurable:!0})},t.changeAnchor=function(e){t._propertyChange[e.hashCode]&&t._anchorChange[e.hashCode]&&(e.anchorOffsetX=e._anchorX*e.width,e.anchorOffsetY=e._anchorY*e.height,delete t._propertyChange[e.hashCode])},t}();t.AnchorUtil=e,__reflect(e.prototype,"core.AnchorUtil")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("MainUI","MainModule")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_notice=this.getChildAt(3),this.m_btn_kefu=this.getChildAt(4),this.m_btn_mail=this.getChildAt(5),this.m_btn_shuoming=this.getChildAt(6),this.m_btn_setting=this.getChildAt(7),this.m_btn_add=this.getChildAt(12),this.m_txt_card=this.getChildAt(13),this.m_head=this.getChildAt(15),this.m_txt_name=this.getChildAt(16),this.m_txt_id=this.getChildAt(17),this.m_btn_activity=this.getChildAt(19),this.m_btn_join=this.getChildAt(20),this.m_btn_quan=this.getChildAt(21),this.m_btn_rank=this.getChildAt(23),this.m_btn_zhanji=this.getChildAt(26),this.m_btn_buyCard=this.getChildAt(27),this.m_btn_createRoom=this.getChildAt(29),this.m_sp_create=this.getChildAt(30),this.m_sp_add=this.getChildAt(31),this.m_sp_quan=this.getChildAt(32),this.m_sp_jj=this.getChildAt(33)},e.URL="ui://s4bbeogyvzrt1j",e}(fairygui.GComponent);t.UI_MainModule=e,__reflect(e.prototype,"UI.MainUI.UI_MainModule")}(e=t.MainUI||(t.MainUI={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Notice.URL,t.UI_Notice)},e}();t.NoticeBinder=e,__reflect(e.prototype,"UI.Notice.NoticeBinder")}(e=t.Notice||(t.Notice={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Notice","Notice")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_tabCtl=this.getControllerAt(0),this.m_panelBg=this.getChildAt(0)},e.URL="ui://ecxcc9h9nxr24",e}(fairygui.GComponent);t.UI_Notice=e,__reflect(e.prototype,"UI.Notice.UI_Notice")}(e=t.Notice||(t.Notice={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_PreLoading.URL,t.UI_PreLoading)},e}();t.PreLoadingBinder=e,__reflect(e.prototype,"UI.PreLoading.PreLoadingBinder")}(e=t.PreLoading||(t.PreLoading={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("PreLoading","PreLoading")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_bar=this.getChildAt(0),this.m_img=this.getChildAt(2)},e.URL="ui://0rnt8u4yrqsr4",e}(fairygui.GComponent);t.UI_PreLoading=e,__reflect(e.prototype,"UI.PreLoading.UI_PreLoading")}(e=t.PreLoading||(t.PreLoading={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_RankModule.URL,t.UI_RankModule),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_RankItem.URL,t.UI_RankItem)},e}();t.RankBinder=e,__reflect(e.prototype,"UI.Rank.RankBinder")}(e=t.Rank||(t.Rank={}))}(UI||(UI={}));var core;!function(t){var e=function(){function t(t){void 0===t&&(t=10),this.nums=[],this.numsLen=0,this.numSum=0,this.maxNum=t}return t.prototype.push=function(t){this.numsLen>this.maxNum&&(this.numsLen--,this.numSum-=this.nums.shift()),this.nums.push(t),this.numSum+=t,this.numsLen++},t.prototype.getValue=function(){return this.numSum/this.numsLen},t.prototype.clear=function(){this.nums.splice(0),this.numsLen=0,this.numSum=0},t}();t.AverageUtils=e,__reflect(e.prototype,"core.AverageUtils")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Rank","RankModule")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_list=this.getChildAt(8),this.m_img_outrank=this.getChildAt(10),this.m_txt_score=this.getChildAt(11),this.m_txt_name=this.getChildAt(12),this.m_txt_rank=this.getChildAt(13),this.m_head=this.getChildAt(15)},e.URL="ui://ljka2qsxdu50b",e}(fairygui.GComponent);t.UI_RankModule=e,__reflect(e.prototype,"UI.Rank.UI_RankModule")}(e=t.Rank||(t.Rank={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_SingleResult.URL,t.UI_SingleResult),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_SingleResultItem.URL,t.UI_SingleResultItem),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_AllResult.URL,t.UI_AllResult),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_AllResultItem.URL,t.UI_AllResultItem)},e}();t.ResultBinder=e,__reflect(e.prototype,"UI.Result.ResultBinder")}(e=t.Result||(t.Result={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Result","AllResult")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getControllerAt(0),this.m_btn_share=this.getChildAt(3),this.m_btn_back=this.getChildAt(4),this.m_txt_time=this.getChildAt(5),this.m_txt_info=this.getChildAt(6),this.m_list=this.getChildAt(7),this.m_txt_roomid=this.getChildAt(8)},e.URL="ui://25mni52osl2ku",e}(fairygui.GComponent);t.UI_AllResult=e,__reflect(e.prototype,"UI.Result.UI_AllResult")}(e=t.Result||(t.Result={}))}(UI||(UI={}));var core;!function(t){var e=function(){function t(){}return t.initEncodeChar=function(){for(var t=new Array(64),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,i=e.length;i>n;n++)t[n]=e.charCodeAt(n);return t},t.initDecodeChar=function(){var t=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];return t},t.encode=function(e){var n=new egret.ByteArray,i=0,o=e.length,r=o%3,s=o-r,a=0;for(e.position=0;s>i;)a=(255&e.readByte())<<16|(255&e.readByte())<<8|255&e.readByte(),n.writeByte(t.s_encodeChars[a>>>18]),n.writeByte(t.s_encodeChars[a>>>12&63]),n.writeByte(t.s_encodeChars[a>>>6&63]),n.writeByte(t.s_encodeChars[63&a]),i+=3;return 1==r?(a=255&e.readByte(),n.writeByte(t.s_encodeChars[a>>>2]),n.writeByte(t.s_encodeChars[3&a]),n.writeByte(61),n.writeByte(61)):2==r&&(a=(255&e.readByte())<<8|255&e.readByte(),n.writeByte(t.s_encodeChars[a>>>10]),n.writeByte(t.s_encodeChars[a>>>4&63]),n.writeByte(t.s_encodeChars[(15&a)<<2]),n.writeByte(61)),i+=r,n.position=0,n.readUTFBytes(n.length)},t.decode=function(e){var n=new egret.ByteArray,i=new egret.ByteArray;i.writeUTFBytes(e),i.position=0;for(var o,r,s,a,h=0,u=i.length;u>h&&(o=t.s_decodeChars[255&i.readByte()],-1!=o)&&(r=t.s_decodeChars[255&i.readByte()],-1!=r)&&(n.writeByte(o<<2|3&r),s=255&i.readByte(),61!=s)&&(s=t.s_decodeChars[s],-1!=s)&&(n.writeByte(240&r|15&s),a=255&i.readByte(),61!=a)&&(a=t.s_decodeChars[a],-1!=a);)n.writeByte(192&s|a),h+=4;return n.position=0,n},t.encodeStr=function(e){if(null!=e&&""!=e){var n=new egret.ByteArray;return n.writeUTFBytes(e),t.encode(n)}return""},t.decodeStr=function(e){if(null!=e&&""!=e){var n=t.decode(e);return n.readUTFBytes(n.length)}return""},t.s_encodeChars=t.initEncodeChar(),t.s_decodeChars=t.initDecodeChar(),t}();t.Base64=e,__reflect(e.prototype,"core.Base64")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Result","SingleResult")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getControllerAt(0),this.m_list=this.getChildAt(3),this.m_btn_check=this.getChildAt(4),this.m_btn_continue=this.getChildAt(5),this.m_txt_time=this.getChildAt(11),this.m_txt_roominfo=this.getChildAt(12)},e.URL="ui://25mni52osl2k0",e}(fairygui.GComponent);t.UI_SingleResult=e,__reflect(e.prototype,"UI.Result.UI_SingleResult")}(e=t.Result||(t.Result={}))}(UI||(UI={}));var core;!function(t){var e=function(){function t(){}return t.addObj=function(e,n){if(e&&n){var i=t.s_pool[e];i?i.push(n):t.s_pool[e]=[n]}},t.getObj=function(e){var n=t.s_pool[e];return n?n.pop():null},t.clear=function(e){delete t.s_pool[e]},t.clearAll=function(){t.s_pool={}},t.s_pool={},t}();t.CachePool=e,__reflect(e.prototype,"core.CachePool")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Setting.URL,t.UI_Setting)},e}();t.SettingBinder=e,__reflect(e.prototype,"UI.Setting.SettingBinder")}(e=t.Setting||(t.Setting={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Setting","Setting")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_DeskChooseCtrl=this.getControllerAt(0),this.m_panelBg=this.getChildAt(0),this.m_btn_bg1=this.getChildAt(7),this.m_btn_bg2=this.getChildAt(8),this.m_btn_bg3=this.getChildAt(9),this.m_btn_music=this.getChildAt(11),this.m_btn_sound=this.getChildAt(12),this.m_btn_help=this.getChildAt(13)},e.URL="ui://1p6eu6xmj34rb",e}(fairygui.GComponent);t.UI_Setting=e,__reflect(e.prototype,"UI.Setting.UI_Setting")}(e=t.Setting||(t.Setting={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_TxtContent.URL,t.UI_TxtContent),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ShuoMing.URL,t.UI_ShuoMing),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ShuoMingTab.URL,t.UI_ShuoMingTab)},e}();t.ShuoMingBinder=e,__reflect(e.prototype,"UI.ShuoMing.ShuoMingBinder")}(e=t.ShuoMing||(t.ShuoMing={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ShuoMing","ShuoMing")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_tabCtl=this.getControllerAt(0),this.m_panelBg=this.getChildAt(0),this.m_list=this.getChildAt(4),this.m_txt_num=this.getChildAt(9),this.m_txtcontent=this.getChildAt(10)},e.URL="ui://ksvi7x7crv2q0",e}(fairygui.GComponent);t.UI_ShuoMing=e,__reflect(e.prototype,"UI.ShuoMing.UI_ShuoMing")}(e=t.ShuoMing||(t.ShuoMing={}))}(UI||(UI={}));var core;!function(t){var e=function(){function t(){}return t.calcuNetDelayStart=function(){t.s_sendTimestamp=egret.getTimer()},t.calcuNetDelayEnd=function(){t.s_delay=egret.getTimer()-t.s_sendTimestamp},t.getServerTime=function(){return Math.floor(.001*t.getServerTimeMill())},t.setServerTime=function(t){this.s_serverTimestamp=t,this.s_clientTimestamp=egret.getTimer()},t.getServerTimeMill=function(){return this.s_serverTimestamp+(egret.getTimer()-this.s_clientTimestamp)},t.getNetDelay=function(){return t.s_delay},t.getServerTimeYmd=function(){return Number(t.dateFormat("yyyyMMdd",t.getServerTime()))},t.dateFormat=function(t,e){var n=new Date(1e3*e),i={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in i)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[o]:("00"+i[o]).substr((""+i[o]).length)));return t},t.s_serverTimestamp=0,t.s_clientTimestamp=0,t.s_delay=10,t.s_sendTimestamp=0,t}();t.DateUtils=e,__reflect(e.prototype,"core.DateUtils")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ShuoMing","TxtContent")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_content=this.getChildAt(0)},e.URL="ui://ksvi7x7cdowqa",e}(fairygui.GComponent);t.UI_TxtContent=e,__reflect(e.prototype,"UI.ShuoMing.UI_TxtContent")}(e=t.ShuoMing||(t.ShuoMing={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_TestPork.URL,t.UI_TestPork)},e}();t.TestPorkBinder=e,__reflect(e.prototype,"UI.TestPork.TestPorkBinder")}(e=t.TestPork||(t.TestPork={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("TestPork","TestPork")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_list1=this.getChildAt(0),this.m_list2=this.getChildAt(1),this.m_btn_ok=this.getChildAt(2)},e.URL="ui://bmcgtqfdk8tg0",e}(fairygui.GComponent);t.UI_TestPork=e,__reflect(e.prototype,"UI.TestPork.UI_TestPork")}(e=t.TestPork||(t.TestPork={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ZhanJi","BoFangMa")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_cancel=this.getChildAt(7),this.m_btn_ok=this.getChildAt(8),this.m_txt_input=this.getChildAt(10),this.m_txt_input1=this.getChildAt(11),this.m_txt_input2=this.getChildAt(12),this.m_txt_input3=this.getChildAt(13),this.m_txt_input4=this.getChildAt(14),this.m_txt_input5=this.getChildAt(15),this.m_txt_input6=this.getChildAt(16)},e.URL="ui://lxifvkdunf8ql",e}(fairygui.GComponent);t.UI_BoFangMa=e,__reflect(e.prototype,"UI.ZhanJi.UI_BoFangMa")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var core;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._threshold=3,e._startTimes={},e}return __extends(e,t),e.prototype.isOpen=function(t){this._isOpen=t},Object.defineProperty(e.prototype,"isDebug",{get:function(){return this._isOpen},enumerable:!0,configurable:!0}),e.prototype.start=function(t){this._isOpen&&(this._startTimes[t]=egret.getTimer())},e.prototype.stop=function(t){if(!this._isOpen)return 0;if(!this._startTimes[t])return 0;var e=egret.getTimer()-this._startTimes[t];return e>this._threshold&&Log.trace(t+": "+e),e},e.prototype.setThreshold=function(t){this._threshold=t},e}(t.BaseClass);t.DebugUtils=e,__reflect(e.prototype,"core.DebugUtils")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ZhanJi","JieSanSort")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_close=this.getChildAt(1),this.m_list=this.getChildAt(4)},e.URL="ui://lxifvkduq3d5m",e}(fairygui.GComponent);t.UI_JieSanSort=e,__reflect(e.prototype,"UI.ZhanJi.UI_JieSanSort")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ZhanJi","ZhanJi")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_list=this.getChildAt(1),this.m_checkother=this.getChildAt(3)},e.URL="ui://lxifvkdup0d61",e}(fairygui.GComponent);t.UI_ZhanJi=e,__reflect(e.prototype,"UI.ZhanJi.UI_ZhanJi")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ZhanJi","ZhanJiDetail")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_txt_rid=this.getChildAt(2),this.m_txt_jid=this.getChildAt(3),this.m_txt_time=this.getChildAt(4),this.m_txt_name1=this.getChildAt(5),this.m_txt_score1=this.getChildAt(6),this.m_txt_name2=this.getChildAt(7),this.m_txt_score2=this.getChildAt(8),this.m_txt_name3=this.getChildAt(9),this.m_txt_score3=this.getChildAt(10),this.m_txt_name4=this.getChildAt(11),this.m_txt_score4=this.getChildAt(12),this.m_txt_name5=this.getChildAt(13),this.m_txt_score5=this.getChildAt(14),this.m_txt_name6=this.getChildAt(15),this.m_txt_score6=this.getChildAt(16),this.m_img_win=this.getChildAt(18),this.m_list=this.getChildAt(21),this.m_btn_close=this.getChildAt(22),this.m_btn_sort=this.getChildAt(23)},e.URL="ui://lxifvkdurezhd",e}(fairygui.GComponent);t.UI_ZhanJiDetail=e,__reflect(e.prototype,"UI.ZhanJi.UI_ZhanJiDetail")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var core;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e.prototype,"IsHtml5",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.WEB},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsNative",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsMobile",{get:function(){return egret.Capabilities.isMobile},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsPC",{get:function(){return!egret.Capabilities.isMobile},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsQQBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("MQQBrowser")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsIEBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("MSIE")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsFirefoxBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Firefox")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsChromeBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Chrome")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsSafariBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Safari")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsOperaBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Opera")},enumerable:!0,configurable:!0}),e}(t.BaseClass);t.DeviceUtils=e,__reflect(e.prototype,"core.DeviceUtils")}(core||(core={}));var core;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createBitmap=function(t){var e=new egret.Bitmap,n=RES.getRes(t);return e.texture=n,e},e.prototype.removeFromParent=function(t){null!=t.parent&&t.parent.removeChild(t)},e.prototype.addChildAbove=function(t,e){t.parent==e.parent&&t.parent.getChildIndex(t)<e.parent.getChildIndex(e)?e.parent.addChildAt(t,e.parent.getChildIndex(e)):e.parent.addChildAt(t,e.parent.getChildIndex(e)+1)},e.prototype.addChildBelow=function(t,e){t.parent==e.parent&&t.parent.getChildIndex(t)<e.parent.getChildIndex(e)?e.parent.addChildAt(t,e.parent.getChildIndex(e)-1):e.parent.addChildAt(t,e.parent.getChildIndex(e))},e}(t.BaseClass);t.DisplayUtil=e,__reflect(e.prototype,"core.DisplayUtil")}(core||(core={}));var core;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.init=function(){t.AnchorUtil.init()},n}(t.BaseClass);t.EgretExpandUtils=e,__reflect(e.prototype,"core.EgretExpandUtils")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ZhanJiItemUserItem.URL,t.UI_ZhanJiItemUserItem),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_BoFangMa.URL,t.UI_BoFangMa),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ZhanJi.URL,t.UI_ZhanJi),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ZhanJiItem.URL,t.UI_ZhanJiItem),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_JieSanSort.URL,t.UI_JieSanSort),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_JieSanItem.URL,t.UI_JieSanItem),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ZhanJiDetail.URL,t.UI_ZhanJiDetail),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ZhanJiDetailItem.URL,t.UI_ZhanJiDetailItem)},e}();t.ZhanJiBinder=e,__reflect(e.prototype,"UI.ZhanJi.ZhanJiBinder")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var Utils=function(){function t(){}return t.createBitmapByName=function(t){var e=new egret.Bitmap,n=RES.getRes(t);return e.texture=n,e},t.createFairyGuiBitmapByName=function(t){var e=new egret.Bitmap,n=fairygui.UIPackage.createObject("game",t);return e.texture=n.texture,e
},t.timetrans=function(t){var e=new Date(t),n=e.getFullYear()+"-",i=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",o=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",r=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",s=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",a=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return n+i+o+r+s+a},t}();__reflect(Utils.prototype,"Utils");