var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);n.prototype=e.prototype,t.prototype=new n},__awaiter=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{u(o.next(t))}catch(e){r(e)}}function a(t){try{u(o["throw"](t))}catch(e){r(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((o=o.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,r=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(o){n=[6,o],r=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,r,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},Module=function(t){function e(){var e=t.call(this)||this;return e.isDisposed=!1,e}return __extends(e,t),Object.defineProperty(e.prototype,"moduleId",{get:function(){return null!=ModuleInfoVo?this.moduleInfoVo.moduleId:0},enumerable:!0,configurable:!0}),e.prototype.initContent=function(){},e.prototype.initContentAll=function(){this.initContent(),this.init()},e.prototype.init=function(){},e.prototype.addChildDisplayObj=function(t){this.content&&this.content.displayObject&&this.content.displayObject instanceof egret.DisplayObjectContainer?this.content.displayObject.addChild(t):egret.error(this+".content不存在，添加displayObj失败")},e.prototype.initAutoSize=function(t,e){this.content&&e&&(this.content.setSize(t.width,t.height),this.content.addRelation(t,fairygui.RelationType.Size))},e.prototype.moduleServerStart=function(t){this.moduleServerCpl()},e.prototype.moduleServerCpl=function(){this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_SERVER_CPL))},e.prototype.preShow=function(t){this.preShowCpl()},e.prototype.preShowCpl=function(){this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_PRE_SHOW_CPL))},e.prototype.show=function(t){},e.prototype.preClose=function(t){this.preCloseCpl()},e.prototype.preCloseCpl=function(){this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_PRE_CLOSE_CPL))},e.prototype.hide=function(){this.content.parent&&this.content.parent.removeChild(this.content)},e.prototype.releaseContent=function(){},e.prototype.release=function(){0==this.isDisposed&&(this.hide(),this.releaseContent(),this.isDisposed=!0)},e.prototype.getHistoryData=function(){return null},e.prototype.moduleFadeIn=function(t){this.moduleFadeInCpl()},e.prototype.moduleFadeInCpl=function(){this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_FADE_IN_CPL))},e.prototype.moduleFadeOut=function(){this.moduleFadeOutCpl()},e.prototype.moduleFadeOutCpl=function(){this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_FADE_OUT_CPL))},e.prototype.setVisible=function(t){this.content.visible=t},e}(egret.EventDispatcher);__reflect(Module.prototype,"Module");var UILayer=function(t){function e(){var e=t.call(this)||this;return e.p_moduleList=new Array,e.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),e.addRelation(fairygui.GRoot.inst,fairygui.RelationType.Size),e.touchable=!0,e}return __extends(e,t),e.prototype.getCurModuleInfo=function(){return this.p_moduleList.length>0?this.p_moduleList[this.p_moduleList.length-1]:null},e.prototype.getCurModuleId=function(){var t=this.getCurModuleInfo();return t?t.moduleId:0},e.prototype.showModule=function(t,e,n){var o=this.getModuleInfoVo(t);if(null==o){var i=ModuleMgr.ins.getConfigVo(t);if(null==i)return;o=new ModuleInfoVo(i),this.p_moduleList.push(o),o.layer=this,o.preShowData=e,o.changeModuleState(ModuleConsts.STATE_SHOW),o.addEventListener(ModuleConsts.MODULE_ADD_TO_STAGE,this.onModuleAddToStage,this)}else o.changeModuleState(ModuleConsts.STATE_SHOW),o.module.content.parent?o.addEventListener(ModuleConsts.MODULE_ADD_TO_STAGE,this.onModuleAddToStage,this):this.onModuleAddToStage(null);return o},e.prototype.onModuleAddToStage=function(t){},e.prototype.isShow=function(t){var e=this.getModuleInfoVo(t);return e?e.isShow:!1},e.prototype.closeModule=function(t,e){var n=this.getModuleInfoVo(t);null!=n&&this.closeModuleByInfo(n,e)},e.prototype.closeModuleByInfo=function(t,e){t.isShow&&(t.addEventListener(ModuleConsts.MODULE_CLOSE_CPL,this.onCloseCpl,this),t.preShowData=e,t.changeModuleState(ModuleConsts.STATE_CLOSE))},e.prototype.onCloseCpl=function(t){var e=t.currentTarget;if(e.removeEventListener(ModuleConsts.MODULE_CLOSE_CPL,this.onCloseCpl,this),e.configVo.disposeWhenClose){var n=this.p_moduleList.lastIndexOf(e);n>=0&&this.p_moduleList.splice(n,1),e.release()}},e.prototype.getModuleInfoVo=function(t){for(var e=this.p_moduleList.length-1;e>=0;e--)if(this.p_moduleList[e].moduleId==t)return this.p_moduleList[e];return null},e.prototype.closeAll=function(t){for(var e=this.p_moduleList.length-1;e>=0;e--){var n=this.p_moduleList[e];t&&t.indexOf(n.moduleId)>=0||this.closeModuleByInfo(n)}},e}(fairygui.GComponent);__reflect(UILayer.prototype,"UILayer");var core;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.removeFromParent=function(){this.parent&&this.parent.removeChild(this)},e}(egret.DisplayObjectContainer);t.Component=e,__reflect(e.prototype,"core.Component",["core.IComponent"])}(core||(core={}));var core;!function(t){var e=function(){function t(t,e){this.callback=t,this.thisObj=e}return t}();t.Callback=e,__reflect(e.prototype,"core.Callback")}(core||(core={}));var Dictionary=function(){function t(){this.m_keys=[],this.m_values=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.m_keys.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this.m_values.concat()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keys",{get:function(){return this.m_keys.concat()},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.m_keys.indexOf(t)},t.prototype.add=function(t,e){var n=this.indexOf(t);n>=0?this.m_values[n]=e:(this.m_keys.push(t),this.m_values.push(e))},t.prototype.get=function(t){var e=this.indexOf(t);return e>=0?this.m_values[e]:null},t.prototype.remove=function(t){var e=this.indexOf(t);return e>=0?(this.m_keys.splice(e,1),this.m_values.splice(e,1)[0]):null},t.prototype.clear=function(){this.m_keys.length=0,this.m_values.length=0},t.prototype.getRandomData=function(){var t=Math.random()*this.keys.length<<0;return this.m_values[t]},t}();__reflect(Dictionary.prototype,"Dictionary");var core;!function(t){var e=function(t){function e(e,n){var o=t.call(this)||this;return o.messageID=e,o.messageData=n,o}return __extends(e,t),e}(egret.HashObject);t.EventData=e,__reflect(e.prototype,"core.EventData",["core.IMessage"])}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t}();t.Progress=e,__reflect(e.prototype,"core.Progress")}(core||(core={}));var ws;!function(t){var e=function(){function t(){this._msgBuffer=new egret.ByteArray}return t.prototype.receive=function(t){t.readBytes(this._msgBuffer);var e=this.decode(this._msgBuffer);e&&App.MessageCenter.dispatch(e.key,e.body),0==this._msgBuffer.bytesAvailable&&this._msgBuffer.clear()},t.prototype.send=function(t,e){var n=this.encode(e);n&&(n.position=0,t.writeBytes(n,0,n.bytesAvailable))},t.prototype.decode=function(t){return Log.trace("decode需要子类重写，根据项目的协议结构解析"),null},t.prototype.encode=function(t){return Log.trace("encode需要子类重写，根据项目的协议结构解析"),null},t}();t.ByteArrayMsg=e,__reflect(e.prototype,"ws.ByteArrayMsg",["ws.BaseMsg"])}(ws||(ws={}));var ws;!function(t){var e=function(){function t(){this._ba=new egret.ByteArray}return t.prototype.receive=function(t){this._ba.clear(),t.readBytes(this._ba);var e=this._ba.readUTFBytes(this._ba.length);e.indexOf("_Heart")<0&&console.log("recv"+e),this.decode(e)},t.prototype.send=function(t,e){if(t.connected){var n=this.encode(e);t.writeUTF(n),t.flush()}else console.log("socket 未连接")},t.prototype.decode=function(t){return Log.trace("decode需要子类重写，根据项目的协议结构解析"),null},t.prototype.encode=function(t){return Log.trace("encode需要子类重写，根据项目的协议结构解析"),null},t}();t.UTFMsg=e,__reflect(e.prototype,"ws.UTFMsg",["ws.BaseMsg"])}(ws||(ws={}));var proto;!function(t){var e=function(){function t(t){this.protobuf_className="",this.protobuf_className=t}return t}();t.BaseProtoBuf=e,__reflect(e.prototype,"proto.BaseProtoBuf")}(proto||(proto={}));var C2T_Base=function(){function t(){}return t}();__reflect(C2T_Base.prototype,"C2T_Base");var T2C_Base=function(){function t(){}return t.prototype.execute=function(t){this.Aid=t.Aid,this.Err=t.Err},t}();__reflect(T2C_Base.prototype,"T2C_Base");var T2C_Message_Base=function(){function t(){}return t.prototype.execute=function(t){for(var e in t)null!=this.hasOwnProperty(e)&&(this[e]=t[e])},t}();__reflect(T2C_Message_Base.prototype,"T2C_Message_Base");var core;!function(t){var e=function(){function t(){}return t.getInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this;if(!n._instance){var o=t.length;0==o?n._instance=new n:1==o?n._instance=new n(t[0]):2==o?n._instance=new n(t[0],t[1]):3==o?n._instance=new n(t[0],t[1],t[2]):4==o?n._instance=new n(t[0],t[1],t[2],t[3]):5==o&&(n._instance=new n(t[0],t[1],t[2],t[3],t[4]))}return n._instance},t}();t.BaseClass=e,__reflect(e.prototype,"core.BaseClass")}(core||(core={}));var PopModuleView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){this.moduleFadeInType=ModuleConsts.MODULE_FADE_IN_TYPE_1,this.moduleFadeOutType=ModuleConsts.MODULE_FADE_OUT_TYPE_0},e.prototype.preShowCpl=function(){this.content.m_panelBg&&this.content.m_panelBg.m_btn_close&&this.content.m_panelBg.m_btn_close.addClickListener(this.onCloseClick,this),t.prototype.preShowCpl.call(this)},e.prototype.initAutoSize=function(t,e){this.content&&e&&(this.content.x=t.width/2-this.content.width/2,this.content.y=t.height/2-this.content.height/2,this.content.addRelation(t,fairygui.RelationType.Center_Center))},e.prototype.moduleFadeIn=function(t){switch(this.moduleFadeInType){case ModuleConsts.MODULE_FADE_IN_TYPE_1:var n=new core.Vector2D(this.content.x,this.content.y),o=.5;this.content.x=this.content.x+this.content.width/2*o,this.content.y=this.content.y+this.content.height/2*o,this.content.scaleX=this.content.scaleY=o,this.content.alpha=0;var i=egret.Tween.get(this.content);i.to({x:n.x,y:n.y,scaleX:1,scaleY:1,alpha:1},e.TWEEN_DURATION,egret.Ease.quintOut),i.call(this.moduleFadeInCpl,this);break;case ModuleConsts.MODULE_FADE_IN_TYPE_2:var n=new core.Vector2D(this.content.x,this.content.y);this.content.y=LayerCenter.stageHeight/2+50,this.content.alpha=0,i=egret.Tween.get(this.content),i.to({y:n.y,alpha:1},e.TWEEN_DURATION,egret.Ease.quintOut),i.call(this.moduleFadeInCpl,this);break;default:this.moduleFadeInCpl()}},e.prototype.moduleFadeInCpl=function(){t.prototype.moduleFadeInCpl.call(this)},e.prototype.moduleFadeOut=function(){switch(this.moduleFadeOutType){case ModuleConsts.MODULE_FADE_OUT_TYPE_1:var t=.5,n=this.content.x+this.content.width/2*t,o=this.content.y+this.content.height/2*t,i=egret.Tween.get(this.content);i.to({x:n,y:o,scaleX:t,scaleY:t,alpha:.5},e.TWEEN_DURATION,egret.Ease.quintIn),i.call(this.moduleFadeOutCpl,this);break;case ModuleConsts.MODULE_FADE_OUT_TYPE_2:o=LayerCenter.stageHeight/2+50,i=egret.Tween.get(this.content),i.to({y:o,alpha:0},e.TWEEN_DURATION,egret.Ease.quintIn),i.call(this.moduleFadeOutCpl,this);break;default:this.moduleFadeOutCpl()}},e.prototype.moduleFadeOutCpl=function(){t.prototype.moduleFadeOutCpl.call(this)},e.prototype.onCloseClick=function(){ModuleMgr.ins.closeModule(this.moduleId)},e.TWEEN_DURATION=200,e}(Module);__reflect(PopModuleView.prototype,"PopModuleView");var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ZhanJi","ZhanJiItemUserItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_name=this.getChildAt(0),this.m_txt_score=this.getChildAt(1),this.m_img_win=this.getChildAt(2)},e.URL="ui://lxifvkdumqtaj",e}(fairygui.GComponent);t.UI_ZhanJiItemUserItem=e,__reflect(e.prototype,"UI.ZhanJi.UI_ZhanJiItemUserItem")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var UIModuleLayer=function(t){function e(){var e=t.call(this)||this;return e.p_historyList=new Array,e}return __extends(e,t),e.prototype.showModule=function(e,n,o){var i=this.getCurModuleInfo();return null!=i&&(this.addHistory(i.moduleId,i.preShowData,i.getHistoryData()),this.closeModuleByInfo(i,null)),t.prototype.showModule.call(this,e,n,o)},e.prototype.closeModule=function(t,e){var n=this.getCurModuleId(),o=this.getModuleInfoVo(t);if(null!=o&&this.closeModuleByInfo(o,e),t==n&&this.p_historyList.length>0){var i=this.p_historyList.pop();this.showModule(i.moduleId,i.historyData?i.historyData:i.data)}},e.prototype.closeModuleByInfo=function(e,n){t.prototype.closeModuleByInfo.call(this,e,n)},e.prototype.addHistory=function(t,e,n){},e}(UILayer);__reflect(UIModuleLayer.prototype,"UIModuleLayer");var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","PlayerHead")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_ctrlPos=this.getControllerAt(0),this.m_ctrlState=this.getControllerAt(1),this.m_name=this.getChildAt(1),this.m_name_2=this.getChildAt(3),this.m_img_fz=this.getChildAt(4),this.m_pokers=this.getChildAt(5),this.m_img_ready=this.getChildAt(6),this.m_img_finish=this.getChildAt(8),this.m_head=this.getChildAt(9),this.m_lixian=this.getChildAt(10)},e.URL="ui://jow5n9bqmwp42",e}(fairygui.GComponent);t.UI_PlayerHead=e,__reflect(e.prototype,"UI.Game.UI_PlayerHead")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","PlayerPokers")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getControllerAt(0),this.m_pork0=this.getChildAt(0),this.m_pork1=this.getChildAt(1),this.m_pork2=this.getChildAt(2),this.m_pork3=this.getChildAt(3),this.m_pork4=this.getChildAt(4),this.m_pork5=this.getChildAt(5),this.m_pork6=this.getChildAt(6),this.m_pork7=this.getChildAt(7),this.m_pork8=this.getChildAt(8),this.m_pork9=this.getChildAt(9),this.m_pork10=this.getChildAt(10),this.m_pork11=this.getChildAt(11),this.m_pork12=this.getChildAt(12),this.m_qiangyan=this.getChildAt(16),this.m_t0=this.getTransitionAt(0)},e.URL="ui://jow5n9bqdu502u",e}(fairygui.GComponent);t.UI_PlayerPokers=e,__reflect(e.prototype,"UI.Game.UI_PlayerPokers")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","Pork")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_ctrlstate=this.getControllerAt(0),this.m_txt1=this.getChildAt(2),this.m_txt2=this.getChildAt(3),this.m_txt_type1=this.getChildAt(4),this.m_txt_type2=this.getChildAt(5)},e.URL="ui://jow5n9bqmwp41d",e}(fairygui.GComponent);t.UI_Pork=e,__reflect(e.prototype,"UI.Game.UI_Pork")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Mail","MailItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_read=this.getChildAt(1)},e.URL="ui://tebyebzgnl0pz",e}(fairygui.GComponent);t.UI_MailItem=e,__reflect(e.prototype,"UI.Mail.UI_MailItem")}(e=t.Mail||(t.Mail={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Rank","RankItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getControllerAt(0),this.m_txt_score=this.getChildAt(1),this.m_txt_name=this.getChildAt(2),this.m_txt_rank=this.getChildAt(4),this.m_head=this.getChildAt(5),this.m_img_rank=this.getChildAt(6)},e.URL="ui://ljka2qsxdu50d",e}(fairygui.GComponent);t.UI_RankItem=e,__reflect(e.prototype,"UI.Rank.UI_RankItem")}(e=t.Rank||(t.Rank={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Result","SingleResultItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_score=this.getChildAt(1),this.m_txt_name=this.getChildAt(3),this.m_txt_id=this.getChildAt(4),this.m_list=this.getChildAt(5),this.m_head=this.getChildAt(6)},e.URL="ui://25mni52osl2k8",e}(fairygui.GComponent);t.UI_SingleResultItem=e,__reflect(e.prototype,"UI.Result.UI_SingleResultItem")}(e=t.Result||(t.Result={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ShuoMing","ShuoMingTab")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_name=this.getChildAt(2)},e.URL="ui://ksvi7x7crv2q4",e}(fairygui.GButton);t.UI_ShuoMingTab=e,__reflect(e.prototype,"UI.ShuoMing.UI_ShuoMingTab")}(e=t.ShuoMing||(t.ShuoMing={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ZhanJi","ZhanJiItem")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_rid=this.getChildAt(2),this.m_txt_jushu=this.getChildAt(3),this.m_txt_time=this.getChildAt(4),this.m_list=this.getChildAt(5),this.m_btn_check=this.getChildAt(6)},e.URL="ui://lxifvkdup0d62",e}(fairygui.GComponent);t.UI_ZhanJiItem=e,__reflect(e.prototype,"UI.ZhanJi.UI_ZhanJiItem")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Mail.UI_MailDetail.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fao",t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e}(PopModuleView);t.MailDetailModule=e,__reflect(e.prototype,"game.MailDetailModule")}(game||(game={}));var core;!function(t){var e=function(){function t(){}return t.init=function(){t._propertyChange=Object.create(null),t._anchorChange=Object.create(null),t.injectAnchor()},t.setAnchorX=function(t,e){t.anchorX=e},t.setAnchorY=function(t,e){t.anchorY=e},t.setAnchor=function(t,e){t.anchorX=t.anchorY=e},t.getAnchor=function(t){return t.anchorX!=t.anchorY&&console.log("target's anchorX != anchorY"),t.anchorX||0},t.getAnchorY=function(t){return t.anchorY||0},t.getAnchorX=function(t){return t.anchorX||0},t.injectAnchor=function(){Object.defineProperty(egret.DisplayObject.prototype,"width",{get:function(){return this.$getWidth()},set:function(e){var n=this;this.$setWidth(e),t._propertyChange[this.hashCode]=!0,egret.callLater(function(){t.changeAnchor(n)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"height",{get:function(){return this.$getHeight()},set:function(e){var n=this;this.$setHeight(e),t._propertyChange[this.hashCode]=!0,egret.callLater(function(){t.changeAnchor(n)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"anchorX",{get:function(){return this._anchorX},set:function(e){var n=this;this._anchorX=e,t._propertyChange[this.hashCode]=!0,t._anchorChange[this.hashCode]=!0,egret.callLater(function(){t.changeAnchor(n)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"anchorY",{get:function(){return this._anchorY},set:function(e){var n=this;this._anchorY=e,t._propertyChange[this.hashCode]=!0,t._anchorChange[this.hashCode]=!0,egret.callLater(function(){t.changeAnchor(n)},this)},enumerable:!0,configurable:!0})},t.changeAnchor=function(e){t._propertyChange[e.hashCode]&&t._anchorChange[e.hashCode]&&(e.anchorOffsetX=e._anchorX*e.width,e.anchorOffsetY=e._anchorY*e.height,delete t._propertyChange[e.hashCode])},t}();t.AnchorUtil=e,__reflect(e.prototype,"core.AnchorUtil")}(core||(core={}));var core;!function(t){var e=function(){function t(t){void 0===t&&(t=10),this.nums=[],this.numsLen=0,this.numSum=0,this.maxNum=t}return t.prototype.push=function(t){this.numsLen>this.maxNum&&(this.numsLen--,this.numSum-=this.nums.shift()),this.nums.push(t),this.numSum+=t,this.numsLen++},t.prototype.getValue=function(){return this.numSum/this.numsLen},t.prototype.clear=function(){this.nums.splice(0),this.numsLen=0,this.numSum=0},t}();t.AverageUtils=e,__reflect(e.prototype,"core.AverageUtils")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.initEncodeChar=function(){for(var t=new Array(64),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=e.length;o>n;n++)t[n]=e.charCodeAt(n);return t},t.initDecodeChar=function(){var t=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];return t},t.encode=function(e){var n=new egret.ByteArray,o=0,i=e.length,r=i%3,s=i-r,a=0;for(e.position=0;s>o;)a=(255&e.readByte())<<16|(255&e.readByte())<<8|255&e.readByte(),n.writeByte(t.s_encodeChars[a>>>18]),n.writeByte(t.s_encodeChars[a>>>12&63]),n.writeByte(t.s_encodeChars[a>>>6&63]),n.writeByte(t.s_encodeChars[63&a]),o+=3;return 1==r?(a=255&e.readByte(),n.writeByte(t.s_encodeChars[a>>>2]),n.writeByte(t.s_encodeChars[3&a]),n.writeByte(61),n.writeByte(61)):2==r&&(a=(255&e.readByte())<<8|255&e.readByte(),n.writeByte(t.s_encodeChars[a>>>10]),n.writeByte(t.s_encodeChars[a>>>4&63]),n.writeByte(t.s_encodeChars[(15&a)<<2]),n.writeByte(61)),o+=r,n.position=0,n.readUTFBytes(n.length)},t.decode=function(e){var n=new egret.ByteArray,o=new egret.ByteArray;o.writeUTFBytes(e),o.position=0;for(var i,r,s,a,u=0,c=o.length;c>u&&(i=t.s_decodeChars[255&o.readByte()],-1!=i)&&(r=t.s_decodeChars[255&o.readByte()],-1!=r)&&(n.writeByte(i<<2|3&r),s=255&o.readByte(),61!=s)&&(s=t.s_decodeChars[s],-1!=s)&&(n.writeByte(240&r|15&s),a=255&o.readByte(),61!=a)&&(a=t.s_decodeChars[a],-1!=a);)n.writeByte(192&s|a),u+=4;return n.position=0,n},t.encodeStr=function(e){if(null!=e&&""!=e){var n=new egret.ByteArray;return n.writeUTFBytes(e),t.encode(n)}return""},t.decodeStr=function(e){if(null!=e&&""!=e){var n=t.decode(e);return n.readUTFBytes(n.length)}return""},t.s_encodeChars=t.initEncodeChar(),t.s_decodeChars=t.initDecodeChar(),t}();t.Base64=e,__reflect(e.prototype,"core.Base64")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.addObj=function(e,n){if(e&&n){var o=t.s_pool[e];o?o.push(n):t.s_pool[e]=[n]}},t.getObj=function(e){var n=t.s_pool[e];return n?n.pop():null},t.clear=function(e){delete t.s_pool[e]},t.clearAll=function(){t.s_pool={}},t.s_pool={},t}();t.CachePool=e,__reflect(e.prototype,"core.CachePool")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.calcuNetDelayStart=function(){t.s_sendTimestamp=egret.getTimer()},t.calcuNetDelayEnd=function(){t.s_delay=egret.getTimer()-t.s_sendTimestamp},t.getServerTime=function(){return Math.floor(.001*t.getServerTimeMill())},t.setServerTime=function(t){this.s_serverTimestamp=t,this.s_clientTimestamp=egret.getTimer()},t.getServerTimeMill=function(){return this.s_serverTimestamp+(egret.getTimer()-this.s_clientTimestamp)},t.getNetDelay=function(){return t.s_delay},t.getServerTimeYmd=function(){return Number(t.dateFormat("yyyyMMdd",t.getServerTime()))},t.dateFormat=function(t,e){var n=new Date(1e3*e),o={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in o)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return t},t.s_serverTimestamp=0,t.s_clientTimestamp=0,t.s_delay=10,t.s_sendTimestamp=0,t}();t.DateUtils=e,__reflect(e.prototype,"core.DateUtils")}(core||(core={}));var core;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._threshold=3,e._startTimes={},e}return __extends(e,t),e.prototype.isOpen=function(t){this._isOpen=t},Object.defineProperty(e.prototype,"isDebug",{get:function(){return this._isOpen},enumerable:!0,configurable:!0}),e.prototype.start=function(t){this._isOpen&&(this._startTimes[t]=egret.getTimer())},e.prototype.stop=function(t){if(!this._isOpen)return 0;if(!this._startTimes[t])return 0;var e=egret.getTimer()-this._startTimes[t];return e>this._threshold&&Log.trace(t+": "+e),e},e.prototype.setThreshold=function(t){this._threshold=t},e}(t.BaseClass);t.DebugUtils=e,__reflect(e.prototype,"core.DebugUtils")}(core||(core={}));var core;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e.prototype,"IsHtml5",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.WEB},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsNative",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsMobile",{get:function(){return egret.Capabilities.isMobile},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsPC",{get:function(){return!egret.Capabilities.isMobile},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsQQBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("MQQBrowser")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsIEBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("MSIE")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsFirefoxBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Firefox")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsChromeBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Chrome")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsSafariBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Safari")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsOperaBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Opera")},enumerable:!0,configurable:!0}),e}(t.BaseClass);t.DeviceUtils=e,__reflect(e.prototype,"core.DeviceUtils")}(core||(core={}));var core;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createBitmap=function(t){var e=new egret.Bitmap,n=RES.getRes(t);return e.texture=n,e},e.prototype.removeFromParent=function(t){null!=t.parent&&t.parent.removeChild(t)},e.prototype.addChildAbove=function(t,e){t.parent==e.parent&&t.parent.getChildIndex(t)<e.parent.getChildIndex(e)?e.parent.addChildAt(t,e.parent.getChildIndex(e)):e.parent.addChildAt(t,e.parent.getChildIndex(e)+1)},e.prototype.addChildBelow=function(t,e){t.parent==e.parent&&t.parent.getChildIndex(t)<e.parent.getChildIndex(e)?e.parent.addChildAt(t,e.parent.getChildIndex(e)-1):e.parent.addChildAt(t,e.parent.getChildIndex(e))},e}(t.BaseClass);t.DisplayUtil=e,__reflect(e.prototype,"core.DisplayUtil")}(core||(core={}));var core;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.init=function(){t.AnchorUtil.init()},n}(t.BaseClass);t.EgretExpandUtils=e,__reflect(e.prototype,"core.EgretExpandUtils")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.prototype.delayCall=function(t,e,n){this.func=e,this.thisObj=n,egret.callLater(function(){App.TimerManager.doFrame(t,1,this.listener_enterFrame,this)},this)},t.prototype.listener_enterFrame=function(){this.func.call(this.thisObj)},t}();t.FrameDelay=e,__reflect(e.prototype,"core.FrameDelay")}(core||(core={}));var core;!function(t){var e=function(){function e(e){this.delayFrame=e,this.frameDelay=new t.FrameDelay,this.functions=new Array}return e.prototype.regist=function(t,e){this.functions.push([t,e])},e.prototype.execute=function(){if(this.functions.length){var t=this.functions.shift();t[0].call(t[1]),this.frameDelay.delayCall(this.delayFrame,this.execute,this)}},e}();t.FrameExecutor=e,__reflect(e.prototype,"core.FrameExecutor")}(core||(core={}));var core;!function(t){var e=function(){function t(t,e,n,o){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=!1),this.once=!1,this._id=0,this.setTo(t,e,n,o)}return t.prototype.setTo=function(e,n,o,i){return this._id=t._gid++,this.caller=e,this.method=n,this.args=o,this.once=i,this},t.prototype.run=function(){if(null==this.method)return null;var t=this._id,e=this.method.apply(this.caller,this.args);return this._id===t&&this.once&&this.recover(),e},t.prototype.runWith=function(t){if(null==this.method)return null;var e,n=this._id;return e=null==t?this.method.apply(this.caller,this.args):this.args||t.unshift?this.args?this.method.apply(this.caller,this.args.concat(t)):this.method.apply(this.caller,t):this.method.call(this.caller,t),this._id===n&&this.once&&this.recover(),e},t.prototype.clear=function(){return this.caller=null,this.method=null,this.args=null,this},t.prototype.recover=function(){this._id>0&&(this._id=0,t._pool.push(this.clear()))},t.create=function(e,n,o,i){return void 0===o&&(o=null),void 0===i&&(i=!0),t._pool.length?t._pool.pop().setTo(e,n,o,i):new t(e,n,o,i)},t._pool=[],t._gid=1,t}();t.Handler=e,__reflect(e.prototype,"core.Handler")}(core||(core={}));var Log=function(){function t(){}return t.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];App.DebugUtils.isDebug&&(t[0]="[DebugLog]"+t[0])
},t}();__reflect(Log.prototype,"Log");var Long=function(){function t(t,e,n){this.__isLong__={value:!0,enumerable:!1,configurable:!1},this.low=0|t,this.high=0|e,this.unsigned=!!n}return t.prototype.isLong=function(t){return(t&&t.__isLong__)===!0},t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*t.TWO_PWR_32_DBL+(this.low>>>0):this.high*t.TWO_PWR_32_DBL+(this.low>>>0)},t.prototype.toString=function(e){if(e=e||10,2>e||e>36)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(t.MIN_VALUE)){var n=t.fromNumber(e),o=this.div(n),i=o.mul(n).sub(this);return o.toString(e)+i.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=t.fromNumber(t.pow_dbl(e,6),this.unsigned),s=this,a="";;){var u=s.div(r),c=s.sub(u.mul(r)).toInt()>>>0,h=c.toString(e);if(s=u,s.isZero())return h+a;for(;h.length<6;)h="0"+h;a=""+h+a}},Object.defineProperty(t.prototype,"highBitsUnsigned",{get:function(){return this.high>>>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowBitsUnsigned",{get:function(){return this.low>>>0},enumerable:!0,configurable:!0}),t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,n=31;n>0&&0==(e&1<<n);n--);return 0!=this.high?n+33:n+1},t.prototype.isZero=function(){return 0===this.high&&0===this.low},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isOdd=function(){return 1===(1&this.low)},t.prototype.isEven=function(){return 0===(1&this.low)},t.prototype.eq=function(e){return this.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},t.prototype.neq=function(t){return!this.eq(t)},t.prototype.lt=function(t){return this.compare(t)<0},t.prototype.lte=function(t){return this.compare(t)<=0},t.prototype.gt=function(t){return this.compare(t)>0},t.prototype.gte=function(t){return this.compare(t)>=0},t.prototype.compare=function(e){if(this.isLong(e)||(e=t.fromValue(e)),this.eq(e))return 0;var n=this.isNegative(),o=e.isNegative();return n&&!o?-1:!n&&o?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},t.prototype.neg=function(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.add=function(e){this.isLong(e)||(e=t.fromValue(e));var n=this.high>>>16,o=65535&this.high,i=this.low>>>16,r=65535&this.low,s=e.high>>>16,a=65535&e.high,u=e.low>>>16,c=65535&e.low,h=0,l=0,p=0,d=0;return d+=r+c,p+=d>>>16,d&=65535,p+=i+u,l+=p>>>16,p&=65535,l+=o+a,h+=l>>>16,l&=65535,h+=n+s,h&=65535,t.fromBits(p<<16|d,h<<16|l,this.unsigned)},t.prototype.sub=function(e){return this.isLong(e)||(e=t.fromValue(e)),this.add(e.neg())},t.prototype.mul=function(e){if(this.isZero())return t.ZERO;if(this.isLong(e)||(e=t.fromValue(e)),e.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t.TWO_PWR_24)&&e.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,i=this.low>>>16,r=65535&this.low,s=e.high>>>16,a=65535&e.high,u=e.low>>>16,c=65535&e.low,h=0,l=0,p=0,d=0;return d+=r*c,p+=d>>>16,d&=65535,p+=i*c,l+=p>>>16,p&=65535,p+=r*u,l+=p>>>16,p&=65535,l+=o*c,h+=l>>>16,l&=65535,l+=i*u,h+=l>>>16,l&=65535,l+=r*a,h+=l>>>16,l&=65535,h+=n*c+o*u+i*a+r*s,h&=65535,t.fromBits(p<<16|d,h<<16|l,this.unsigned)},t.prototype.div=function(e){if(this.isLong(e)||(e=t.fromValue(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var n,o,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return t.UZERO;if(e.gt(this.shru(1)))return t.UONE;i=t.UZERO}else{if(this.eq(t.MIN_VALUE)){if(e.eq(t.ONE)||e.eq(t.NEG_ONE))return t.MIN_VALUE;if(e.eq(t.MIN_VALUE))return t.ONE;var r=this.shr(1);return n=r.div(e).shl(1),n.eq(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(o=this.sub(e.mul(n)),i=n.add(o.div(e)))}if(e.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=t.ZERO}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),a=48>=s?1:t.pow_dbl(2,s-48),u=t.fromNumber(n),c=u.mul(e);c.isNegative()||c.gt(o);)n-=a,u=t.fromNumber(n,this.unsigned),c=u.mul(e);u.isZero()&&(u=t.ONE),i=i.add(u),o=o.sub(c)}return i},t.prototype.mod=function(e){return this.isLong(e)||(e=t.fromValue(e)),this.sub(this.div(e).mul(e))},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.and=function(e){return this.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.or=function(e){return this.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.xor=function(e){return this.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.shl=function(e){return this.isLong(e)&&(e=e.toInt()),0===(e&=63)?this:32>e?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shr=function(e){return this.isLong(e)&&(e=e.toInt()),0===(e&=63)?this:32>e?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shru=function(e){if(this.isLong(e)&&(e=e.toInt()),e&=63,0===e)return this;var n=this.high;if(32>e){var o=this.low;return t.fromBits(o>>>e|n<<32-e,n>>>e,this.unsigned)}return 32===e?t.fromBits(n,0,this.unsigned):t.fromBits(n>>>e-32,0,this.unsigned)},t.prototype.toSigned=function(){return this.unsigned?t.fromBits(this.low,this.high,!1):this},t.prototype.toUnsigned=function(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)},t.prototype.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},t.prototype.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t.fromInt=function(e,n){var o,i,r;return n?(e>>>=0,(r=e>=0&&256>e)&&(i=t.UINT_CACHE[e])?i:(o=t.fromBits(e,0>(0|e)?-1:0,!0),r&&(t.UINT_CACHE[e]=o),o)):(e|=0,(r=e>=-128&&128>e)&&(i=t.INT_CACHE[e])?i:(o=t.fromBits(e,0>e?-1:0,!1),r&&(t.INT_CACHE[e]=o),o))},t.fromNumber=function(e,n){if(isNaN(e)||!isFinite(e))return n?t.UZERO:t.ZERO;if(n){if(0>e)return t.UZERO;if(e>=t.TWO_PWR_64_DBL)return t.MAX_UNSIGNED_VALUE}else{if(e<=-t.TWO_PWR_63_DBL)return t.MIN_VALUE;if(e+1>=t.TWO_PWR_63_DBL)return t.MAX_VALUE}return 0>e?t.fromNumber(-e,n).neg():t.fromBits(e%t.TWO_PWR_32_DBL|0,e/t.TWO_PWR_32_DBL|0,n)},t.fromBits=function(e,n,o){return new t(e,n,o)},t.fromString=function(e,n,o){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t.ZERO;if("number"==typeof n?(o=n,n=!1):n=!!n,o=o||10,2>o||o>36)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return t.fromString(e.substring(1),n,o).neg();for(var r=t.fromNumber(t.pow_dbl(o,8)),s=t.ZERO,a=0;a<e.length;a+=8){var u=Math.min(8,e.length-a),c=parseInt(e.substring(a,a+u),o);if(8>u){var h=t.fromNumber(t.pow_dbl(o,u));s=s.mul(h).add(t.fromNumber(c))}else s=s.mul(r),s=s.add(t.fromNumber(c))}return s.unsigned=n,s},t.fromValue=function(e){return e instanceof t?e:"number"==typeof e?t.fromNumber(e):"string"==typeof e?t.fromString(e):t.fromBits(e.low,e.high,e.unsigned)},t.INT_CACHE={},t.UINT_CACHE={},t.TWO_PWR_16_DBL=65536,t.TWO_PWR_24_DBL=1<<24,t.TWO_PWR_32_DBL=t.TWO_PWR_16_DBL*t.TWO_PWR_16_DBL,t.TWO_PWR_64_DBL=t.TWO_PWR_32_DBL*t.TWO_PWR_32_DBL,t.TWO_PWR_63_DBL=t.TWO_PWR_64_DBL/2,t.TWO_PWR_24=t.fromInt(t.TWO_PWR_24_DBL),t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t.pow_dbl=Math.pow,t}();__reflect(Long.prototype,"Long");var core;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.ceil=function(t){return t%1==0?t:t>0?t+1<<0:t<<0},e.prototype.random=function(t,e){return Math.random()*(e-t+1)+t<<0},e.prototype.getAngle=function(t){return 180*t/Math.PI},e.prototype.getRadian=function(t){return t/180*Math.PI},e.prototype.getRadian2=function(t,e,n,o){var i=n-t,r=o-e;return Math.atan2(r,i)},e.prototype.getDistance=function(t,e,n,o){var i=n-t,r=o-e,s=i*i+r*r;return Math.sqrt(s)},e.prototype.getSum=function(t,e){for(var n=0,o=t;e>=o;o++)n+=o;return n},e.prototype.randomNoRepeat=function(t,e,n){function o(t,e){var n=e-t;return parseInt(Math.random()*n+t)}for(var i=new Array;i.length<t;){var r=o(e,n);-1==i.indexOf(r)&&i.push(r)}return i},e.prototype.towPointGetAngle=function(t,e,n,o){var i=n-t,r=o-e,s=Math.atan2(r,i);return this.getAngle(s)},e}(t.BaseClass);t.MathUtils=e,__reflect(e.prototype,"core.MathUtils")}(core||(core={}));var core;!function(t){var e=function(){function t(){this.m_factorys=new Dictionary,this.m_mcFactorys=new Dictionary}return t.prototype.getMovieClip=function(t,e,n){void 0===n&&(n=!0);var o=t+">"+e,i=this.m_factorys.get(o);if(i||(i=[],this.m_factorys.add(o,i)),i.length>0){var r=i.pop();return r}var s=this.m_mcFactorys.get(t);if(!s){var a=RES.getRes(t+"_json"),u=RES.getRes(t+"_png");if(!a||!u)return null;s=new egret.MovieClipDataFactory(a,u),s.enableCache=!0,this.m_mcFactorys.add(t,s)}var c=s.generateMovieClipData(e);if(c.mcData){var r=new egret.MovieClip(c);return r.gotoAndStop(1),r.key=o,n&&(r.anchorOffsetX=.5*(r.width+2*c.mcData.frames[0].x),r.anchorOffsetY=.5*(r.height+2*c.mcData.frames[0].y)),r}return null},t.prototype.revertMovieClip=function(t){if(t){var e=t.key;t.parent&&t.parent.removeChild(t);var n=this.m_factorys.get(e);n||(n=[],this.m_factorys.add(e,n)),n.push(t)}},Object.defineProperty(t,"instance",{get:function(){return null==t.s_instance&&(t.s_instance=new t),t.s_instance},enumerable:!0,configurable:!0}),t}();t.MCFactory=e,__reflect(e.prototype,"core.MCFactory")}(core||(core={}));var md5=function(){function t(){this.hexcase=0,this.b64pad=""}return t.prototype.hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},t.prototype.b64_md5=function(t){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)))},t.prototype.any_md5=function(t,e){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)),e)},t.prototype.hex_hmac_md5=function(t,e){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.prototype.b64_hmac_md5=function(t,e){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.prototype.any_hmac_md5=function(t,e,n){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)),n)},t.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},t.prototype.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},t.prototype.rstr_hmac_md5=function(t,e){var n=this.rstr2binl(t);n.length>16&&(n=this.binl_md5(n,8*t.length));for(var o=Array(16),i=Array(16),r=0;16>r;r++)o[r]=909522486^n[r],i[r]=1549556828^n[r];var s=this.binl_md5(o.concat(this.rstr2binl(e)),512+8*e.length);return this.binl2rstr(this.binl_md5(i.concat(s),640))},t.prototype.rstr2hex=function(t){try{this.hexcase}catch(e){this.hexcase=0}for(var n,o=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",i="",r=0;r<t.length;r++)n=t.charCodeAt(r),i+=o.charAt(n>>>4&15)+o.charAt(15&n);return i},t.prototype.rstr2b64=function(t){try{this.b64pad}catch(e){this.b64pad=""}for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="",i=t.length,r=0;i>r;r+=3)for(var s=t.charCodeAt(r)<<16|(i>r+1?t.charCodeAt(r+1)<<8:0)|(i>r+2?t.charCodeAt(r+2):0),a=0;4>a;a++)o+=8*r+6*a>8*t.length?this.b64pad:n.charAt(s>>>6*(3-a)&63);return o},t.prototype.rstr2any=function(t,e){var n,o,i,r,s,a=e.length,u=Array(Math.ceil(t.length/2));for(n=0;n<u.length;n++)u[n]=t.charCodeAt(2*n)<<8|t.charCodeAt(2*n+1);var c=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),h=Array(c);for(o=0;c>o;o++){for(s=Array(),r=0,n=0;n<u.length;n++)r=(r<<16)+u[n],i=Math.floor(r/a),r-=i*a,(s.length>0||i>0)&&(s[s.length]=i);h[o]=r,u=s}var l="";for(n=h.length-1;n>=0;n--)l+=e.charAt(h[n]);return l},t.prototype.str2rstr_utf8=function(t){for(var e,n,o="",i=-1;++i<t.length;)e=t.charCodeAt(i),n=i+1<t.length?t.charCodeAt(i+1):0,e>=55296&&56319>=e&&n>=56320&&57343>=n&&(e=65536+((1023&e)<<10)+(1023&n),i++),127>=e?o+=String.fromCharCode(e):2047>=e?o+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?o+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(o+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return o},t.prototype.str2rstr_utf16le=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n),t.charCodeAt(n)>>>8&255);return e},t.prototype.str2rstr_utf16be=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t.charCodeAt(n)>>>8&255,255&t.charCodeAt(n));return e},t.prototype.rstr2binl=function(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(var n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e},t.prototype.binl2rstr=function(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e},t.prototype.binl_md5=function(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,o=-271733879,i=-1732584194,r=271733878,s=0;s<t.length;s+=16){var a=n,u=o,c=i,h=r;n=this.md5_ff(n,o,i,r,t[s+0],7,-680876936),r=this.md5_ff(r,n,o,i,t[s+1],12,-389564586),i=this.md5_ff(i,r,n,o,t[s+2],17,606105819),o=this.md5_ff(o,i,r,n,t[s+3],22,-1044525330),n=this.md5_ff(n,o,i,r,t[s+4],7,-176418897),r=this.md5_ff(r,n,o,i,t[s+5],12,1200080426),i=this.md5_ff(i,r,n,o,t[s+6],17,-1473231341),o=this.md5_ff(o,i,r,n,t[s+7],22,-45705983),n=this.md5_ff(n,o,i,r,t[s+8],7,1770035416),r=this.md5_ff(r,n,o,i,t[s+9],12,-1958414417),i=this.md5_ff(i,r,n,o,t[s+10],17,-42063),o=this.md5_ff(o,i,r,n,t[s+11],22,-1990404162),n=this.md5_ff(n,o,i,r,t[s+12],7,1804603682),r=this.md5_ff(r,n,o,i,t[s+13],12,-40341101),i=this.md5_ff(i,r,n,o,t[s+14],17,-1502002290),o=this.md5_ff(o,i,r,n,t[s+15],22,1236535329),n=this.md5_gg(n,o,i,r,t[s+1],5,-165796510),r=this.md5_gg(r,n,o,i,t[s+6],9,-1069501632),i=this.md5_gg(i,r,n,o,t[s+11],14,643717713),o=this.md5_gg(o,i,r,n,t[s+0],20,-373897302),n=this.md5_gg(n,o,i,r,t[s+5],5,-701558691),r=this.md5_gg(r,n,o,i,t[s+10],9,38016083),i=this.md5_gg(i,r,n,o,t[s+15],14,-660478335),o=this.md5_gg(o,i,r,n,t[s+4],20,-405537848),n=this.md5_gg(n,o,i,r,t[s+9],5,568446438),r=this.md5_gg(r,n,o,i,t[s+14],9,-1019803690),i=this.md5_gg(i,r,n,o,t[s+3],14,-187363961),o=this.md5_gg(o,i,r,n,t[s+8],20,1163531501),n=this.md5_gg(n,o,i,r,t[s+13],5,-1444681467),r=this.md5_gg(r,n,o,i,t[s+2],9,-51403784),i=this.md5_gg(i,r,n,o,t[s+7],14,1735328473),o=this.md5_gg(o,i,r,n,t[s+12],20,-1926607734),n=this.md5_hh(n,o,i,r,t[s+5],4,-378558),r=this.md5_hh(r,n,o,i,t[s+8],11,-2022574463),i=this.md5_hh(i,r,n,o,t[s+11],16,1839030562),o=this.md5_hh(o,i,r,n,t[s+14],23,-35309556),n=this.md5_hh(n,o,i,r,t[s+1],4,-1530992060),r=this.md5_hh(r,n,o,i,t[s+4],11,1272893353),i=this.md5_hh(i,r,n,o,t[s+7],16,-155497632),o=this.md5_hh(o,i,r,n,t[s+10],23,-1094730640),n=this.md5_hh(n,o,i,r,t[s+13],4,681279174),r=this.md5_hh(r,n,o,i,t[s+0],11,-358537222),i=this.md5_hh(i,r,n,o,t[s+3],16,-722521979),o=this.md5_hh(o,i,r,n,t[s+6],23,76029189),n=this.md5_hh(n,o,i,r,t[s+9],4,-640364487),r=this.md5_hh(r,n,o,i,t[s+12],11,-421815835),i=this.md5_hh(i,r,n,o,t[s+15],16,530742520),o=this.md5_hh(o,i,r,n,t[s+2],23,-995338651),n=this.md5_ii(n,o,i,r,t[s+0],6,-198630844),r=this.md5_ii(r,n,o,i,t[s+7],10,1126891415),i=this.md5_ii(i,r,n,o,t[s+14],15,-1416354905),o=this.md5_ii(o,i,r,n,t[s+5],21,-57434055),n=this.md5_ii(n,o,i,r,t[s+12],6,1700485571),r=this.md5_ii(r,n,o,i,t[s+3],10,-1894986606),i=this.md5_ii(i,r,n,o,t[s+10],15,-1051523),o=this.md5_ii(o,i,r,n,t[s+1],21,-2054922799),n=this.md5_ii(n,o,i,r,t[s+8],6,1873313359),r=this.md5_ii(r,n,o,i,t[s+15],10,-30611744),i=this.md5_ii(i,r,n,o,t[s+6],15,-1560198380),o=this.md5_ii(o,i,r,n,t[s+13],21,1309151649),n=this.md5_ii(n,o,i,r,t[s+4],6,-145523070),r=this.md5_ii(r,n,o,i,t[s+11],10,-1120210379),i=this.md5_ii(i,r,n,o,t[s+2],15,718787259),o=this.md5_ii(o,i,r,n,t[s+9],21,-343485551),n=this.safe_add(n,a),o=this.safe_add(o,u),i=this.safe_add(i,c),r=this.safe_add(r,h)}return[n,o,i,r]},t.prototype.md5_cmn=function(t,e,n,o,i,r){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(o,r)),i),n)},t.prototype.md5_ff=function(t,e,n,o,i,r,s){return this.md5_cmn(e&n|~e&o,t,e,i,r,s)},t.prototype.md5_gg=function(t,e,n,o,i,r,s){return this.md5_cmn(e&o|n&~o,t,e,i,r,s)},t.prototype.md5_hh=function(t,e,n,o,i,r,s){return this.md5_cmn(e^n^o,t,e,i,r,s)},t.prototype.md5_ii=function(t,e,n,o,i,r,s){return this.md5_cmn(n^(e|~o),t,e,i,r,s)},t.prototype.safe_add=function(t,e){var n=(65535&t)+(65535&e),o=(t>>16)+(e>>16)+(n>>16);return o<<16|65535&n},t.prototype.bit_rol=function(t,e){return t<<e|t>>>32-e},t}();__reflect(md5.prototype,"md5");var core;!function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.type=t,n.dict={},n.eVec=new Array,n.lastRunTime=0,0==n.type&&App.TimerManager.doFrame(1,0,n.run,n),n}return __extends(n,e),n.prototype.clear=function(){this.dict={},this.eVec.splice(0)},n.prototype.addListener=function(t,e,n){var o=this.dict[t];null==o&&(o=new Array,this.dict[t]=o);var i=0,r=o.length;for(i;r>i;i++)if(o[i][0]==e&&o[i][1]==n)return;o.push([e,n])},n.prototype.removeListener=function(t,e,n){var o=this.dict[t];if(null!=o){var i=0,r=o.length;for(i;r>i;i++)if(o[i][0]==e&&o[i][1]==n){o.splice(i,1);break}0==o.length&&(this.dict[t]=null,delete this.dict[t])}},n.prototype.removeAll=function(t){for(var e=Object.keys(this.dict),n=0,o=e.length;o>n;n++){for(var i=e[n],r=this.dict[i],s=0;s<r.length;s++)r[s][1]==t&&(r.splice(s,1),s--);0==r.length&&(this.dict[i]=null,delete this.dict[i])}},n.prototype.dispatch=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(null!=this.dict[e]){var i=t.ObjectPool.pop("MessageVo");i.type=e,i.param=n,0==this.type?this.eVec.push(i):1==this.type?this.dealMsg(i):Log.trace("MessageCenter未实现的类型")}},n.prototype.run=function(){var t=egret.getTimer(),e=t-this.lastRunTime>100;if(this.lastRunTime=t,e)for(;this.eVec.length>0;)this.dealMsg(this.eVec.shift());else for(;this.eVec.length>0&&(this.dealMsg(this.eVec.shift()),!(egret.getTimer()-t>5)););},n.prototype.dealMsg=function(e){var n=this.dict[e.type],o=0,i=0;n&&(i=n.length);for(var r=null;i>o;)r=n[o],r[0].apply(r[1],e.param),n.length!=i&&(i=n.length,o--),o++;e.dispose(),t.ObjectPool.push(e)},n}(t.BaseClass);t.MessageCenter=e,__reflect(e.prototype,"core.MessageCenter")}(core||(core={}));var MessageVo=function(){function t(){}return t.prototype.dispose=function(){this.type=null,this.param=null},t}();__reflect(MessageVo.prototype,"MessageVo");var core;!function(t){var e=function(){function t(){this._objs=new Array}return t.prototype.pushObj=function(t){this._objs.push(t)},t.prototype.popObj=function(){return this._objs.length>0?this._objs.pop():null},t.prototype.clear=function(){for(;this._objs.length>0;)this._objs.pop()},t.pop=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t._content[e]||(t._content[e]=[]);var i=t._content[e];if(i.length)return i.pop();var r,s=egret.getDefinitionByName(e),a=n.length;return 0==a?r=new s:1==a?r=new s(n[0]):2==a?r=new s(n[0],n[1]):3==a?r=new s(n[0],n[1],n[2]):4==a?r=new s(n[0],n[1],n[2],n[3]):5==a&&(r=new s(n[0],n[1],n[2],n[3],n[4])),r.ObjectPoolKey=e,r},t.popWithExtraKey=function(e,n){t._content[e]||(t._content[e]=[]);var o,i=t._content[e];if(i.length)for(var r=0;r<i.length;r++)if(i[r].extraKey==n){o=i[r],i.splice(r,1);break}if(!o){var s=egret.getDefinitionByName(e);o=new s(n),o.extraKey=n,o.ObjectPoolKey=e}return o},t.push=function(e){if(null==e)return!1;var n=e.ObjectPoolKey;return t._content[n]?(t._content[n].push(e),!0):!1},t.clear=function(){t._content={}},t.clearClass=function(e,n){void 0===n&&(n=null);for(var o=t._content[e];o&&o.length;){var i=o.pop();n&&i[n](),i=null}t._content[e]=null,delete t._content[e]},t.dealFunc=function(e,n){var o=t._content[e];if(null!=o){var i=0,r=o.length;for(i;r>i;i++)o[i][n]()}},t._content={},t}();t.ObjectPool=e,__reflect(e.prototype,"core.ObjectPool")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"isPC",{get:function(){return"Windows PC"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isiOS",{get:function(){return"iOS"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isAndroid",{get:function(){return"Android"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isWindowPhone",{get:function(){return"Windows Phone"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isMacOS",{get:function(){return"Mac OS"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isUnknown",{get:function(){return"Unknown"==egret.Capabilities.os},enumerable:!0,configurable:!0}),t}();t.PlatUtils=e,__reflect(e.prototype,"core.PlatUtils")}(core||(core={}));var core;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.limit=function(t,e){t=Math.min(t,e),e=Math.max(t,e);var n=e-t;return t+Math.random()*n},e.prototype.limitInteger=function(t,e){return Math.round(this.limit(t,e))},e.prototype.randomArray=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},e}(t.BaseClass);t.RandomUtils=e,__reflect(e.prototype,"core.RandomUtils")}(core||(core={}));var core;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._groupIndex=0,e._configs=new Array,e._groups={},RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onResourceLoadComplete,e),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,e.onResourceLoadProgress,e),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,e.onResourceLoadError,e),e}return __extends(e,t),e.prototype.addConfig=function(t,e){this._configs.push([t,e])},e.prototype.loadConfig=function(t,e){this._onConfigComplete=t,this._onConfigCompleteTarget=e,this.loadNextConfig()},e.prototype.loadNextConfig=function(){if(0==this._configs.length)return this._onConfigComplete.call(this._onConfigCompleteTarget),this._onConfigComplete=null,void(this._onConfigCompleteTarget=null);var t=this._configs.shift();RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),RES.loadConfig(t[0],t[1])},e.prototype.onConfigCompleteHandle=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),this.loadNextConfig()},e.prototype.loadGroup=function(t,e,n,o){this._groups[t]=[e,n,o],RES.loadGroup(t)},e.prototype.loadGroups=function(t,e,n,o,i){RES.createGroup(t,e,!0),this.loadGroup(t,n,o,i)},e.prototype.pilfererLoadGroup=function(t,e){void 0===e&&(e=null);var n="pilferer_"+t;e||(e=[t]),RES.createGroup(n,e,!0),RES.loadGroup(n,-1)},e.prototype.onResourceLoadComplete=function(t){var e=t.groupName;if(this._groups[e]){var n=this._groups[e][0],o=this._groups[e][2];null!=n&&n.apply(o,[e]),this._groups[e]=null,delete this._groups[e]}},e.prototype.onResourceLoadProgress=function(t){var e=t.groupName;if(this._groups[e]){var n=this._groups[e][1],o=this._groups[e][2];null!=n&&n.call(o,t.itemsLoaded,t.itemsTotal)}},e.prototype.onResourceLoadError=function(t){Log.trace(t.groupName+"资源组有资源加载失败"),this.onResourceLoadComplete(t)},e.prototype.loadResource=function(t,e,n,o,i){void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=null);var r=t.concat(e),s="loadGroup"+this._groupIndex++;RES.createGroup(s,r,!0),this._groups[s]=[n,o,i],RES.loadGroup(s)},e.prototype.createGroup=function(t,e){RES.createGroup(t,e,!0)},e}(t.BaseClass);t.ResourceUtils=e,__reflect(e.prototype,"core.ResourceUtils")}(core||(core={}));var core;!function(t){var e=function(){function t(){RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onResourceLoadError,this)}return t.prototype.onResourceLoadError=function(t){this.m_groupData.curGroup==t.groupName&&(egret.log("资源组："+t.groupName+" 加载失败"),this.m_groupData.curGroupLoaded=t.itemsLoaded,this.m_groupData.curGroupTotal=t.itemsTotal,this.m_groupData.curResItem=t.resItem,this.m_groupData.onLoadFaild&&this.m_groupData.onLoadFaild.call(this.m_groupData.thisObj,this.m_groupData))},t.prototype.onResourceProgress=function(t){this.updateGroupData(t.groupName,t.itemsLoaded,t.itemsTotal,t.resItem)},t.prototype.onResourceLoadComplete=function(t){egret.log("资源组："+t.groupName+" 加载完成"),this.updateGroupData(t.groupName,t.itemsTotal,t.itemsTotal,t.resItem)},t.prototype.updateGroupData=function(t,e,n,o){void 0===e&&(e=0),void 0===n&&(n=0),this.m_groupData.curGroup==t&&(this.m_groupData.curGroupLoaded=e,this.m_groupData.curGroupTotal=n,this.m_groupData.curResItem=o,this.m_groupData.onLoadProgress&&this.m_groupData.onLoadProgress.call(this.m_groupData.thisObj,this.m_groupData),e==n&&(this.m_groupData.loadedQueue.push(t),this.m_groupData.loaded=this.m_groupData.loadedQueue.length,this.loadNext()))},t.prototype.loadNext=function(){var t=this.m_groupData.loadQueue.shift();t?(this.m_groupData.curGroup=t,RES.isGroupLoaded(t)||this.m_groupData.loadedQueue.indexOf(t)>=0?this.updateGroupData(t,this.m_groupData.total,this.m_groupData.total,this.m_groupData.curResItem):RES.loadGroup(t)):(this.m_groupData.onLoadComplete&&this.m_groupData.onLoadComplete.call(this.m_groupData.thisObj,this.m_groupData),this.destory())},t.prototype.destory=function(){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onResourceLoadError,this),this.m_groupData=null},t.prototype.loadGroups=function(t){this.m_groupData=t,this.loadNext()},t}();__reflect(e.prototype,"GroupLoader");var n=function(){function n(){}return n.loadGroups=function(t,n,i,r,s,a){if(t){var u=new o;if(u.loadQueue=t,u.loadedQueue=[],u.loaded=0,u.total=t.length,u.onLoadProgress=n,u.onLoadFaild=i,u.onLoadComplete=r,u.thisObj=s,u.param=a,t.length>0){var c=new e;c.loadGroups(u)}else r&&r.call(s,u)}},n.prototype.getCacheRes=function(e){var n=t.CachePool.getObj(e);return n||(n=RES.getRes(e),n.key=e),n},n.prototype.revertCacheRes=function(e){e&&e.key&&t.CachePool.addObj(e.key,e)},n.loadExmls=function(t,e,n){e.apply(n)},n.parsedSkinClasses={},n}();t.ResUtils=n,__reflect(n.prototype,"core.ResUtils");var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(t.Progress);t.GroupData=o,__reflect(o.prototype,"core.GroupData")}(core||(core={}));var core;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.MAP=0,e.SPRITE=1,e.mapPoss=[new egret.Point(0,3),new egret.Point(0,0),new egret.Point(0,-2)],e.spritePoss=[new egret.Point(5,0),new egret.Point(-5,0),new egret.Point(5,0)],e._shockLength=0,e._shockCount=0,e._rx=0,e._ry=0,e._type=0,e._repeatCount=0,e}return __extends(e,t),e.prototype.destroy=function(){this.stop()},e.prototype.shock=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=null),void 0===n&&(n=3),this._target||(this._type=t,this._target=e,this._type==this.MAP?(this._shockPoss=this.mapPoss.concat(),this._shockLength=this._shockPoss.length):this._type==this.SPRITE&&(this._shockPoss=this.spritePoss.concat(),this._shockLength=this._shockPoss.length),this.start(n))},e.prototype.start=function(t){void 0===t&&(t=1),this.repeatCount=t,this._shockCount=0,this._target&&(this._type!=this.MAP&&(this._rx=this._target.x),this._ry=this._target.y,App.TimerManager.doFrame(1,0,this.onShockEnter,this))},e.prototype.stop=function(){this._target&&(this._type!=this.MAP&&(this._target.x=this._rx),this._target.y=this._ry,App.TimerManager.remove(this.onShockEnter,this)),this._target=null},e.prototype.onShockEnter=function(t){var e=this._shockLength*this._repeatCount;if(this._shockCount>=e)return void this.stop();var n=this._shockCount%this._shockLength,o=this._shockPoss[n];this._target&&(this._type!=this.MAP&&(this._target.x=this._rx+o.x),this._target.y=this._ry+o.y),this._shockCount++},Object.defineProperty(e.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(t){this._repeatCount=t},enumerable:!0,configurable:!0}),e}(t.BaseClass);t.ShockUtils=e,__reflect(e.prototype,"core.ShockUtils")}(core||(core={}));var core;!function(t){var e=function(){function t(){this.m_BGMVolume=1,this.m_effectVolume=1,this.m_sounds={},this.m_channels={},this.m_callbacks={},this.m_playChannel={},this.m_soundGroups={},this.m_soundGroups[egret.Sound.EFFECT]=[],this.m_soundGroups[egret.Sound.MUSIC]=[];var t=egret.localStorage.getItem("soundEffect");t&&(this.m_effectVolume=parseInt(t)),t=egret.localStorage.getItem("soundBGM"),t&&(this.m_BGMVolume=parseInt(t))}return t.prototype.playSound=function(t,e,n,o){void 0===n&&(n=1);var i=this.m_sounds[t];if(i||(i=RES.getRes(t),i&&(i.type=0==e?egret.Sound.EFFECT:egret.Sound.MUSIC,this.m_sounds[t]=i,this.m_soundGroups[i.type].push(i))),!i)return void egret.log("名称为"+t+"的音效资源不存在");this.m_playChannel[t]=i,i.cover=t.toString();var r=void 0;try{r=i.play(0,n)}catch(s){return egret.log("ID为"+t+"的音乐播放失败"),void delete this.m_playChannel[t.toString()]}r.owner=i,r.maxCount=n>0?n:Number.MAX_VALUE,r.count=0,i.type==egret.Sound.EFFECT?r.volume=this.m_effectVolume:r.volume=this.m_BGMVolume,o&&(this.m_callbacks[r.hashCode.toString()]=o),r.addEventListener(egret.Event.SOUND_COMPLETE,this.onPlayComplete,this),this.m_channels[i.hashCode.toString()]=r},t.prototype.onPlayComplete=function(t){var e=t.currentTarget,n=this.m_callbacks[e.hashCode.toString()];n&&n(),e.count++,e.count>=e.maxCount&&this.stop(e.owner)},t.prototype.stopSoundByID=function(t){var e=this.m_sounds[t];e&&this.stop(e)},t.prototype.stopSound=function(t){var e=this.m_playChannel[t];e&&this.stop(e)},t.prototype.stop=function(t){var e=this.m_channels[t.hashCode.toString()];if(e){try{e.stop()}catch(n){egret.log("停止播放音乐失败")}e.hasEventListener(egret.Event.SOUND_COMPLETE)&&e.removeEventListener(egret.Event.SOUND_COMPLETE,this.onPlayComplete,this),delete this.m_callbacks[e.hashCode.toString()],delete this.m_channels[t.hashCode.toString()]}delete this.m_playChannel[t.cover]},t.prototype.setBGMValume=function(t){egret.localStorage.setItem("soundBGM",t.toString()),this.m_BGMVolume=t;for(var e=this.m_soundGroups[egret.Sound.MUSIC],n=0,o=e.length;o>n;n++){var i=e[n];if(i){var r=this.m_channels[i.hashCode.toString()];if(r)try{r.volume=t}catch(s){egret.log("背景音乐音量设置失败")}}}},t.prototype.getBGMValue=function(){return this.m_BGMVolume},t.prototype.setEffectValume=function(t){egret.localStorage.setItem("soundEffect",t.toString()),this.m_effectVolume=t;for(var e=this.m_soundGroups[egret.Sound.EFFECT],n=0,o=e.length;o>n;n++){var i=e[n];
if(i){var r=this.m_channels[i.hashCode.toString()];if(r)try{r.volume=t}catch(s){egret.log("音效音量设置失败")}}}},t.prototype.getEffectValue=function(){return this.m_effectVolume},t.getInstance=function(){return null==t.s_instance&&(t.s_instance=new t),t.s_instance},t}();t.SoundUtils=e,__reflect(e.prototype,"core.SoundUtils")}(core||(core={}));var core;!function(t){var e=function(t){function e(){var n=t.call(this)||this;return null==e._uiStage&&(e._uiStage=LayerCenter.Instance),n}return __extends(e,t),e.prototype.getHeight=function(){return this.getStage().stageHeight},e.prototype.getWidth=function(){return this.getStage().stageWidth},e.prototype.setTouchChildren=function(t){this.getStage().touchChildren=t},e.prototype.setMaxTouches=function(t){this.getStage().maxTouches=t},e.prototype.setFrameRate=function(t){this.getStage().frameRate=t},e.prototype.setScaleMode=function(t){this.getStage().scaleMode=t},e.prototype.getStage=function(){return egret.MainContext.instance.stage},e.prototype.getUIStage=function(){return e._uiStage},e.prototype.startFullscreenAdaptation=function(t,e){this.designWidth=t,this.designHeight=e,this.getStage().setContentSize(t,e)},e.prototype.stageOnResize=function(){this.getStage().removeEventListener(egret.Event.RESIZE,this.stageOnResize,this);var t=this.designWidth,e=this.designHeight,n=window.innerWidth,o=window.innerHeight,i=n/o,r=t/e,s=i/r;if(i>r){var a=s,u=s;t=Math.floor(t*a),e=Math.floor(e*u)}this.getStage().setContentSize(t,e),App.EventCenter.dispatch(egret.Event.RESIZE),this.getStage().addEventListener(egret.Event.RESIZE,this.stageOnResize,this)},e}(t.BaseClass);t.StageUtils=e,__reflect(e.prototype,"core.StageUtils")}(core||(core={}));var core;!function(t){var e=function(){function e(){}return e.createTextfield=function(t,e,n,o,i){void 0===e&&(e=16777215),void 0===n&&(n=egret.VerticalAlign.MIDDLE),void 0===o&&(o=egret.HorizontalAlign.CENTER),void 0===i&&(i="Verdana");var r=new egret.TextField;return r.size=t,r.textColor=e,r.textAlign=o,r.verticalAlign=n,r.fontFamily=i,r.cacheAsBitmap=!0,r},e.formatString=function(t,e){if(t){for(var n=/\{[0-9]+?\}/;t.match(n);){var o=t.match(n),i=o[0].match(/[0-9]+?/);t=t.replace(n,e[parseInt(i[0])])}return t}return""},e.parseHtmlText=function(t){return e.s_textFlowParser.parse(t)},e.showTextTip=function(e,n){void 0===n&&(n=16777215);var o=LayerCenter.stageWidth,i=LayerCenter.stageHeight,r=t.TextUtils.createTextfield(30);r.text=e,r.textColor=n,r.width=r.textWidth,r.height=r.textHeight,r.x=.5*(o-r.width),r.y=.5*(i-r.height),LayerCenter.Instance.stage.addChild(r),egret.Tween.get(r).to({y:.4*i,alpha:0},1e3,egret.Ease.circIn).call(function(t){t.parent.removeChild(t)},this,[r])},e.s_textFlowParser=new egret.HtmlTextParser,e}();t.TextUtils=e,__reflect(e.prototype,"core.TextUtils")}(core||(core={}));var core;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t._handlers=new Array,t._delHandlers=new Array,t._currTime=egret.getTimer(),t._currFrame=0,t._count=0,t._timeScale=1,egret.Ticker.getInstance().register(t.onEnterFrame,t),t}return __extends(n,e),n.prototype.setTimeScale=function(t){this._timeScale=t},n.prototype.onEnterFrame=function(){this._currFrame++,this._currTime=egret.getTimer(),App.DebugUtils.start("TimerManager:");for(var t=0;t<this._count;t++){var e=this._handlers[t],n=e.userFrame?this._currFrame:this._currTime;n>=e.exeTime&&(App.DebugUtils.start(e.method.toString()),e.method.call(e.methodObj,(this._currTime-e.dealTime)*this._timeScale),App.DebugUtils.stop(e.method.toString()),e.dealTime=this._currTime,e.exeTime+=e.delay,e.repeat||(e.repeatCount>1?e.repeatCount--:(e.complateMethod&&e.complateMethod.apply(e.complateMethodObj),this._delHandlers.push(e))))}for(;this._delHandlers.length;){var e=this._delHandlers.pop();this.remove(e.method,e.methodObj)}App.DebugUtils.stop("TimerManager:")},n.prototype.create=function(e,n,o,i,r,s,a){if(!(0>n||0>o||null==i)){this.remove(i,r);var u=t.ObjectPool.pop("TimerHandler");u.userFrame=e,u.repeat=0==o,u.repeatCount=o,u.delay=n,u.method=i,u.methodObj=r,u.complateMethod=s,u.complateMethodObj=a,u.exeTime=n+(e?this._currFrame:this._currTime),u.dealTime=this._currTime,this._handlers.push(u),this._count++}},n.prototype.doTimer=function(t,e,n,o,i,r){void 0===i&&(i=null),void 0===r&&(r=null),this.create(!1,t,e,n,o,i,r)},n.prototype.doFrame=function(t,e,n,o,i,r){void 0===i&&(i=null),void 0===r&&(r=null),this.create(!0,t,e,n,o,i,r)},Object.defineProperty(n.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),n.prototype.remove=function(e,n){for(var o=0;o<this._count;o++){var i=this._handlers[o];if(i.method==e&&i.methodObj==n){this._handlers.splice(o,1),t.ObjectPool.push(i),this._count--;break}}},n.prototype.removeAll=function(e){for(var n=0;n<this._count;n++){var o=this._handlers[n];o.methodObj==e&&(this._handlers.splice(n,1),t.ObjectPool.push(o),this._count--,n--)}},n.prototype.isExists=function(t,e){for(var n=0;n<this._count;n++){var o=this._handlers[n];if(o.method==t&&o.methodObj==e)return!0}return!1},n}(t.BaseClass);t.TimerManager=e,__reflect(e.prototype,"core.TimerManager")}(core||(core={}));var TimerHandler=function(){function t(){this.delay=0,this.repeatCount=0,this.exeTime=0,this.dealTime=0}return t.prototype.clear=function(){this.method=null,this.methodObj=null,this.complateMethod=null,this.complateMethodObj=null},t}();__reflect(TimerHandler.prototype,"TimerHandler");var core;!function(t){var e=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._x=t,this._y=e}return t.prototype.draw=function(t,e){void 0===e&&(e=0),t.lineStyle(0,e),t.moveTo(0,0),t.lineTo(this._x,this._y)},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.zero=function(){return this._x=0,this._y=0,this},t.prototype.isZero=function(){return 0==this._x&&0==this._y},Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.lengthSQ)},set:function(t){var e=this.angle;this._x=Math.cos(e)*t,this._y=Math.sin(e)*t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lengthSQ",{get:function(){return this._x*this._x+this._y*this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return Math.atan2(this._y,this._x)},set:function(t){var e=this.length;this._x=Math.cos(t)*e,this._y=Math.sin(t)*e},enumerable:!0,configurable:!0}),t.prototype.normalize=function(){if(0==this.length)return this._x=1,this;var t=this.length;return this._x/=t,this._y/=t,this},t.prototype.truncate=function(t){return this.length=Math.min(t,this.length),this},t.prototype.reverse=function(){return this._x=-this._x,this._y=-this._y,this},t.prototype.isNormalized=function(){return 1==this.length},t.prototype.dotProd=function(t){return this._x*t.x+this._y*t.y},t.prototype.crossProd=function(t){return this._x*t.y-this._y*t.x},t.angleBetween=function(t,e){return t.isNormalized()||(t=t.clone().normalize()),e.isNormalized()||(e=e.clone().normalize()),Math.acos(t.dotProd(e))},t.prototype.sign=function(t){return this.perp.dotProd(t)<0?-1:1},Object.defineProperty(t.prototype,"perp",{get:function(){return new t(-this.y,this.x)},enumerable:!0,configurable:!0}),t.prototype.dist=function(t){return Math.sqrt(this.distSQ(t))},t.prototype.distSQ=function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},t.prototype.add=function(e){return new t(this._x+e.x,this._y+e.y)},t.prototype.subtract=function(e){return new t(this._x-e.x,this._y-e.y)},t.prototype.multiply=function(e){return new t(this._x*e,this._y*e)},t.prototype.divide=function(e){return new t(this._x/e,this._y/e)},t.prototype.equals=function(t){return this._x==t.x&&this._y==t.y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),t.prototype.tostring=function(){return"[Vector2D (x:"+this._x+", y:"+this._y+")]"},t}();t.Vector2D=e,__reflect(e.prototype,"core.Vector2D")}(core||(core={}));var core;!function(t){var e=function(){function e(){}return e.addKeyboardListener=function(){document.onkeydown=function(n){n&&e.isKeyboard&&App.EventCenter.dispatch(t.EventID.KEYBOARD_DOWN,n)},document.onkeyup=function(n){n&&e.isKeyboard&&App.EventCenter.dispatch(t.EventID.KEYBOARD_UP,n)}},e.isKeyboard=!0,e}();t.WebUtils=e,__reflect(e.prototype,"core.WebUtils")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t}();t.XMLUtils=e,__reflect(e.prototype,"core.XMLUtils")}(core||(core={}));var ws;!function(t){var e=function(){function t(){this.basicsArr=["number","string","boolean"],this._message=dcodeIO.ProtoBuf.loadProto(RES.getRes("game_proto"))}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.getReqByteArr=function(t){var e=this._message.build(t.protobuf_className),n=new e;this.evaluationObj(t,n);var o=new egret.ByteArray(n.toArrayBuffer());return o},t.prototype.getResProtobuf=function(t,e){var n=proto.CmdResHash.obj[t];void 0==n&&egret.error("协议类型没有在 proto.CmdResHash 绑定：cmd = "+t);var o=this._message.build(n),i=o.decode(e.buffer);return i},t.prototype.evaluationObj=function(t,e){for(var n,o=Object.getOwnPropertyNames(t),i=o.length,r=0;i>r;r++)if(n=o[r],n&&""!==n&&"protobuf_className"!==n){var s=typeof t[n];egret.log(s),"function"!==s&&e.hasOwnProperty(n)&&(e[n]=t[n])}},t}();t.ProtoBufUtil=e,__reflect(e.prototype,"ws.ProtoBufUtil")}(ws||(ws={}));var ws;!function(t){var e=function(){function t(){}return t.getIndex=function(){var t=this.index;return this.index++,t},t.createBody=function(t){for(var e,n=new egret.ByteArray,o=0;o<t.length;o++)e=t[o],"string"==typeof e?n.writeUTFBytes(String(e)):e instanceof egret.ByteArray?(n.writeBytes(e),e.length=0):n.writeUnsignedInt(e);return n},t.index=0,t}();t.RequestPacker=e,__reflect(e.prototype,"ws.RequestPacker")}(ws||(ws={}));var ws;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.TYPE_STRING="TYPE_STRING",t.TYPE_BINARY="TYPE_BINARY",t._connectCount=0,t._setTimeoutIndex=0,t._isUseProtoBuf=!1,t.connected=!1,t}return __extends(n,e),n.prototype.initServer=function(t,e,n){this._host=t,this._port=e,this._msg=n},n.prototype.connect=function(e){return App.DeviceUtils.IsHtml5&&!window.WebSocket?void Log.trace("不支持WebSocket"):(this._connectSuccessHandle=e,this.mainSocket=new egret.WebSocket,this._msg instanceof t.ByteArrayMsg&&(this.mainSocket.type=egret.WebSocket.TYPE_BINARY),this.mainSocket.type=egret.WebSocket.TYPE_BINARY,this.mainSocket.type=egret.WebSocket.TYPE_STRING,this.mainSocket.addEventListener(egret.Event.CONNECT,this.onSocketConnected,this),this.mainSocket.connect(this._host,this._port),Log.trace("WebSocket connecting: "+this._host+":"+this._port),this._connectCount=0,void(this._setTimeoutIndex=setInterval(this.reconnect(this),3e3)))},n.prototype.reconnect=function(e){e._connectCount++,e._connectCount<=5?(console.error("websocket连接 --> "+e._connectCount+" 次！"),this.mainSocket.connect(e.host,e.port)):(console.error("服务器连接失败！ --> "+e._host+":"+e._port),e._setTimeoutIndex&&clearInterval(e._setTimeoutIndex),e.dispatchEvent(new t.WebSocketEvent(t.WebSocketEvent.CONNECT_ERR)))},n.prototype.onSocketConnected=function(){this.mainSocket.removeEventListener(egret.Event.CONNECT,this.onSocketConnected,this),this.addListeners(),this._setTimeoutIndex&&clearInterval(this._setTimeoutIndex),console.log(this._host+":"+this._port+" 服务器连接上了"),this.connected=!0,this._connectSuccessHandle.run()},n.prototype.addListeners=function(){this.mainSocket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onData,this),this.mainSocket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.mainSocket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this)},n.prototype.removeListeners=function(){this.mainSocket.removeEventListener(egret.ProgressEvent.SOCKET_DATA,this.onData,this),this.mainSocket.removeEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.mainSocket.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this)},n.prototype.addCmdListener=function(t,e){if(null!=e){this.mEventListeners||(this.mEventListeners={});var n=this.mEventListeners[t];n?-1==n.indexOf(e)&&n.push(e):(this.mEventListeners[t]=new Array,this.mEventListeners[t].push(e))}},n.prototype.dispatchCmd=function(t,e){void 0===e&&(e=null);var n,o,i=0;if(this.mEventListeners[t])for(n=this.mEventListeners[t],i=0;i<n.length;)o=n[i],o.runWith(e),i++},n.prototype.removeCmdListener=function(t,e){var n,o,i,r;if(this.mEventListeners&&(n=this.mEventListeners[t])){for(o=n.length,i=new Array,r=0;o>r;)n[r].method!=e&&i.push(n[r]),r++;i.length>0?this.mEventListeners[t]=i:delete this.mEventListeners[t]}},n.prototype.hasCmdListener=function(t){return this.mEventListeners[t]},n.prototype.onSocketClose=function(){console.log("websocket --> 断开连接了！"),this.connected=!1},n.prototype.onSocketError=function(){console.error("websocket --> 连接错误了！")},n.prototype.onData=function(t){this._msg.receive(this.mainSocket)},n.prototype.send=function(t){this._msg.send(this.mainSocket,t)},n}(core.BaseClass);t.ServerSocket=e,__reflect(e.prototype,"ws.ServerSocket")}(ws||(ws={}));var ws;!function(t){var e=function(){function t(){}return t.SOCKET_CONNECT="SOCKET_CONNECT",t.SOCKET_RECONNECT="SOCKET_RECONNECT",t.SOCKET_START_RECONNECT="SOCKET_START_RECONNECT",t.SOCKET_CLOSE="SOCKET_CLOSE",t.SOCKET_DATA="SOCKET_DATA",t.SOCKET_NOCONNECT="SOCKET_NOCONNECT",t.SOCKET_DEBUG_INFO="SOCKET_DEBUG_INFO",t}();t.SocketConst=e,__reflect(e.prototype,"ws.SocketConst")}(ws||(ws={}));var ws;!function(t){var e=function(t){function e(e,n,o,i){return t.call(this,e,n,o,i)||this}return __extends(e,t),e.CONNECT_CPL="CONNECT_CPL",e.CONNECT_ERR="CONNECT_ERR",e.CLOSE="CLOSE",e.ERROR="ERROR",e}(egret.Event);t.WebSocketEvent=e,__reflect(e.prototype,"ws.WebSocketEvent")}(ws||(ws={}));var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var ws;!function(t){var e=function(t){function e(){var e=t.call(this)||this;e.msgClass=null,e.protoConfig=null,e.protoConfigSymmetry=null,e.msgClass={},e.protoConfig=App.ProtoConfig,e.protoConfigSymmetry={};for(var n=Object.keys(e.protoConfig),o=0,i=n.length;i>o;o++){var r=n[o],s=e.protoConfig[r];e.protoConfigSymmetry[s]=r}return e}return __extends(e,t),e.prototype.getMsgClass=function(t){var e=this.msgClass[t];return null==e&&(e=App.ProtoFile.build(t),this.msgClass[t]=e),e},e.prototype.getMsgID=function(t){return this.protoConfigSymmetry[t]},e.prototype.getMsgKey=function(t){return this.protoConfig[t]},e.prototype.decode=function(t){var e=t.readShort(),n=t.readShort();if(t.bytesAvailable>=n){var o=new egret.ByteArray;t.readBytes(o,0,n);var i={};return i.key=this.getMsgKey(e),App.DebugUtils.start("Protobuf Decode"),i.body=this.getMsgClass(i.key).decode(o.buffer),App.DebugUtils.stop("Protobuf Decode"),Log.trace("收到数据：","["+e+" "+i.key+"]",i.body),i}return null},e.prototype.encode=function(t){var e=this.getMsgID(t.key),n=new(this.getMsgClass(t.key))(t.body);App.DebugUtils.start("Protobuf Encode");var o=new egret.ByteArray(n.toArrayBuffer());App.DebugUtils.stop("Protobuf Encode"),Log.trace("发送数据：","["+e+" "+t.key+"]",t.body);var i=new egret.ByteArray;return i.writeShort(e),i.writeBytes(o),i},e}(t.ByteArrayMsg);t.ByteArrayMsgByProtobuf=e,__reflect(e.prototype,"ws.ByteArrayMsgByProtobuf")}(ws||(ws={}));var core;!function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.touchEnabled=!1,n.touchChildren=!1,n.loop=t.FrameEventCenter.getInstance(),n}return __extends(n,e),n.prototype.play=function(){this.loop.addFrameEventListener(this.onRenderLoop,this)},n.prototype.stop=function(){this.loop.removeFrameEventListener(this.onRenderLoop,this)},n.prototype.onRenderLoop=function(t){null==this.parent&&this.stop()},n}(t.Component);t.Animation=e,__reflect(e.prototype,"core.Animation")}(core||(core={}));var ws;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._protoMap={},e}return __extends(e,t),e.prototype.decode=function(t){var e=JSON.parse(t);for(var n in e){var o;if(null==this._protoMap[n]&&(o=egret.getDefinitionByName(n),null!=o&&(this._protoMap[n]=new o)),null!=this._protoMap[n]){var i=this._protoMap[n];return i.execute(e[n]),i}console.log(this,"未处理的消息"+t)}return null},e.prototype.encode=function(t){var e='{"'+egret.getQualifiedClassName(t)+'":'+JSON.stringify(t)+"}";return e},e}(t.UTFMsg);t.UTFMsgByJson=e,__reflect(e.prototype,"ws.UTFMsgByJson")}(ws||(ws={}));var ws;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.decode=function(t){return Log.trace(String(t)),String(t)},e.prototype.encode=function(t){return String(t)},e}(t.UTFMsg);t.UTFMsgByString=e,__reflect(e.prototype,"ws.UTFMsgByString")}(ws||(ws={}));var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var proto;!function(t){var e;!function(t){t[t.NONE=0]="NONE",t[t.HEART_BEAT=1]="HEART_BEAT",t[t.BATTLE_REPORT_NOTIFY=4]="BATTLE_REPORT_NOTIFY",t[t.LOGIN=2001]="LOGIN",t[t.CREATE_PLAYER=2002]="CREATE_PLAYER",t[t.STATIC_CWAR_TIME_DATA=2003]="STATIC_CWAR_TIME_DATA",t[t.STATIC_CWAR_TIME_DATA_NOTIFY=2005]="STATIC_CWAR_TIME_DATA_NOTIFY",t[t.BATTLE_REPORT_TEST=1e4]="BATTLE_REPORT_TEST"}(e=t.CMD||(t.CMD={}))}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"StaticCwarTimeDataRes")||this;return e.userId=0,e.userName="",e.arr=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.StaticCwarTimeDataRes=e,__reflect(e.prototype,"proto.StaticCwarTimeDataRes")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"StaticCwarTimeDataReq")||this;return e.userId=0,e.userName="",e.arr=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.StaticCwarTimeDataReq=e,__reflect(e.prototype,"proto.StaticCwarTimeDataReq")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"StaticCwarTimeDataNotify")||this;return e.userId=0,e.userName="",e.arr=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.StaticCwarTimeDataNotify=e,__reflect(e.prototype,"proto.StaticCwarTimeDataNotify")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"user_login")||this;return e.userId=0,e.userName="",e}return __extends(e,t),e}(t.BaseProtoBuf);t.user_login=e,__reflect(e.prototype,"proto.user_login")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"StaticCwarTimeModel")||this;return e.bol=!1,e}return __extends(e,t),e}(t.BaseProtoBuf);t.StaticCwarTimeModel=e,__reflect(e.prototype,"proto.StaticCwarTimeModel")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"StaticCwarTimeData")||this;return e.userId=0,e}return __extends(e,t),e}(t.BaseProtoBuf);t.StaticCwarTimeData=e,__reflect(e.prototype,"proto.StaticCwarTimeData")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"BattleReportTestReq")||this;return e.attackList=void 0,e.defenseList=void 0,e.ticks=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.BattleReportTestReq=e,__reflect(e.prototype,"proto.BattleReportTestReq")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"BattleReportTestRes")||this;return e.attackList=void 0,e.defenseList=void 0,e.ticks=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.BattleReportTestRes=e,__reflect(e.prototype,"proto.BattleReportTestRes")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"BattleTick")||this;return e.tick=0,e.acts=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.BattleTick=e,__reflect(e.prototype,"proto.BattleTick")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"BattleAct")||this;return e.tick=0,e.id=null,e.kind=0,e.target=null,e.value=0,e.hp=0,e.skill=0,e.x=0,e}return __extends(e,t),e}(t.BaseProtoBuf);t.BattleAct=e,__reflect(e.prototype,"proto.BattleAct")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"BattlePlayer")||this;return e.playerId=null,e.id=null,e.modelId=0,e.side=0,e.maxHp=0,e.hp=0,e.skills=[],e.speed=0,e.agility=0,e.x=0,e.y=0,e}return __extends(e,t),e}(t.BaseProtoBuf);t.BattlePlayer=e,__reflect(e.prototype,"proto.BattlePlayer")}(proto||(proto={})),function(t){var e=function(t){function e(){var e=t.call(this,"BattleTeam")||this;return e.side=0,e.playerId=null,e.battleUnits=[],e}return __extends(e,t),e}(t.BaseProtoBuf);t.BattleTeam=e,__reflect(e.prototype,"proto.BattleTeam")}(proto||(proto={})),function(t){var e=function(){function e(){}return e.setup=function(){e.obj[t.CMD.STATIC_CWAR_TIME_DATA]="StaticCwarTimeDataRes",e.obj[t.CMD.STATIC_CWAR_TIME_DATA_NOTIFY]="StaticCwarTimeDataNotify",e.obj[t.CMD.BATTLE_REPORT_TEST]="BattleReportTestRes"},e.obj={},e}();t.CmdResHash=e,__reflect(e.prototype,"proto.CmdResHash")}(proto||(proto={}));var ws;!function(t){var e=function(){function e(){e.setup()}return e.setup=function(){this._desc={},this._desc[t.CommandID.CHECK_VERSION]="服务器返回错误ID [CHECK_VERSION]"},e.getDescById=function(t){return this._desc||e.setup(),this._desc[t]?this._desc[t]:"未描述"},e}();t.CommandDesc=e,__reflect(e.prototype,"ws.CommandDesc")}(ws||(ws={}));var ws;!function(t){var e=function(){function t(){}return t.CHECK_VERSION=1e3,t}();t.CommandID=e,__reflect(e.prototype,"ws.CommandID")}(ws||(ws={}));var game;!function(t){var e=function(){function e(){}return e.RuffleCard=function(e,n){var o=[];o=e?1==n?[102,103,104,105,106,107,108,109,110,111,112,113,114,202,203,204,205,206,207,208,209,210,211,212,213,214,302,303,304,305,306,307,308,309,310,311,312,313,314,402,403,404,405,406,407,408,409,410,411,412,413,414,404,405,406,407,408,409,410,411,412,413,414,616,717]:2==n?[102,103,104,105,106,107,108,109,110,111,112,113,114,202,203,204,205,206,207,208,209,210,211,212,213,214,302,303,304,305,306,307,308,309,310,311,312,313,314,302,303,304,305,306,307,308,309,310,311,312,313,314,402,403,404,405,406,407,408,409,410,411,412,413,414,404,405,406,407,408,409,410,411,412,413,414,616,717]:[102,103,104,105,106,107,108,109,110,111,112,113,114,202,203,204,205,206,207,208,209,210,211,212,213,214,302,303,304,305,306,307,308,309,310,311,312,313,314,404,405,406,407,408,409,410,411,412,413,414,616,717]:1==n?[102,103,104,105,106,107,108,109,110,111,112,113,114,202,203,204,205,206,207,208,209,210,211,212,213,214,302,303,304,305,306,307,308,309,310,311,312,313,314,402,403,404,405,406,407,408,409,410,411,412,413,414,402,403,404,405,406,407,408,409,410,411,412,413,414]:2==n?[102,103,104,105,106,107,108,109,110,111,112,113,114,202,203,204,205,206,207,208,209,210,211,212,213,214,302,303,304,305,306,307,308,309,310,311,312,313,314,302,303,304,305,306,307,308,309,310,311,312,313,314,402,403,404,405,406,407,408,409,410,411,412,413,414,402,403,404,405,406,407,408,409,410,411,412,413,414]:[102,103,104,105,106,107,108,109,110,111,112,113,114,202,203,204,205,206,207,208,209,210,211,212,213,214,302,303,304,305,306,307,308,309,310,311,312,313,314,402,403,404,405,406,407,408,409,410,411,412,413,414];for(var i=App.MathUtils.randomNoRepeat(13,0,o.length),r=new Array,s=0;s<i.length;s++)r.push(new t.PorkVO(o[i[s]]));return r},e.RuffleCard1=function(){for(var e=[61,58,9,5,46,30,57,14,27,20,28,62,34],n=[],o=0;o<e.length;o++)n.push(new t.PorkVO(this.ChangeServerCardToClient(e[o])));return n},e.containDuiZi=function(e){var n=2;if(e.length<n)return!1;var o=new t.CardPointHelper(e);for(var i in o.pointNumbers){var r=o.pointNumbers[i];if(r>=n)return!0}return!1},e.containLiaDui=function(t){return t.length<4?!1:!1},e.findDuiZi=function(t){var e=this.findSanTiao(t)||[],n=this.findPointByLength(t,2)||[];return n.length<2&&e.length>0&&e.forEach(function(t){var e=[t[0],t[1]];n.push(e)}),n.length>0?n:[]},e.containSanTiao=function(t){return!1},e.findLiaDui=function(t){var e=this.findDuiZi(t)||[],n=this.findGuiPai(t,2)||[];if(e.length<1&&n.length>0&&n.forEach(function(t){e.unshift(t)}),e.length<2)return[];for(var o=[],i=0;i<e.length;i++)for(var r=i+1;r<e.length&&o.length<10;r++){for(var s=e[i],a=e[r],u=s.concat(a),c=new Array,h=0;h<u.length&&-1==c.indexOf(u[h]);h++)c.push(u[h]);4==c.length&&(c.sort(function(t,e){return t.point-t.point}),o.unshift(c))}return o.length>6&&(o=o.slice(0,6)),o},e.findSanTiao=function(t){if(t.length<3)return[];var e=this.findPointByLength(t,3)||[];if(e.length<2){var n=this.findTieZhi(t);n.length>0&&n.forEach(function(t){var n=[t[0],t[1],t[2]];e.push(n)})}return e.length>0?e:[]},e.findTieZhi=function(t){var e=this.findPointByLength(t,4);if(e.length>0)return e;e=[];var n=this.findWuTong(t);return n.forEach(function(t){var n=[t[0],t[1],t[2],t[3]],o=[t[0],t[1],t[2],t[4]],i=[t[0],t[1],t[3],t[4]],r=[t[0],t[2],t[3],t[4]],s=[t[1],t[1],t[2],t[4]];e.push(n),e.push(o),e.push(i),e.push(r),e.push(s)}),e.length>10&&(e=e.slice(0,10)),e.length>0?e:[]},e.findWuTong=function(t){if(t.length<5)return[];var e=this.findPointByLength(t,5)||[];return e.length>0?e:[]},e.findShunZi=function(t,e){if(void 0===e&&(e=5),t.length<5)return[];var n=[],o=[];t.forEach(function(t){-1==o.indexOf(t.point)&&(n.push(t),o.push(t.point))}),n.sort(function(t,e){return t.point-e.point});for(var i=[],r=0;r+e<=n.length;r++){var s=n.slice(r,r+e);this.isShunZi(s,e)&&i.unshift(s)}return i.length>0?i:[]},e.findTongHua=function(t,e){if(void 0===e&&(e=5),t.length<5)return[];var n=[];t.sort(this.sortByColor);for(var o=0;o+e<t.length;o++){var i=t.slice(o,o+e);this.isTongHua(i,e)&&n.unshift(i)}return n.length>0?n:[]},e.findHuLu=function(t){if(t.length<5)return[];var e=this.findSanTiao(t),n=this.findTieZhi(t),o=this.findDuiZi(t)||[];if(o.length<=0&&(e.length>0&&e.forEach(function(t){var e=[t[0],t[1]],n=[t[1],t[2]];o.push(e),o.push(n)}),n.length>=0&&n.forEach(function(t){var e=[t[0],t[1]],n=[t[2],t[3]];o.push(e),o.push(n)})),o.length<=0||e.length<=0)return[];for(var i=[],r=0;r<o.length;r++)for(var s=[],a=o[r],u=0;u<e.length;u++){var c=e[u];s=a.concat(c);for(var h=0;h<s.length-1;h++){for(var l=s[h],p=h+1;p<s.length;p++)if(l==s[p]){s=null;break}if(null==s)break}null!=s&&i.unshift(s)}return i.length>10&&(i=i.slice(0,10)),i.length>0?i:[]},e.findTongHuaShun=function(t,e){if(void 0===e&&(e=5),t.length<e)return[];for(var n=[],o=[],i=[],r=[],s=0;s<t.length;s++)4==t[s].type&&-1==r.indexOf(t[s].point)&&r.push(t[s]),3==t[s].type&&-1==i.indexOf(t[s].point)&&i.push(t[s]),2==t[s].type&&-1==o.indexOf(t[s].point)&&o.push(t[s]),1==t[s].type&&-1==n.indexOf(t[s].point)&&n.push(t[s]);var a=[];r.length>=5&&(r.sort(this.sortByPoint),a.push(r)),i.length>=5&&(i.sort(this.sortByPoint),a.push(i)),o.length>=5&&(o.sort(this.sortByPoint),a.push(o)),n.length>=5&&(n.sort(this.sortByPoint),a.push(n));for(var u=[],c=0;c<a.length;c++)for(var h=a[c],l=0;l+5<h.length;l++){var p=h.slice(l,l+5);this.isTongHuaShun(p)&&(p.sort(this.sortByPoint),u.unshift(p))}return u.length>0?u:[]},e.sortByColor=function(t,e,n){return void 0===n&&(n=!0),e.type==t.type?(t.point-e.point)*(n?1:-1):e.type-t.type},e.sortByPoint=function(t,e){return t.point-e.point},e.findGuiPai=function(t,e){return[]},e.isShunZi=function(t,e){if(void 0===e&&(e=3),t.length<e)return!1;t.sort(function(t,e){return t.point-e.point});for(var n=t[0].point,o=1;o<t.length;o++){if(t[o].point!=n+1)return!1;n+=1}return!0},e.isTongHua=function(t,e){void 0===e&&(e=3);for(var n=t[0].type,o=1;o<t.length;o++)if(t[o].type!=n)return!1;return!0},e.isTongHuaShun=function(t){return this.isTongHua(t)&&this.isShunZi(t)},e.findPointByLength=function(t,e){if(t.length<e)return[];var n=new Object;t.forEach(function(t){var e=n[t.point]||[];n[t.point]=e,e.push(t)});var o=[];for(var i in n)for(var r=n[i];r.length>=e&&0!=e;){var s=r.splice(0,e);s.length>=e&&(s.sort(function(t,e){return t.type-e.type}),o.push(s))}return o.sort(function(t,e){var n=t[0],o=e[0];return n.point-o.point}),o.length>0?o:[]},e.SortCard=function(t){return t.sort(function(t,e){var n=e.point-t.point;return 0==n&&(n=e.type-t.type),n}),t},e.SortCardMinToMax=function(t){return t.sort(function(t,e){var n=t.point-e.point;return 0==n&&(n=t.type-e.type),n}),t},e.ChangeServerCardToClient=function(t){return 100*(parseInt((t/16).toString())+1)+t%16},e.ChangeClientToServer=function(t){return 16*(parseInt(String(t/100))-1)+parseInt(String(t%100))},e.ChangeClientArrToServer=function(t){for(var e=new Array,n=0;n<t.length;n++)e.push(this.ChangeClientToServer(t[n].data));return e},e}();t.PorkUtil=e,__reflect(e.prototype,"game.PorkUtil")}(game||(game={}));var game;!function(t){var e=function(){function e(){this.uname="Jack",this.uid="383928393",this.card=0,this.gold=0,this.reConnectInRoom=!1}return Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.setLoginData=function(t){this.uid=t.uid,this.card=t.card,this.gold=t.gold,this.uname=t.name},e.prototype.setRoomInfo=function(e){null==this.roomModel&&(this.roomModel=new t.RoomModel),this.roomModel.setRoomInfo(e)},e.prototype.setReConnectInfo=function(e){this.reConnectInRoom=!0,null==this.roomModel&&(this.roomModel=new t.RoomModel),this.roomModel.reConnectSetRoomInfo(e)},e.prototype.disMissRoom=function(){this.roomModel=null},e.prototype.createRound=function(e){this.roundModel=new t.RoundModel;for(var n=new Array,o=0;o<e.card.length;o++){var i=t.PorkUtil.ChangeServerCardToClient(e.card[o]),r=new t.PorkVO(i);n.push(r)}this.roundModel.myCard=n,this.roundModel.setAllType(),this.roundModel.myCard=t.PorkUtil.SortCard(this.roundModel.myCard),this.roomModel.addRound(this.roundModel),console.log(this.roundModel.cardStr)},e.prototype.createRoundTest=function(){this.roundModel=new t.RoundModel,this.roundModel.myCard=t.PorkUtil.RuffleCard1(),this.roundModel.setAllType(),this.roundModel.myCard=t.PorkUtil.SortCard(this.roundModel.myCard),console.log(this.roundModel.cardStr)},e}();t.GameModel=e,__reflect(e.prototype,"game.GameModel")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t.FLOAT_MSG="FLOAT_MSG",t.CREATE_ROOM="CREATE_ROOM",t.NEW_UESR_IN="NEW_UESR_IN",t.NEW_UESR_OUT="NEW_UESR_OUT",t.NEW_UESR_READY="NEW_UESR_READY",t.NEW_UESR_READY_CANCEL="NEW_UESR_READY_CANCEL",t.GAME_USER_DIAOXIAN="GAME_USER_DIAOXIAN",t.GAME_USER_DIAOXIAN_BACK="GAME_USER_DIAOXIAN_BACK",t.GAME_FAPAI="GAME_FAPAI",t.GAME_BAIPAI="GAME_BAIPAI",t.GAME_SINGLE_RESULT="GAME_SINGLE_RESULT",t.GAME_RESTART="GAME_RESTART",t}();t.MsgEnum=e,__reflect(e.prototype,"game.MsgEnum")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t}();t.PlayerVO=e,__reflect(e.prototype,"game.PlayerVO")}(game||(game={}));var game;!function(t){var e=function(){function t(t){this.parse(t)}return t.prototype.parse=function(t){this.data=t,this.type=parseInt(String(t/100)),this.point=parseInt(String(t%100)),10==this.point?this.showStr="0":11==this.point?this.showStr="J":12==this.point?this.showStr="Q":13==this.point?this.showStr="K":14==this.point?this.showStr="A":this.showStr=this.point.toString(),4==this.type||2==this.type?this.font="ui://jow5n9bqrezh2j":this.font="ui://jow5n9bqmwp41e"},t}();t.PorkVO=e,__reflect(e.prototype,"game.PorkVO")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t
}();t.RoomInfo=e,__reflect(e.prototype,"game.RoomInfo");var n=function(){function t(){}return t}();t.User=n,__reflect(n.prototype,"game.User");var o=function(){function o(){this.isDismiss=!1,this.isAllFinish=!1}return o.prototype.setRoomInfo=function(o){this.roundArr=[],this.fname=o.fname,this.fuid=o.fuid,this.gps=o.gps,this.rid=o.rid,this.rinfo=new e,this.rinfo.fc=o.rinfo.fc,this.rinfo.friend=o.rinfo.friend,this.rinfo.jm=o.rinfo.jm,this.rinfo.nnum=o.rinfo.nnum,this.rinfo.pn=o.rinfo.pn,this.rinfo.safe=o.rinfo.safe,this.rinfo.snum=o.rinfo.snum,this.rinfo.zz=o.rinfo.zz,null==this.users&&(this.users=new Array);for(var i=0;i<o.users.length;i++)if(""!=o.users[i].uid){var r=new n;r.avatar=o.users[i].avatar,r.card=o.users[i].card,r.gold=o.users[i].gold,r.gps=o.users[i].gps,r.name=o.users[i].name,r.status=o.users[i].status,r.tid=o.users[i].tid,r.uid=o.users[i].uid,this.checkisNew(r)}for(var i=0;i<this.users.length;i++)if(this.users[i].uid==t.GameModel.ins.uid){var s=this.users.splice(i,1)[0];this.users.unshift(s)}},o.prototype.reConnectSetRoomInfo=function(o){this.roundArr=[],this.fname=o.fname,this.fuid=o.fuid,this.rid=o.rid,this.rinfo=new e,this.rinfo.fc=o.rinfo.fc,this.rinfo.friend=o.rinfo.friend,this.rinfo.jm=o.rinfo.jm,this.rinfo.nnum=o.rinfo.nnum,this.rinfo.pn=o.rinfo.pn,this.rinfo.safe=o.rinfo.safe,this.rinfo.snum=o.rinfo.snum,this.rinfo.zz=o.rinfo.zz,null==this.users&&(this.users=new Array);for(var i=0;i<o.users.length;i++)if(""!=o.users[i].uid){var r=new n;r.avatar=o.users[i].avatar,r.card=o.users[i].hc,r.gold=o.users[i].gold,r.gps=o.users[i].gps,r.name=o.users[i].name,r.status=o.users[i].status,r.tid=o.users[i].tid,r.uid=o.users[i].uid,this.checkisNew(r)}for(var i=0;i<this.users.length;i++)if(this.users[i].uid==t.GameModel.ins.uid){var s=this.users.splice(i,1)[0];this.users.unshift(s)}},o.prototype.removeUser=function(t){for(var e=0;e<this.users.length;e++)if(t==this.users[e].uid){this.users.splice(e,1);break}},o.prototype.checkisNew=function(e){for(var n=!0,o=0;o<this.users.length;o++)if(e.uid==this.users[o].uid){n=!1;break}n&&(this.users.push(e),e.uid==this.fuid&&(this.fzInfo=e),e.uid==t.GameModel.ins.uid&&(this.meInfo=e),App.MessageCenter.dispatch(t.MsgEnum.NEW_UESR_IN,e))},o.prototype.addRound=function(t){this.roundArr.push(t)},o.prototype.jieSuanAll=function(t){this.isAllFinish=!0},o}();t.RoomModel=o,__reflect(o.prototype,"game.RoomModel")}(game||(game={}));var game;!function(t){var e;!function(t){t[t.Error=255]="Error",t[t.None=0]="None",t[t.Single=1]="Single",t[t.Double=2]="Double",t[t.TwoDouble=3]="TwoDouble",t[t.Three=4]="Three",t[t.ShunZi=5]="ShunZi",t[t.TongHua=6]="TongHua",t[t.Gourd=7]="Gourd",t[t.Bomb=8]="Bomb",t[t.TongHuaShun=9]="TongHuaShun",t[t.FiveBomb=10]="FiveBomb"}(e||(e={}));var n=function(){function t(){}return t}();t.Result=n,__reflect(n.prototype,"game.Result");var o=function(){function t(){}return t}();t.ResultCard=o,__reflect(o.prototype,"game.ResultCard");var i=function(){function t(){}return t}();t.ResultDQ=i,__reflect(i.prototype,"game.ResultDQ");var r=function(){function e(){this.cardStr="",this.typeClickCount1=0,this.typeClickCount2=0,this.typeClickCount3=0,this.typeClickCount4=0,this.typeClickCount5=0,this.typeClickCount6=0,this.typeClickCount7=0,this.typeClickCount8=0,this.typeClickCount9=0}return Object.defineProperty(e.prototype,"listCard",{get:function(){return this._listCard},set:function(e){this._listCard=e,this.setAllType(),this.typeClickCount1=0,this.typeClickCount2=0,this.typeClickCount3=0,this.typeClickCount4=0,this.typeClickCount5=0,this.typeClickCount6=0,this.typeClickCount7=0,this.typeClickCount8=0,this.typeClickCount9=0,t.PorkUtil.SortCard(this._listCard)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"myCard",{get:function(){return this._myCard},set:function(t){this._myCard=t,this.listCard=t,this.cardStr="";for(var e=0;e<this._myCard.length;e++)this.cardStr+=this._myCard[e].point+","},enumerable:!0,configurable:!0}),e.prototype.jieSuanSingle=function(e){this.result=new n,this.result.cards=new Array;for(var i=0,r=e.sc;i<r.length;i++){var s=r[i],a=new o;a.cards=new Array;for(var u=0;u<s.cds.length;u++){var c=new t.PorkVO(t.PorkUtil.ChangeServerCardToClient(s.cds[u]));a.cards.push(c)}a.uid=s.uid,a.sc1=s.sc1,a.sc2=s.sc2,a.sc3=s.sc3,this.result.cards.push(a)}App.MessageCenter.dispatch(t.MsgEnum.GAME_SINGLE_RESULT)},e.prototype.setAllType=function(){this.duizi=t.PorkUtil.findDuiZi(this._listCard),this.santiao=t.PorkUtil.findSanTiao(this._listCard),this.liadui=t.PorkUtil.findLiaDui(this._listCard),this.shunzi=t.PorkUtil.findShunZi(this._listCard),this.tonghua=t.PorkUtil.findTongHua(this._listCard),this.hulu=t.PorkUtil.findHuLu(this._listCard),this.tiezhi=t.PorkUtil.findTieZhi(this._listCard),this.tonghuashun=t.PorkUtil.findTongHuaShun(this._listCard),this.wutong=t.PorkUtil.findWuTong(this._listCard)},e.prototype.getTypeByClick=function(t){var e=[];switch(t){case"btntype1":this.typeClickCount1==this.duizi.length?(e=[],this.typeClickCount1=0):(e=this.duizi[this.typeClickCount1%this.duizi.length],this.typeClickCount1+=1);break;case"btntype2":this.typeClickCount2==this.liadui.length?(e=[],this.typeClickCount2=0):(e=this.liadui[this.typeClickCount2%this.liadui.length],this.typeClickCount2+=1);break;case"btntype3":this.typeClickCount3==this.santiao.length?(e=[],this.typeClickCount3=0):(e=this.santiao[this.typeClickCount3%this.santiao.length],this.typeClickCount3++);break;case"btntype4":this.typeClickCount4==this.shunzi.length?(e=[],this.typeClickCount4=0):(e=this.shunzi[this.typeClickCount4%this.shunzi.length],this.typeClickCount4++);break;case"btntype5":this.typeClickCount5==this.tonghua.length?(e=[],this.typeClickCount5=0):(e=this.tonghua[this.typeClickCount5%this.tonghua.length],this.typeClickCount5++);break;case"btntype6":this.typeClickCount6==this.hulu.length?(e=[],this.typeClickCount6=0):(e=this.hulu[this.typeClickCount6%this.hulu.length],this.typeClickCount6++);break;case"btntype7":this.typeClickCount7==this.tiezhi.length?(e=[],this.typeClickCount7=0):(e=this.tiezhi[this.typeClickCount7%this.tiezhi.length],this.typeClickCount7++);break;case"btntype8":this.typeClickCount8==this.tonghuashun.length?(e=[],this.typeClickCount8=0):(e=this.tonghuashun[this.typeClickCount8%this.tonghuashun.length],this.typeClickCount8++);break;case"btntype9":this.typeClickCount9==this.wutong.length?(e=[],this.typeClickCount9=0):(e=this.wutong[this.typeClickCount9%this.wutong.length],this.typeClickCount9++)}return e},e}();t.RoundModel=r,__reflect(r.prototype,"game.RoundModel")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){},t}();t.NoticeModel=e,__reflect(e.prototype,"game.NoticeModel")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t}();t.NoticeVO=e,__reflect(e.prototype,"game.NoticeVO")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t}();t.RankModel=e,__reflect(e.prototype,"game.RankModel")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t}();t.RankVO=e,__reflect(e.prototype,"game.RankVO")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t}();t.ShuoMingVO=e,__reflect(e.prototype,"game.ShuoMingVO")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Activity.UI_Activity.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fak",t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e}(PopModuleView);t.ActivityModule=e,__reflect(e.prototype,"game.ActivityModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.code="",e}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.BuyCard.UI_BuyCard.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_btn_close.addClickListener(this.onCloseClick,this),this.mContent.m_txt_input.addEventListener(egret.TextEvent.CHANGE,this.inputHandle,this),t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e.prototype.inputHandle=function(t){this.code=this.code+t.currentTarget.text,this.code=this.code.substr(0,6),this.mContent.m_txt_input.text="";for(var e=this.code.split(""),n=0;6>n;n++)null!=e[n]&&""!=e[n]?this.mContent["m_txt_input"+(n+1)].text=e[n]:this.mContent["m_txt_input"+(n+1)].text=""},e}(PopModuleView);t.BuyCardModule=e,__reflect(e.prototype,"game.BuyCardModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Game.UI_ChatModule.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e}(PopModuleView);t.ChatModule=e,__reflect(e.prototype,"game.ChatModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.maxHuaSe=0,t.selectHuaSe=0,t}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.CreateRoom.UI_CreateRoom.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(t){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5faj",this.mContent.m_btn_type0.addClickListener(this.tabChange,this),this.mContent.m_btn_type1.addClickListener(this.tabChange,this),this.mContent.m_btn_type2.addClickListener(this.tabChange,this),this.mContent.m_btn_type3.addClickListener(this.tabChange,this),this.mContent.m_btn_type4.addClickListener(this.tabChange,this),this.mContent.m_radio_huase1.addClickListener(this.huaseAdd,this),this.mContent.m_radio_huase2.addClickListener(this.huaseAdd,this),this.mContent.m_radio_huase3.addClickListener(this.huaseAdd,this),this.mContent.m_radio_huase4.addClickListener(this.huaseAdd,this),this.tabChange(null),this.mContent.m_btn_buy.addClickListener(this.onBuyHandle,this),this.mContent.m_btn_create.addClickListener(this.onCreateHandle,this),e.prototype.preShow.call(this,t)},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.tabChange=function(t){switch(this.mContent.m_typeCtrl.selectedIndex){case 0:this.mContent.m_payCtrl.selectedIndex=1,this.mContent.m_JuShuCtrl.selectedIndex=0,this.mContent.m_NumCtrl.selectedIndex=2,this.mContent.m_checkbox_zhuang.selected=!1,this.mContent.m_checkbox_mapai.selected=!1,this.maxHuaSe=0;break;case 1:this.mContent.m_payCtrl.selectedIndex=1,this.mContent.m_JuShuCtrl.selectedIndex=0,this.mContent.m_NumCtrl.selectedIndex=3,this.mContent.m_NumCtrl1.selectedIndex=1,this.mContent.m_checkbox_zhuang.selected=!1,this.mContent.m_checkbox_mapai.selected=!1,this.maxHuaSe=1;break;case 2:this.mContent.m_payCtrl.selectedIndex=1,this.mContent.m_JuShuCtrl.selectedIndex=0,this.mContent.m_NumCtrl.selectedIndex=2,this.mContent.m_NumCtrl1.selectedIndex=1,this.mContent.m_checkbox_zhuang.selected=!1,this.mContent.m_checkbox_mapai.selected=!1,this.maxHuaSe=1;break;case 3:this.mContent.m_payCtrl.selectedIndex=1,this.mContent.m_JuShuCtrl.selectedIndex=0,this.mContent.m_NumCtrl.selectedIndex=0,this.mContent.m_NumCtrl1.selectedIndex=2,this.mContent.m_checkbox_zhuang.selected=!1,this.mContent.m_checkbox_mapai.selected=!1,this.maxHuaSe=2;break;case 4:this.mContent.m_payCtrl.selectedIndex=1,this.mContent.m_JuShuCtrl.selectedIndex=0,this.mContent.m_NumCtrl.selectedIndex=0,this.mContent.m_NumCtrl1.selectedIndex=0,this.mContent.m_checkbox_zhuang.selected=!1,this.mContent.m_checkbox_mapai.selected=!1,this.maxHuaSe=1}for(var e=1;5>e;e++)this.mContent["m_radio_huase"+e].selected=!1;this.mContent.m_radio_huase1.selected=!0,3==this.mContent.m_typeCtrl.selectedIndex?this.mContent.m_num1.text="6人":4==this.mContent.m_typeCtrl.selectedIndex?(this.mContent.m_num1.text="2人",this.mContent.m_num2.text="5人",this.mContent.m_num3.text="6人"):(this.mContent.m_num1.text="2人",this.mContent.m_num2.text="3人",this.mContent.m_num3.text="4人"),this.selectHuaSe=1},n.prototype.huaseAdd=function(e){if(1==this.maxHuaSe){for(var n=1;5>n;n++)this.mContent["m_radio_huase"+n].selected=!1;e.currentTarget.asButton.selected=!0,this.selectHuaSe=1}else 1==e.currentTarget.asButton.selected?this.selectHuaSe+=1:this.selectHuaSe-=1,this.maxHuaSe<this.selectHuaSe&&(e.currentTarget.asButton.selected=1==e.currentTarget.asButton.selected?!1:!0,this.selectHuaSe=this.maxHuaSe,t.AlertUtil.floatMsg("最多只能选择2个花色"))},n.prototype.onBuyHandle=function(){ModuleMgr.ins.showModule(ModuleEnum.BUY_CARD),t.ServerEngine.leaveRooom()},n.prototype.onCreateHandle=function(){var e=this.getRoomInfo();t.ServerEngine.createRoom(e[0],e[1],2,e[3],e[4],e[5],e[6],core.Handler.create(this,this.createRoomCallBack))},n.prototype.getRoomInfo=function(){var t=2,e=2,n=6,o=1,i=0,r=1,s=[];switch(r=this.mContent.m_payCtrl.selectedIndex+1,o=this.mContent.m_checkbox_zhuang.selected?1:0,i=this.mContent.m_checkbox_mapai.selected?1:0,this.mContent.m_JuShuCtrl.selectedIndex){case 0:n=6;break;case 1:n=12;break;case 2:n=18}switch(this.mContent.m_NumCtrl.selectedIndex){case 0:e=2,3==this.mContent.m_typeCtrl.selectedIndex&&(e=6);break;case 1:e=3,4==this.mContent.m_typeCtrl.selectedIndex&&(e=5);break;case 2:e=4,5==this.mContent.m_typeCtrl.selectedIndex&&(e=6);break;case 3:e=5}return this.mContent.m_radio_huase1.selected&&s.push(0),this.mContent.m_radio_huase2.selected&&s.push(1),this.mContent.m_radio_huase3.selected&&s.push(2),this.mContent.m_radio_huase4.selected&&s.push(3),[t,e,n,o,i,r,s]},n.prototype.createRoomCallBack=function(e){App.Socket.removeCmdListener(MsgType.CreateRoom,this.createRoomCallBack),App.MessageCenter.addListener(t.MsgEnum.NEW_UESR_IN,this.enterRoomCallBack,this),t.ServerEngine.enterRoom(e.rid)},n.prototype.enterRoomCallBack=function(e){e.uid==t.GameModel.ins.uid&&(App.MessageCenter.removeListener(t.MsgEnum.NEW_UESR_IN,this.enterRoomCallBack,this),ModuleMgr.ins.changeScene(ModuleEnum.GAME_MAIN,ModuleEnum.GAME))},n}(PopModuleView);t.CreateRoomModule=e,__reflect(e.prototype,"game.CreateRoomModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=new fairygui.GComponent,this.content.width=LayerCenter.stageWidth,this.content.height=LayerCenter.stageHeight},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(e){this.preShowCpl(),this.mContent.touchable=!1,App.MessageCenter.addListener(t.MsgEnum.FLOAT_MSG,this.floatMsg,this)},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.floatMsg=function(e,n){if(e==MsgType.LeaveRoom)t.AlertUtil.alert("您确定解散房间吗？",core.Handler.create(this,this.doQuit));else{var o=UI.Base.UI_FloatMsg.createInstance();o.m_txt.text=n,o.x=LayerCenter.stageWidth/2,o.y=LayerCenter.stageHeight/2+50,this.mContent.addChild(o),egret.Tween.get(o).to({y:LayerCenter.stageHeight/2-150},800).call(function(){App.DisplayUtils.removeFromParent(o.displayObject),o.dispose(),o=null},this)}},n.prototype.doQuit=function(){t.ServerEngine.askForDismiss()},n}(Module);t.FloatMsgModule=e,__reflect(e.prototype,"game.FloatMsgModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Game.UI_DissolveRoom.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e.prototype.onCloseHandle=function(){},e}(PopModuleView);t.DissolveRoomModule=e,__reflect(e.prototype,"game.DissolveRoomModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Game.UI_Game.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(e){this.mContent.m_btn_ready.addClickListener(this.onReadyHandle,this),this.mContent.m_btn_check.addClickListener(this.ShowPutPorkModule,this),this.mContent.m_btn_help.addClickListener(this.onHelp,this),this.mContent.m_btn_setting.addClickListener(this.onSetting,this),this.mContent.m_btn_quit.addClickListener(this.onQuit,this),this.mContent.m_btn_chat.addClickListener(this.onChat,this),this.mContent.m_btn_invite.visible=!1,this.mContent.m_btn_check.visible=!1,this.mContent.m_img_start.visible=!1,this.setHead(),this.preShowCpl(),this.mContent.m_playerNumCtrl.selectedPage=t.GameModel.ins.roomModel.rinfo.pn.toString();for(var n=0;n<t.GameModel.ins.roomModel.users.length;n++)this.UserIn(t.GameModel.ins.roomModel.users[n]);App.MessageCenter.addListener(t.MsgEnum.NEW_UESR_IN,this.UserIn,this),App.MessageCenter.addListener(t.MsgEnum.NEW_UESR_OUT,this.UserOut,this),App.MessageCenter.addListener(t.MsgEnum.NEW_UESR_READY,this.UserReady,this),App.MessageCenter.addListener(t.MsgEnum.NEW_UESR_READY_CANCEL,this.UserReadyCancel,this),App.MessageCenter.addListener(t.MsgEnum.GAME_FAPAI,this.FaPai,this),App.MessageCenter.addListener(t.MsgEnum.GAME_BAIPAI,this.BaiPaiCallBack,this),App.MessageCenter.addListener(t.MsgEnum.GAME_SINGLE_RESULT,this.showSingleResult,this),App.MessageCenter.addListener(t.MsgEnum.GAME_RESTART,this.gameRestart,this),App.MessageCenter.addListener(t.MsgEnum.GAME_USER_DIAOXIAN,this.UserDiaoXian,this),App.MessageCenter.addListener(t.MsgEnum.GAME_USER_DIAOXIAN_BACK,this.UserDiaoXianBack,this)},n.prototype.setHead=function(){this.head1=this.mContent.m_head1,this.head2=this.mContent.m_head2,this.head3=this.mContent.m_head3,this.head4=this.mContent.m_head4,this.head5=this.mContent.m_head5,this.head6=this.mContent.m_head6,this.head2.m_ctrlPos.selectedIndex=1,this.head3.m_ctrlPos.selectedIndex=1,this.head4.m_ctrlPos.selectedIndex=1;for(var t=0;6>t;t++)this["head"+(t+1)].init();this.headAry=[[this.head1,this.head4],[this.head1,this.head3,this.head5],[this.head1,this.head3,this.head4,this.head5],[this.head1,this.head2,this.head3,this.head5,this.head6],[this.head1,this.head2,this.head3,this.head4,this.head5,this.head6]],this.curHeadAry=this.headAry[this.mContent.m_playerNumCtrl.selectedIndex]},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.UserIn=function(t){for(var e=0;e<this.curHeadAry.length;e++)if(0==this.curHeadAry[e].isInit){this.curHeadAry[e].setData(t);break}},n.prototype.UserOut=function(e){if(e.uid==t.GameModel.ins.uid)this.leaveRoomCallBack();else{var n=this.getPlayerById(e.uid);null!=n&&n.init()}},n.prototype.onReadyHandle=function(){t.ServerEngine.sendReady()},n.prototype.UserReady=function(e){var n=this.getPlayerById(e.uid);null!=n&&(n.onReady(),e.uid==t.GameModel.ins.uid&&(this.mContent.m_btn_ready.visible=!1))},n.prototype.UserReadyCancel=function(){this.mContent.m_btn_ready.visible=!1},n.prototype.FaPai=function(){this.mContent.m_img_start.visible=!0,this.mContent.m_t1.play(this.onStartEffectComplete,this)},n.prototype.onStartEffectComplete=function(){this.mContent.m_img_start.visible=!1;for(var t=0;t<this.curHeadAry.length;t++)this.curHeadAry[t].onFaPai(),this.curHeadAry[t].pokers.init();App.TimerManager.doTimer(2e3,1,this.DoFaPai,this)},n.prototype.DoFaPai=function(){ModuleMgr.ins.showModule(ModuleEnum.GAME_PUT_PORK)},n.prototype.ShowPutPorkModule=function(){ModuleMgr.ins.showModule(ModuleEnum.GAME_PUT_PORK)},n.prototype.BaiPaiCallBack=function(t){this.getPlayerById(t.uid).onBaiPaiEnd()},n.prototype.showSingleResult=function(){var t=this;this.doShowSingleResult().then(function(){return t.daQiang()})["catch"](function(t){return console.log("Exception happened:",t)})},n.prototype.doShowSingleResult=function(){return __awaiter(this,void 0,void 0,function(){var e,n,o,i,r;return __generator(this,function(s){switch(s.label){case 0:e=t.GameModel.ins.roundModel,n=0,s.label=1;case 1:if(!(3>n))return[3,6];o=0,s.label=2;case 2:return o<e.result.cards.length?[4,this.sleep(800)]:[3,5];case 3:s.sent(),i=e.result.cards[o].uid,r=this.getPlayerById(i),r.showResult(n,e.result.cards[o]),s.label=4;case 4:return o++,[3,2];case 5:return n++,[3,1];case 6:return[2]}})})},n.prototype.daQiang=function(){this.qiang=UI.Game.UI_DaQiang.createInstance(),this.mContent.addChild(this.qiang),this.qiang.x=this.getPlayerById(t.GameModel.ins.uid).x,this.qiang.y=this.getPlayerById(t.GameModel.ins.uid).y,this.qiang.m_t0.play(this.daQiangComplete,this)},n.prototype.daQiangComplete=function(){App.DisplayUtils.removeFromParent(this.qiang.displayObject),this.qiang=null,ModuleMgr.ins.showModule(ModuleEnum.GAME_SINGLE_RESULT)},n.prototype.gameRestart=function(){for(var t=0;t<this.curHeadAry.length;t++)this.curHeadAry[t].restart(),this.mContent.m_btn_ready.visible=!0},n.prototype.onHelp=function(){ModuleMgr.ins.showModule(ModuleEnum.GAME_HELP)},n.prototype.onSetting=function(){ModuleMgr.ins.showModule(ModuleEnum.SETTING)},n.prototype.onQuit=function(){t.ServerEngine.leaveRooom()},n.prototype.onChat=function(){ModuleMgr.ins.showModule(ModuleEnum.CHAT)},n.prototype.leaveRoomCallBack=function(){t.GameModel.ins.disMissRoom(),ModuleMgr.ins.changeScene(ModuleEnum.GAME,ModuleEnum.GAME_MAIN)},n.prototype.UserDiaoXian=function(t){this.getPlayerById(t.uid).setDiaoXian(!0)},n.prototype.UserDiaoXianBack=function(t){},n.prototype.getPlayerById=function(t){for(var e=0;e<this.curHeadAry.length;e++)if(this.curHeadAry[e].user.uid==t)return this.curHeadAry[e];return null},n.prototype.sleep=function(t){return void 0===t&&(t=0),new Promise(function(e){return setTimeout(e,t)})},n.prototype.preClose=function(e){App.MessageCenter.removeListener(t.MsgEnum.NEW_UESR_IN,this.UserIn,this),App.MessageCenter.removeListener(t.MsgEnum.NEW_UESR_OUT,this.UserOut,this),App.MessageCenter.removeListener(t.MsgEnum.NEW_UESR_READY,this.UserReady,this),App.MessageCenter.removeListener(t.MsgEnum.NEW_UESR_READY_CANCEL,this.UserReadyCancel,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_FAPAI,this.FaPai,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_BAIPAI,this.BaiPaiCallBack,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_SINGLE_RESULT,this.showSingleResult,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_RESTART,this.gameRestart,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_USER_DIAOXIAN,this.UserDiaoXian,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_USER_DIAOXIAN_BACK,this.UserDiaoXianBack,this),this.preCloseCpl()},n}(Module);t.Game=e,__reflect(e.prototype,"game.Game")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.isInit=!1,t}return __extends(n,e),Object.defineProperty(n.prototype,"pokers",{get:function(){return this.m_pokers},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.isInit=!1,this.user=null,this.m_ctrlState.selectedIndex=4,this.visible=!1,this.m_lixian.visible=!1},n.prototype.setData=function(e){this.visible=!0,this.m_ctrlState.selectedIndex=0,this.user=e,this.isInit=!0,this.m_name.text=this.user.name,this.user.uid==t.GameModel.ins.roomModel.fuid?this.m_img_fz.visible=!0:this.m_img_fz.visible=!1,1==this.user.status&&this.onReady()},n.prototype.setDiaoXian=function(t){this.m_lixian.visible=t},n.prototype.restart=function(){this.m_ctrlState.selectedIndex=0},n.prototype.onReady=function(){this.m_ctrlState.selectedIndex=1},n.prototype.onFaPai=function(){this.m_ctrlState.selectedIndex=2,this.pokers.init()},n.prototype.onBaiPaiEnd=function(){this.m_ctrlState.selectedIndex=3,this.pokers.m_c1.selectedIndex=1},n.prototype.showResult=function(t,e){this.m_img_finish.visible=!1,this.pokers.showResult(t,e)},n}(UI.Game.UI_PlayerHead);t.PlayerHead=e,__reflect(e.prototype,"game.PlayerHead")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){this.m_qiangyan.visible=!1,this.m_c1.selectedIndex=0;for(var t=0;13>t;t++){var e=this["m_pork"+t];e.x=-26,e.m_ctrlstate.selectedIndex=0,egret.Tween.get(e,{loop:!1}).to({x:-26+20*t},300)}},e.prototype.showResult=function(t,e){var n=0,o=0;0==t?(n=0,o=3):1==t?(n=3,o=8):2==t&&(n=8,o=13);for(var i=n;o>i;i++){var r=this["m_pork"+i];r.showResult(e.cards[i])}},e.prototype.showQiangYan=function(){this.m_qiangyan.visible=!0},e}(UI.Game.UI_PlayerPokers);t.PlayerPokers=e,__reflect(e.prototype,"game.PlayerPokers")}(game||(game={}));var game;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.selectState=!1,e}return __extends(e,t),e.prototype.setData=function(t){this.vo=t,this.m_txt1.font=this.vo.font,this.m_txt2.font=this.vo.font,this.m_txt_type1.text=String(this.vo.type),this.m_txt_type2.text=String(this.vo.type),this.m_txt1.text=this.vo.showStr,this.m_txt2.text=this.vo.showStr,this.m_ctrlstate.selectedIndex=1,this.resetState()},e.prototype.changeSelectState=function(){this.selectState=!this.selectState,1==this.selectState?this.y=-30:this.y=0},e.prototype.resetState=function(){this.selectState=!1,this.y=0},e.prototype.showResult=function(t){this.vo=t,this.m_txt1.font=this.vo.font,this.m_txt2.font=this.vo.font,this.m_txt_type1.text=String(this.vo.type),this.m_txt_type2.text=String(this.vo.type),this.m_txt1.text=this.vo.showStr,this.m_txt2.text=this.vo.showStr,this.m_ctrlstate.selectedIndex=1},e}(UI.Game.UI_Pork);t.Pork=e,__reflect(e.prototype,"game.Pork")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Game.UI_PutPork.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(e){this.RenderList(),this.mContent.m_btntype1.addClickListener(this.onChooseType,this),this.mContent.m_btntype2.addClickListener(this.onChooseType,this),this.mContent.m_btntype3.addClickListener(this.onChooseType,this),this.mContent.m_btntype4.addClickListener(this.onChooseType,this),this.mContent.m_btntype5.addClickListener(this.onChooseType,this),this.mContent.m_btntype6.addClickListener(this.onChooseType,this),this.mContent.m_btntype7.addClickListener(this.onChooseType,this),this.mContent.m_btntype8.addClickListener(this.onChooseType,this),this.mContent.m_btntype9.addClickListener(this.onChooseType,this),this.mContent.m_area_top.addClickListener(this.onAreaClick,this),this.mContent.m_area_mid.addClickListener(this.onAreaClick,this),this.mContent.m_area_down.addClickListener(this.onAreaClick,this),this.mContent.m_btntype1.m_txt.url="ui://jow5n9bqrezh1w",this.mContent.m_btntype2.m_txt.url="ui://jow5n9bqrezh1x",this.mContent.m_btntype3.m_txt.url="ui://jow5n9bqrezh1y",this.mContent.m_btntype4.m_txt.url="ui://jow5n9bqrezh1z",this.mContent.m_btntype5.m_txt.url="ui://jow5n9bqrezh20",this.mContent.m_btntype6.m_txt.url="ui://jow5n9bqrezh21",this.mContent.m_btntype7.m_txt.url="ui://jow5n9bqrezh23",this.mContent.m_btntype8.m_txt.url="ui://jow5n9bqrezh24",this.mContent.m_btntype9.m_txt.url="ui://jow5n9bqrezh22",this.mContent.m_btn_close1.visible=!1,this.mContent.m_btn_close2.visible=!1,this.mContent.m_btn_close3.visible=!1,this.mContent.m_btn_close1.addClickListener(this.onCloseSelect,this),this.mContent.m_btn_close2.addClickListener(this.onCloseSelect,this),this.mContent.m_btn_close3.addClickListener(this.onCloseSelect,this),this.mContent.m_btn_cancel.addClickListener(this.onReset,this),this.mContent.m_btn_ok.addClickListener(this.onOk,this),this.mContent.m_btn_help.addClickListener(this.onHelp,this),App.MessageCenter.addListener(t.MsgEnum.GAME_BAIPAI,this.BaiPaiCallBack,this),this.preShowCpl()},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.RenderList=function(){t.GameModel.ins.roundModel.listCard.length<=0?this.mContent.m_ctrl.selectedIndex=1:(this.mContent.m_ctrl.selectedIndex=0,this.porkAry=new Array,this.mContent.m_porkList.itemRenderer=this.RenderListItem,this.mContent.m_porkList.callbackThisObj=this,this.mContent.m_porkList.numItems=t.GameModel.ins.roundModel.listCard.length,this.mContent.m_porkList.addEventListener(fairygui.ItemEvent.CLICK,this.onClickPork,this),this.setBtnTypeState())},n.prototype.RenderListItem=function(e,n){var o=n,i=t.GameModel.ins.roundModel.listCard[e];o.setData(i),this.porkAry.push(o)},n.prototype.RenderTopList=function(t){this.topSelectAry=t,this.mContent.m_btn_close1.visible=this.topSelectAry.length>0?!0:!1,this.mContent.m_list_top.itemRenderer=this.RenderListItemTop,this.mContent.m_list_top.callbackThisObj=this,this.mContent.m_list_top.numItems=t.length},n.prototype.RenderListItemTop=function(t,e){var n=e,o=this.topSelectAry[t];n.setData(o)},n.prototype.RenderMidList=function(t){this.midSelectAry=t,this.mContent.m_btn_close2.visible=this.midSelectAry.length>0?!0:!1,this.mContent.m_list_mid.itemRenderer=this.RenderListItemMid,this.mContent.m_list_mid.callbackThisObj=this,this.mContent.m_list_mid.numItems=t.length},n.prototype.RenderListItemMid=function(t,e){var n=e,o=this.midSelectAry[t];n.setData(o)},n.prototype.RenderDownList=function(t){this.downSelectAry=t,this.mContent.m_btn_close3.visible=this.downSelectAry.length>0?!0:!1,this.mContent.m_list_down.itemRenderer=this.RenderListItemDown,this.mContent.m_list_down.callbackThisObj=this,this.mContent.m_list_down.numItems=t.length},n.prototype.RenderListItemDown=function(t,e){var n=e,o=this.downSelectAry[t];n.setData(o)},n.prototype.onClickPork=function(t){var e=t.itemObject;e.changeSelectState()},n.prototype.setBtnTypeState=function(){this.mContent.m_btntype1.enabled=t.GameModel.ins.roundModel.duizi.length>0,this.mContent.m_btntype2.enabled=t.GameModel.ins.roundModel.liadui.length>0,this.mContent.m_btntype3.enabled=t.GameModel.ins.roundModel.santiao.length>0,this.mContent.m_btntype4.enabled=t.GameModel.ins.roundModel.shunzi.length>0,this.mContent.m_btntype5.enabled=t.GameModel.ins.roundModel.tonghua.length>0,this.mContent.m_btntype6.enabled=t.GameModel.ins.roundModel.hulu.length>0,this.mContent.m_btntype7.enabled=t.GameModel.ins.roundModel.tiezhi.length>0,this.mContent.m_btntype8.enabled=t.GameModel.ins.roundModel.tonghuashun.length>0,this.mContent.m_btntype9.enabled=t.GameModel.ins.roundModel.wutong.length>0},n.prototype.onChooseType=function(t){var e=t.currentTarget.name;this.findClickTypePork(e)},n.prototype.findClickTypePork=function(e){for(var n=t.GameModel.ins.roundModel.getTypeByClick(e),o=0;o<this.porkAry.length;o++){this.porkAry[o].resetState();for(var i=0;i<n.length;i++)if(this.porkAry[o].vo==n[i]){this.porkAry[o].changeSelectState();break}}},n.prototype.onAreaClick=function(e){var n=e.currentTarget.name,o=this.getSelectPokerAry();switch(n){case"area_top":if(this.mContent.m_list_top.numItems>0)return;this.checkRestOnly(3),3==o.length&&(t.GameModel.ins.roundModel.listCard=this.getRestPokerAry(o),this.RenderList(),this.RenderTopList(o));break;case"area_mid":if(this.mContent.m_list_mid.numItems>0)return;this.checkRestOnly(5),5==o.length&&(t.GameModel.ins.roundModel.listCard=this.getRestPokerAry(o),this.RenderList(),this.RenderMidList(o));break;case"area_down":if(this.mContent.m_list_down.numItems>0)return;this.checkRestOnly(5),5==o.length&&(t.GameModel.ins.roundModel.listCard=this.getRestPokerAry(o),this.RenderList(),this.RenderDownList(o))
}},n.prototype.getSelectPokerAry=function(){for(var t=[],e=0;e<this.porkAry.length;e++){var n=this.porkAry[e];1==n.selectState&&t.push(n.vo)}return t},n.prototype.getRestPokerAry=function(t){for(var e=[],n=0;n<this.porkAry.length;n++){for(var o=this.porkAry[n],i=!0,r=0;r<t.length;r++)if(o.vo==t[r]){i=!1;break}1==i&&e.push(o.vo)}return e},n.prototype.onCloseSelect=function(e){var n=e.currentTarget.name;switch(n){case"btn_close1":t.GameModel.ins.roundModel.listCard=t.GameModel.ins.roundModel.listCard.concat(this.topSelectAry),this.RenderList(),this.RenderTopList([]);break;case"btn_close2":t.GameModel.ins.roundModel.listCard=t.GameModel.ins.roundModel.listCard.concat(this.midSelectAry),this.RenderList(),this.RenderMidList([]);break;case"btn_close3":t.GameModel.ins.roundModel.listCard=t.GameModel.ins.roundModel.listCard.concat(this.downSelectAry),this.RenderList(),this.RenderDownList([])}},n.prototype.onReset=function(){t.GameModel.ins.roundModel.listCard=t.GameModel.ins.roundModel.myCard,this.RenderList(),this.RenderTopList([]),this.RenderMidList([]),this.RenderDownList([]),this.mContent.m_ctrl.selectedIndex=0},n.prototype.onOk=function(){var e=new C2T_Message_BaiPai;e.cards=t.PorkUtil.ChangeClientArrToServer(this.topSelectAry).concat(t.PorkUtil.ChangeClientArrToServer(this.midSelectAry),t.PorkUtil.ChangeClientArrToServer(this.downSelectAry)),e.mb=0,t.ServerEngine.sendBaiPai(e)},n.prototype.BaiPaiCallBack=function(e){e.uid==t.GameModel.ins.uid&&ModuleMgr.ins.closeModule(ModuleEnum.GAME_PUT_PORK)},n.prototype.checkRestOnly=function(e){if(t.GameModel.ins.roundModel.listCard.length==e)for(var n=0;n<this.porkAry.length;n++)this.porkAry[n].resetState(),this.porkAry[n].changeSelectState()},n.prototype.onHelp=function(){ModuleMgr.ins.showModule(ModuleEnum.GAME_HELP)},n.prototype.preClose=function(n){this.onReset(),this.mContent.m_btntype1.removeClickListener(this.onChooseType,this),this.mContent.m_btntype2.removeClickListener(this.onChooseType,this),this.mContent.m_btntype3.removeClickListener(this.onChooseType,this),this.mContent.m_btntype4.removeClickListener(this.onChooseType,this),this.mContent.m_btntype5.removeClickListener(this.onChooseType,this),this.mContent.m_btntype6.removeClickListener(this.onChooseType,this),this.mContent.m_btntype7.removeClickListener(this.onChooseType,this),this.mContent.m_btntype8.removeClickListener(this.onChooseType,this),this.mContent.m_btntype9.removeClickListener(this.onChooseType,this),this.mContent.m_area_top.removeClickListener(this.onAreaClick,this),this.mContent.m_area_mid.removeClickListener(this.onAreaClick,this),this.mContent.m_area_down.removeClickListener(this.onAreaClick,this),this.mContent.m_btn_close1.removeClickListener(this.onCloseSelect,this),this.mContent.m_btn_close2.removeClickListener(this.onCloseSelect,this),this.mContent.m_btn_close3.removeClickListener(this.onCloseSelect,this),this.mContent.m_btn_cancel.removeClickListener(this.onReset,this),this.mContent.m_btn_ok.removeClickListener(this.onOk,this),this.mContent.m_btn_help.removeClickListener(this.onHelp,this),App.MessageCenter.removeListener(t.MsgEnum.GAME_BAIPAI,this.BaiPaiCallBack,this),this.porkAry=null,this.RenderTopList([]),this.RenderMidList([]),this.RenderDownList([]),e.prototype.preClose.call(this,n)},n}(PopModuleView);t.PutPorkModule=e,__reflect(e.prototype,"game.PutPorkModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.GameHelper.UI_GameHelper.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80rezh18",t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e}(PopModuleView);t.GameHelpModule=e,__reflect(e.prototype,"game.GameHelpModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.MainUI.UI_MainModule.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(t){this.mContent.m_btn_kefu.addClickListener(this.onKefuClick,this),this.mContent.m_btn_notice.addClickListener(this.onNoticeClick,this),this.mContent.m_btn_mail.addClickListener(this.onMailClick,this),this.mContent.m_btn_shuoming.addClickListener(this.onShuoMingClick,this),this.mContent.m_btn_setting.addClickListener(this.onSettingClick,this),this.mContent.m_btn_zhanji.addClickListener(this.onZhanjiClick,this),this.mContent.m_btn_rank.addClickListener(this.onRankClick,this),this.mContent.m_btn_activity.addClickListener(this.onActivityClick,this),this.mContent.m_sp_add.addClickListener(this.onJoinRoom,this),this.mContent.m_sp_create.addClickListener(this.onCreateRoom,this),this.mContent.m_sp_quan.addClickListener(this.onQuan,this),this.mContent.m_btn_buyCard.addClickListener(this.onBuyCard,this),this.mContent.m_btn_add.addClickListener(this.onBuyCard,this),this.updatePlayerInfo(),this.preShowCpl()},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.updatePlayerInfo=function(){this.mContent.m_txt_name.text=t.GameModel.ins.uname,this.mContent.m_txt_id.text="ID:"+t.GameModel.ins.uid,this.mContent.m_txt_card.text=t.GameModel.ins.card.toString()},n.prototype.onMailClick=function(){ModuleMgr.ins.showModule(ModuleEnum.MAIL)},n.prototype.onShuoMingClick=function(){ModuleMgr.ins.showModule(ModuleEnum.SHUOMING)},n.prototype.onNoticeClick=function(){ModuleMgr.ins.showModule(ModuleEnum.NOTICE)},n.prototype.onSettingClick=function(){ModuleMgr.ins.showModule(ModuleEnum.SETTING)},n.prototype.onKefuClick=function(){ModuleMgr.ins.showModule(ModuleEnum.KEFU)},n.prototype.onZhanjiClick=function(){ModuleMgr.ins.showModule(ModuleEnum.ZHANJI)},n.prototype.onRankClick=function(){ModuleMgr.ins.showModule(ModuleEnum.RANK)},n.prototype.onActivityClick=function(){ModuleMgr.ins.showModule(ModuleEnum.ACTIVITY)},n.prototype.onJoinRoom=function(){ModuleMgr.ins.showModule(ModuleEnum.JOINROOM)},n.prototype.onCreateRoom=function(){ModuleMgr.ins.showModule(ModuleEnum.CREATE_ROOM)},n.prototype.onBuyCard=function(){ModuleMgr.ins.showModule(ModuleEnum.BUY_CARD)},n.prototype.onQuan=function(){t.AlertUtil.floatMsg("牌友圈未开放，尽情期待")},n}(Module);t.GameMainModule=e,__reflect(e.prototype,"game.GameMainModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Base.UI_SimpleAlert.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.vo=e,this.mContent.m_content.text=this.vo.content,this.mContent.m_btn_ok.addClickListener(this.onOkClick,this),this.mContent.m_btn_cancel.addClickListener(this.onCancelClick,this),t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e.prototype.onOkClick=function(){null!=this.vo.handleYes&&this.vo.handleYes.run(),ModuleMgr.ins.closeModule(this.moduleId)},e.prototype.onCancelClick=function(){null!=this.vo.handleNo&&this.vo.handleNo.run(),ModuleMgr.ins.closeModule(this.moduleId)},e}(PopModuleView);t.AlertModule=e,__reflect(e.prototype,"game.AlertModule")}(game||(game={}));var game;!function(t){var e=function(){function t(t,e,n){this.content=t,this.handleYes=e,this.handleNo=n}return t}();t.AlertMsgVO=e,__reflect(e.prototype,"game.AlertMsgVO")}(game||(game={}));var game;!function(t){var e=function(){function e(){}return e.alert=function(e,n){ModuleMgr.ins.showModule(ModuleEnum.ALERT,new t.AlertMsgVO(e,n,null))},e.floatMsg=function(e){App.MessageCenter.dispatch(t.MsgEnum.FLOAT_MSG,e)},e}();t.AlertUtil=e,__reflect(e.prototype,"game.AlertUtil")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Result.UI_AllResult.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(t){this.mContent.m_btn_back.addClickListener(this.onBack,this),this.mContent.m_btn_check.addClickListener(this.onCheck,this),e.prototype.preShow.call(this,t)},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.onBack=function(){t.GameModel.ins.disMissRoom(),ModuleMgr.ins.changeScene(ModuleEnum.GAME_SINGLE_RESULT,ModuleEnum.GAME_MAIN)},n.prototype.onCheck=function(){},n}(Module);t.AllResultModule=e,__reflect(e.prototype,"game.AllResultModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(t){this.porkVOArr=t.cards,this.m_txt_id.text="ID:"+t.uid,this.m_list.itemRenderer=this.RenderListItem,this.m_list.callbackThisObj=this,this.m_list.numItems=this.porkVOArr.length},e.prototype.RenderListItem=function(t,e){var n=e;n.setData(this.porkVOArr[t])},e}(UI.Result.UI_SingleResultItem);t.SingleResultItem=e,__reflect(e.prototype,"game.SingleResultItem")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Result.UI_SingleResult.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(n){this.mContent.m_btn_continue.addClickListener(this.onContinue,this),this.mContent.m_btn_check.addClickListener(this.onCheck,this),this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=t.GameModel.ins.roundModel.result.cards.length,e.prototype.preShow.call(this,n)},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.onContinue=function(){t.GameModel.ins.roomModel.isAllFinish?ModuleMgr.ins.changeScene(ModuleEnum.GAME,ModuleEnum.GAME_ALL_RESULT):ModuleMgr.ins.closeModule(ModuleEnum.GAME_SINGLE_RESULT)},n.prototype.RenderListItem=function(e,n){var o=n;o.setData(t.GameModel.ins.roundModel.result.cards[e])},n.prototype.onCheck=function(){},n}(Module);t.SingleResultModule=e,__reflect(e.prototype,"game.SingleResultModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.enterNumber="",t}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.AddRoom.UI_AddRoom.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(t){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fal";for(var n=0;10>n;n++)this.mContent["m_btn"+n].addClickListener(this.onClickNum,this);this.mContent.m_btndel.addClickListener(this.onDel,this),this.mContent.m_btnreset.addClickListener(this.onReset,this),this.updateCode(),e.prototype.preShow.call(this,t)},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.onClickNum=function(t){var e=t.target.name.slice(3,4);this.enterNumber.length<6&&(this.enterNumber=this.enterNumber.concat(e)),this.updateCode()},n.prototype.onDel=function(){this.enterNumber=this.enterNumber.slice(0,this.enterNumber.length-1),this.updateCode()},n.prototype.onReset=function(){this.enterNumber="",this.updateCode()},n.prototype.updateCode=function(){for(var e=this.enterNumber.split(""),n=0;6>n;n++)null!=e[n]?this.mContent["m_txt"+(n+1)].text=e[n]:this.mContent["m_txt"+(n+1)].text="";6==this.enterNumber.length&&(t.ServerEngine.enterRoom(Number(this.enterNumber)),App.MessageCenter.addListener(t.MsgEnum.NEW_UESR_IN,this.enterRoomCallBack,this))},n.prototype.enterRoomCallBack=function(e){e.uid==t.GameModel.ins.uid&&(App.MessageCenter.removeListener(t.MsgEnum.NEW_UESR_IN,this.enterRoomCallBack,this),ModuleMgr.ins.changeScene(ModuleEnum.GAME_MAIN,ModuleEnum.GAME))},n}(PopModuleView);t.JoinRoomModule=e,__reflect(e.prototype,"game.JoinRoomModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Kefu.UI_KeFu.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fam",t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e}(PopModuleView);t.KeFuModule=e,__reflect(e.prototype,"game.KeFuModule")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Loading.UI_LoadingModule.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(t){this.preShowCpl()},n.prototype.show=function(t){App.Socket.connect(core.Handler.create(this,this.onServerConnected)),e.prototype.show.call(this,t)},n.prototype.onServerConnected=function(){this.mContent.m_btn_start.addClickListener(this.doStart,this)},n.prototype.doStart=function(){if(""!=this.mContent.m_txt_name.text){this.uid=this.mContent.m_txt_name.text,App.Socket.addCmdListener(MsgType.Login,core.Handler.create(this,this.loginCallBack));var t=new C2T_Login;t.Msg.name="Jack"+this.uid,t.Msg.wid=this.uid,t.Msg.mid="123456"+App.MathUtils.random(1,1e3),t.Msg.head="http://www.touxiang.cn/uploads/20131110/10-010858_115.jpg",t.Msg.chid="",App.Socket.send(t)}},n.prototype.loginCallBack=function(e){App.Socket.removeCmdListener(MsgType.Login,this.loginCallBack),RES.loadGroup("game",0,this),App.Socket.addCmdListener(MsgType.ReConnect,core.Handler.create(this,this.reConnectCallBack)),t.ServerEngine.sendBeart()},n.prototype.reConnectCallBack=function(e){t.GameModel.ins.setReConnectInfo(e)},n.prototype.onProgress=function(t,e){this.mContent.m_bar.max=e,this.mContent.m_bar.value=t,t==e&&this.startGame()},n.prototype.startGame=function(){fairygui.UIPackage.addPackage("Base"),fairygui.UIPackage.addPackage("MainUI"),fairygui.UIPackage.addPackage("Mail"),fairygui.UIPackage.addPackage("Kefu"),fairygui.UIPackage.addPackage("Notice"),fairygui.UIPackage.addPackage("ZhanJi"),fairygui.UIPackage.addPackage("Activity"),fairygui.UIPackage.addPackage("AddRoom"),fairygui.UIPackage.addPackage("CreateRoom"),fairygui.UIPackage.addPackage("BuyCard"),fairygui.UIPackage.addPackage("Setting"),fairygui.UIPackage.addPackage("ShuoMing"),fairygui.UIPackage.addPackage("Game"),fairygui.UIPackage.addPackage("Bg1"),fairygui.UIPackage.addPackage("Bg2"),fairygui.UIPackage.addPackage("Bg3"),fairygui.UIPackage.addPackage("Bg4"),fairygui.UIPackage.addPackage("MainBg"),fairygui.UIPackage.addPackage("PutPorkBg"),fairygui.UIPackage.addPackage("GameHelper"),fairygui.UIPackage.addPackage("Rank"),fairygui.UIPackage.addPackage("Result"),ModuleMgr.ins.closeModule(ModuleEnum.LOADING),ModuleMgr.ins.showModule(ModuleEnum.FLOAT),t.GameModel.ins.reConnectInRoom?ModuleMgr.ins.showModule(ModuleEnum.GAME,[]):ModuleMgr.ins.showModule(ModuleEnum.GAME_MAIN,[])},n}(Module);t.LoadingModule=e,__reflect(e.prototype,"game.LoadingModule",["RES.PromiseTaskReporter"])}(game||(game={}));var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){egret.lifecycle.addLifecycleListener(function(t){t.onUpdate=function(){}}),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.doTest=function(){game.GameModel.ins.createRoundTest();var t=game.PorkUtil.findShunZi(game.GameModel.ins.roundModel.myCard);console.log(t.length);for(var e=0;e<t.length;e++){for(var n="",o=0;o<t[e].length;o++)n+=t[e][o].point+"-";console.log(n)}},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(n){switch(n.label){case 0:return[4,this.loadPreLoadResource()];case 1:return n.sent(),this.startEngine(),[4,RES.getResAsync("description_json")];case 2:return t=n.sent(),[4,platform.login()];case 3:return n.sent(),[4,platform.getUserInfo()];case 4:return e=n.sent(),console.log(e),this.loadLoadingResource(),[2]}})})},e.prototype.loadPreLoadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t=new LoadingUI,this.stage.addChild(t),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return n.sent(),[4,RES.loadGroup("preload",0,t)];case 2:return n.sent(),this.stage.removeChild(t),[3,4];case 3:return e=n.sent(),console.error(e),[3,4];case 4:return[2]}})})},e.prototype.loadLoadingResource=function(){fairygui.UIPackage.addPackage("Loading"),ModuleMgr.ins.showModule(ModuleEnum.LOADING,[])},e.prototype.startEngine=function(){App.StageUtils.startFullscreenAdaptation(1206,750),LayerCenter.Instance.init(this.stage),App.run(this.stage),new RegModuleTask,new BindFGuiTask,new RegRunTimeClassTask,egret.ExternalInterface.addCallback("sendToTs",function(t){console.log("message form native : "+t)})},e.prototype.startGame=function(){fairygui.UIPackage.addPackage("Base")},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(){this.m_btn_read.addClickListener(this.OpenDetail,this)},e.prototype.OpenDetail=function(){ModuleMgr.ins.showModule(ModuleEnum.MAIL_DETAIL)},e}(UI.Mail.UI_MailItem);t.MailListItem=e,__reflect(e.prototype,"game.MailListItem")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Mail.UI_MailModule.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fao",this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=5,t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e.prototype.RenderListItem=function(t,e){var n=e;n.setData()},e}(PopModuleView);t.MailModule=e,__reflect(e.prototype,"game.MailModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Notice.UI_Notice.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5faq",t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e}(PopModuleView);t.NoticeModule=e,__reflect(e.prototype,"game.NoticeModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(t,e){this.m_txt_name.text=e.uname,this.m_txt_score.text=e.num,0==t?(this.m_c1.selectedIndex=0,this.m_img_rank.url="ui://ljka2qsxdu504"):1==t?(this.m_c1.selectedIndex=0,this.m_img_rank.url="ui://ljka2qsxdu503"):2==t?(this.m_c1.selectedIndex=0,this.m_img_rank.url="ui://ljka2qsxdu502"):(this.m_c1.selectedIndex=1,this.m_txt_rank.text=(t+1).toString())},e}(UI.Rank.UI_RankItem);t.RankItem=e,__reflect(e.prototype,"game.RankItem")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.Rank.UI_RankModule.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80du5019",HttpAPI.HttpGET(HttpURLs.rank,{uid:t.GameModel.ins.uid},this.onCallBack,this.onError,this)},n.prototype.onCallBack=function(e){this.preShowCpl();var n=JSON.parse(e.target.response);""==n.err?(this.result=n.data,this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=this.result.length):console.log(n.err);for(var o=0;o<this.result.length;o++)if(this.result[o].uid==t.GameModel.ins.uid){this.mContent.m_img_outrank.visible=!1,this.mContent.m_txt_rank.text=o.toString(),this.mContent.m_txt_name.text=this.result[o].uname,this.mContent.m_txt_score.text=this.result[o].num;break}},n.prototype.onError=function(t){},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.RenderListItem=function(t,e){var n=e;n.setData(t,this.result[t])},n}(PopModuleView);t.RankModule=e,__reflect(e.prototype,"game.RankModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.Setting.UI_Setting.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80h5w5w",this.mContent.m_btn_help.addClickListener(this.onHelp,this),t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e.prototype.onHelp=function(){ModuleMgr.ins.showModule(ModuleEnum.GAME_HELP)},e}(PopModuleView);t.SettingModule=e,__reflect(e.prototype,"game.SettingModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.ShuoMing.UI_ShuoMing.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fan",this.mContent.m_list.itemRenderer=this.RenderListItem,this.mContent.m_list.callbackThisObj=this,this.mContent.m_list.numItems=5,t.prototype.preShow.call(this,e)},e.prototype.RenderListItem=function(t,e){var n=e;n.setData()},e.prototype.show=function(e){t.prototype.show.call(this,e)},e}(PopModuleView);t.ShuoMingModule=e,__reflect(e.prototype,"game.ShuoMingModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(){},e}(UI.ShuoMing.UI_ShuoMingTab);t.ShuoMingTabItem=e,__reflect(e.prototype,"game.ShuoMingTabItem")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=new fairygui.GComponent},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(t){this.preShowCpl()},e.prototype.show=function(e){t.prototype.show.call(this,e),this.testSocket()},e.prototype.testSocket=function(){App.Socket.send("abcd")},e}(Module);t.TESTModule=e,__reflect(e.prototype,"game.TESTModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initContent=function(){this.content=UI.ZhanJi.UI_ZhanJiDetail.createInstance()},Object.defineProperty(e.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),e.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80rezhz",t.prototype.preShow.call(this,e)},e.prototype.show=function(e){t.prototype.show.call(this,e)},e}(PopModuleView);t.ZhanJiDetailModule=e,__reflect(e.prototype,"game.ZhanJiDetailModule")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(){},e}(UI.ZhanJi.UI_ZhanJiItem);t.ZhanJiItem=e,__reflect(e.prototype,"game.ZhanJiItem")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(){},e}(UI.ZhanJi.UI_ZhanJiItemUserItem);t.ZhanJiItemUserItem=e,__reflect(e.prototype,"game.ZhanJiItemUserItem")}(game||(game={}));var game;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.initContent=function(){this.content=UI.ZhanJi.UI_ZhanJi.createInstance()},Object.defineProperty(n.prototype,"mContent",{get:function(){return this.content},enumerable:!0,configurable:!0}),n.prototype.preShow=function(e){this.mContent.m_panelBg.m_title.url="ui://i36kne80j5fap",HttpAPI.HttpGET(HttpURLs.zhanji,{uid:t.GameModel.ins.uid,page:1},this.onCallBack,this.onError,this)},n.prototype.onCallBack=function(t){this.preShowCpl();var e=JSON.parse(t.target.response);""==e.err?this.result=e.data.msg:console.log(e.err)},n.prototype.onError=function(t){},n.prototype.show=function(t){e.prototype.show.call(this,t)},n.prototype.RenderListItem=function(t,e){},n}(PopModuleView);t.ZhanJiModule=e,__reflect(e.prototype,"game.ZhanJiModule")}(game||(game={}));var game;!function(t){var e=function(){function t(t){var e=this;this.pointNumbers={},t.forEach(function(t){var n=t.point,o=e.pointNumbers[n]||0;e.pointNumbers[n]=o+1})}return Object.defineProperty(t.prototype,"maxNumber",{get:function(){var t=0;for(var e in this.pointNumbers){var n=this.pointNumbers[e];t=Math.max(n,t)}return t},enumerable:!0,configurable:!0}),t}();t.CardPointHelper=e,__reflect(e.prototype,"game.CardPointHelper")}(game||(game={}));var HttpURLs=function(){function t(){}return t.rank="http://211.149.213.58:8883/rank",t.zhanji="http://211.149.213.58:8883/zhanji",t}();__reflect(HttpURLs.prototype,"HttpURLs");var game;!function(t){var e=function(){function e(){}return e.sendLogin=function(t){App.Socket.addCmdListener(MsgType.Login,t);var e=new C2T_Login;e.Msg.name="test",e.Msg.wid="12345",e.Msg.mid="123456",e.Msg.head="test",e.Msg.chid="",App.Socket.send(e)},e.createRoom=function(t,e,n,o,i,r,s,a){App.Socket.addCmdListener(MsgType.CreateRoom,a);var u=new C2T_Msg;u.Aid=MsgType.CreateRoom;var c=new C2T_Message_CreateRoom;c.ty=t,c.pn=e,c.jn=n,c.jm=i,c.fc=r,c.jp=s,u.Msg=c,App.Socket.send(u)},e.enterRoom=function(t){App.Socket.addCmdListener(MsgType.EnterRooom,core.Handler.create(this,this.enterRoomCallBack,[],!1)),App.Socket.addCmdListener(MsgType.LeaveRoom,core.Handler.create(this,this.leaveRoomCallBack,[],!1)),App.Socket.addCmdListener(MsgType.Ready,core.Handler.create(this,this.readyCallBack,[],!1)),App.Socket.addCmdListener(MsgType.JieSuan_Single,core.Handler.create(this,this.JieSuanSingleCallBack,[],!1)),App.Socket.addCmdListener(MsgType.GameReStart,core.Handler.create(this,this.gameReStart,[],!1)),App.Socket.addCmdListener(MsgType.RoomDismiss,core.Handler.create(this,this.roomDismiss,[],!1)),App.Socket.addCmdListener(MsgType.JieSuan_All,core.Handler.create(this,this.JieSuanAllCallBack,[],!1)),App.Socket.addCmdListener(MsgType.PlayerDisConnect,core.Handler.create(this,this.playerDiaoXian,[],!1)),App.Socket.addCmdListener(MsgType.PlayerInAfterDisConnect,core.Handler.create(this,this.playerDiaoXianBack,[],!1));var e=new C2T_Msg;e.Aid=MsgType.EnterRooom;var n=new C2T_Message_EnterRoom;n.rid=t,e.Msg=n,App.Socket.send(e)},e.enterRoomCallBack=function(e){t.GameModel.ins.setRoomInfo(e)},e.leaveRoomCallBack=function(e){t.GameModel.ins.roomModel.removeUser(e.uid),App.MessageCenter.dispatch(t.MsgEnum.NEW_UESR_OUT,e),e.uid==t.GameModel.ins.uid&&(App.Socket.removeCmdListener(MsgType.LeaveRoom,this.leaveRoomCallBack),App.Socket.removeCmdListener(MsgType.Ready,this.readyCallBack),App.Socket.removeCmdListener(MsgType.GameStart,this.gameStartCallBack),App.Socket.removeCmdListener(MsgType.JieSuan_Single,this.JieSuanSingleCallBack))},e.leaveRooom=function(){var t=new C2T_Msg;t.Aid=MsgType.LeaveRoom,App.Socket.send(t)},e.sendReady=function(){App.Socket.addCmdListener(MsgType.GameStart,core.Handler.create(this,this.gameStartCallBack,[],!1));var t=new C2T_Msg;t.Aid=MsgType.Ready,App.Socket.send(t)},e.readyCallBack=function(e){App.MessageCenter.dispatch(t.MsgEnum.NEW_UESR_READY,e)},e.gameStartCallBack=function(e){t.GameModel.ins.createRound(e),App.MessageCenter.dispatch(t.MsgEnum.GAME_FAPAI),App.Socket.addCmdListener(MsgType.BaiPai,core.Handler.create(this,this.baipaiCallBack,[],!1)),App.Socket.addCmdListener(MsgType.AskForDismiss,core.Handler.create(this,this.askForDismissCallBack,[],!1))},e.gameReStart=function(){App.MessageCenter.dispatch(t.MsgEnum.GAME_RESTART)},e.JieSuanSingleCallBack=function(e){t.GameModel.ins.roundModel.jieSuanSingle(e)},e.JieSuanAllCallBack=function(e){t.GameModel.ins.roomModel.jieSuanAll(e)},e.sendBaiPai=function(t){var e=new C2T_Msg;e.Aid=MsgType.BaiPai,e.Msg=t,App.Socket.send(e)},e.askForDismiss=function(){var e=new C2T_Msg;e.Aid=MsgType.AskForDismiss;var n=new C2T_Message_AskForDismiss;n.rid=t.GameModel.ins.roomModel.rid,e.Msg=n,App.Socket.send(e)},e.askForDismissCallBack=function(){},e.baipaiCallBack=function(e){App.MessageCenter.dispatch(t.MsgEnum.GAME_BAIPAI,e)},e.roomDismiss=function(e){0==t.GameModel.ins.roomModel.isAllFinish&&(t.GameModel.ins.disMissRoom(),ModuleMgr.ins.changeScene(ModuleEnum.GAME,ModuleEnum.GAME_MAIN))},e.playerDiaoXian=function(e){App.MessageCenter.dispatch(t.MsgEnum.GAME_USER_DIAOXIAN,e)},e.playerDiaoXianBack=function(e){App.MessageCenter.dispatch(t.MsgEnum.GAME_USER_DIAOXIAN_BACK,e)},e.sendBeart=function(){App.TimerManager.doTimer(8e3,0,this.doHeartBeat,this),this.doHeartBeat()},e.doHeartBeat=function(){var t=new C2T_Heart;t.Aid=1,App.Socket.send(t)},e}();t.ServerEngine=e,__reflect(e.prototype,"game.ServerEngine")}(game||(game={}));var App=function(){function t(){}return Object.defineProperty(t,"TimerManager",{get:function(){return core.TimerManager.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DebugUtils",{get:function(){return core.DebugUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"RandomUtils",{get:function(){return core.RandomUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DisplayUtils",{get:function(){return core.DisplayUtil.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MathUtils",{get:function(){return core.MathUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ResourceUtils",{get:function(){return core.ResourceUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DeviceUtils",{get:function(){return core.DeviceUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ShockUtils",{get:function(){return core.ShockUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"EgretExpandUtils",{get:function(){return core.EgretExpandUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"SoundUtils",{get:function(){return core.SoundUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"EventCenter",{get:function(){return null==t._eventCenter&&(t._eventCenter=new core.MessageCenter(1)),t._eventCenter},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MessageCenter",{get:function(){return core.MessageCenter.getInstance(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"StageUtils",{get:function(){return core.StageUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Socket",{get:function(){return ws.ServerSocket.getInstance()},enumerable:!0,configurable:!0}),t.run=function(e){egret.ImageLoader.crossOrigin="anonymous",t.GlobalData=RES.getRes("config_json"),t.DebugUtils.isOpen(t.GlobalData.IsDebug),t.DebugUtils.setThreshold(5),t.EgretExpandUtils.init(),t.Socket.initServer(t.GlobalData.SocketServer,t.GlobalData.SocketPort,new ws.UTFMsgByJson),core.FrameEventCenter.getInstance().init(e),egret.Capabilities.runtimeType==egret.RuntimeType.WEB&&(core.WebUtils.addKeyboardListener(),egret.Logger.logLevel=egret.Logger.ALL),RES.setMaxRetryTimes(2)
},t.GlobalData=null,t.ProtoFile=null,t.ProtoConfig=null,t}();__reflect(App.prototype,"App");var C2T_Heart=function(t){function e(){var e=t.call(this)||this;return e.Aid=1,e}return __extends(e,t),e}(C2T_Base);__reflect(C2T_Heart.prototype,"C2T_Heart");var C2T_Login_Message=function(){function t(){this.name="",this.wid="",this.mid="",this.head="",this.chid=""}return t}();__reflect(C2T_Login_Message.prototype,"C2T_Login_Message");var C2T_Login=function(t){function e(){var e=t.call(this)||this;return e.Aid=MsgType.Login,e.Msg=new C2T_Login_Message,e}return __extends(e,t),e}(C2T_Base);__reflect(C2T_Login.prototype,"C2T_Login");var MsgType;!function(t){t[t.Login=1001]="Login",t[t.CreateRoom=2003]="CreateRoom",t[t.EnterRooom=2001]="EnterRooom",t[t.LeaveRoom=2002]="LeaveRoom",t[t.Ready=2004]="Ready",t[t.ReadyCancel=2005]="ReadyCancel",t[t.GameStart=2006]="GameStart",t[t.BaiPai=2007]="BaiPai",t[t.JieSuan_Single=2009]="JieSuan_Single",t[t.JieSuan_All=2010]="JieSuan_All",t[t.KickOut=2011]="KickOut",t[t.ReConnect=2012]="ReConnect",t[t.GameReStart=2013]="GameReStart",t[t.AskForDismiss=2014]="AskForDismiss",t[t.AnswerForDismiss=2015]="AnswerForDismiss",t[t.RoomDismiss=2016]="RoomDismiss",t[t.PlayerDisConnect=2017]="PlayerDisConnect",t[t.PlayerInAfterDisConnect=2018]="PlayerInAfterDisConnect",t[t.Chat=2019]="Chat"}(MsgType||(MsgType={}));var C2T_Message_CreateRoom=function(){function t(){}return t}();__reflect(C2T_Message_CreateRoom.prototype,"C2T_Message_CreateRoom");var C2T_Message_EnterRoom=function(){function t(){}return t}();__reflect(C2T_Message_EnterRoom.prototype,"C2T_Message_EnterRoom");var C2T_Message_BaiPai=function(){function t(){}return t}();__reflect(C2T_Message_BaiPai.prototype,"C2T_Message_BaiPai");var C2T_Message_AskForDismiss=function(){function t(){}return t}();__reflect(C2T_Message_AskForDismiss.prototype,"C2T_Message_AskForDismiss");var C2T_Msg=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(C2T_Base);__reflect(C2T_Msg.prototype,"C2T_Msg");var core;!function(t){var e=function(){function t(){this.m_callbacks=[]}return t.getInstance=function(){return null==t.s_instance&&(t.s_instance=new t),t.s_instance},t.prototype.init=function(t){this.m_stage=t,this.m_stage?(this.m_preTick=Date.now(),this.m_stage.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)):egret.log("Stage为null不能开启帧循环监听")},t.prototype.onEnterFrame=function(t){var e=Date.now(),n=this.m_callbacks;if(n){for(var o=n.length;o>0;o--){var i=n[o-1];i.isValid||n.splice(o-1,1)}for(var o=0,r=n.length;r>o;o++){var i=n[o];i.isValid&&i.callback&&i.callback.call(i.thisObj,e-this.m_preTick)}}this.m_preTick=e},t.prototype.addFrameEventListener=function(t,e){if(t&&e){var o=new n(t,e);this.m_callbacks.push(o)}},t.prototype.removeFrameEventListener=function(t,e){var n=this.m_callbacks;if(n)for(var o=0,i=n.length;i>o;o++){var r=n[o];r.callback===t&&r.thisObj===e&&(r.isValid=!1)}},t}();t.FrameEventCenter=e,__reflect(e.prototype,"core.FrameEventCenter");var n=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.isValid=!0,o}return __extends(e,t),e.prototype.clone=function(){var t=new e(this.callback,this.thisObj);return t.index=this.index,t.isValid=this.isValid,t},e}(t.Callback);__reflect(n.prototype,"FrameCallBack")}(core||(core={}));var T2C_Heart=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e)},e}(T2C_Base);__reflect(T2C_Heart.prototype,"T2C_Heart"),window.T2C_Heart=T2C_Heart;var T2C_Login_Message=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(T2C_Message_Base);__reflect(T2C_Login_Message.prototype,"T2C_Login_Message");var T2C_Login=function(t){function e(){var e=t.call(this)||this;return e.Msg=new T2C_Login_Message,e}return __extends(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.Msg.execute(e.Msg),game.GameModel.ins.setLoginData(this.Msg),App.Socket.dispatchCmd(this.Aid,this.Msg)},e}(T2C_Base);__reflect(T2C_Login.prototype,"T2C_Login"),window.T2C_Login=T2C_Login;var core;!function(t){var e=function(){function t(t){this.data=t}return t}();t.Node=e,__reflect(e.prototype,"core.Node")}(core||(core={}));var T2C_Enter_Room=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.fname=t.fname,this.fuid=t.fuid,this.gps=t.gps,this.rinfo=t.rinfo,this.users=t.users},e}(T2C_Message_Base);__reflect(T2C_Enter_Room.prototype,"T2C_Enter_Room");var T2C_Create_Room=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(T2C_Message_Base);__reflect(T2C_Create_Room.prototype,"T2C_Create_Room");var T2C_Leave_Room=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(T2C_Message_Base);__reflect(T2C_Leave_Room.prototype,"T2C_Leave_Room");var T2C_Ready=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(T2C_Message_Base);__reflect(T2C_Ready.prototype,"T2C_Ready");var T2C_GameStart=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(T2C_Message_Base);__reflect(T2C_GameStart.prototype,"T2C_GameStart");var T2C_BaiPai=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(T2C_Message_Base);__reflect(T2C_BaiPai.prototype,"T2C_BaiPai");var T2C_JieSuanAll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.et=t.et,this.sc=t.sc},e}(T2C_Message_Base);__reflect(T2C_JieSuanAll.prototype,"T2C_JieSuanAll");var T2C_JieSuanSingle=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.bp=t.bp,this.sc=t.sc},e}(T2C_Message_Base);__reflect(T2C_JieSuanSingle.prototype,"T2C_JieSuanSingle");var T2C_ReConnect=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.dealer=t.dealer,this.fname=t.fname,this.fuid=t.fuid,this.js=t.js,this.jt=t.jt,this.ju=t.ju,this.of=t.of,this.rid=t.rid,this.rinfo=t.rinfo,this.users=t.users,this.status=t.status},e}(T2C_Message_Base);__reflect(T2C_ReConnect.prototype,"T2C_ReConnect");var T2C_DiaoXian=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.name=t.name,this.uid=t.uid},e}(T2C_Message_Base);__reflect(T2C_DiaoXian.prototype,"T2C_DiaoXian");var T2C_DiaoXian_Back=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t){this.name=t.name,this.uid=t.uid},e}(T2C_Message_Base);__reflect(T2C_DiaoXian_Back.prototype,"T2C_DiaoXian_Back");var T2C_Msg=function(t){function e(){var e=t.call(this)||this;return e.Msg=new T2C_Message_Base,e}return __extends(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),""==this.Err?(this.Aid==MsgType.EnterRooom?this.Msg=new T2C_Enter_Room:this.Aid==MsgType.CreateRoom?this.Msg=new T2C_Create_Room:this.Aid==MsgType.LeaveRoom?this.Msg=new T2C_Leave_Room:this.Aid==MsgType.Ready?this.Msg=new T2C_Ready:this.Aid==MsgType.ReadyCancel?this.Msg=new T2C_Ready:this.Aid==MsgType.GameStart?this.Msg=new T2C_GameStart:this.Aid==MsgType.BaiPai?this.Msg=new T2C_BaiPai:this.Aid==MsgType.JieSuan_Single?this.Msg=new T2C_JieSuanSingle:this.Aid==MsgType.JieSuan_All?this.Msg=new T2C_JieSuanAll:this.Aid==MsgType.ReConnect?this.Msg=new T2C_ReConnect:this.Aid==MsgType.PlayerDisConnect?this.Msg=new T2C_DiaoXian:this.Aid==MsgType.PlayerInAfterDisConnect&&(this.Msg=new T2C_DiaoXian_Back),this.Msg.execute(e.Msg),App.Socket.dispatchCmd(this.Aid,this.Msg)):App.MessageCenter.dispatch(game.MsgEnum.FLOAT_MSG,this.Aid,this.Err)},e}(T2C_Base);__reflect(T2C_Msg.prototype,"T2C_Msg"),window.T2C_Msg=T2C_Msg;var LayerCenter=function(){function t(){}return Object.defineProperty(t,"Instance",{get:function(){return null==t.s_instance&&(t.s_instance=new t),t.s_instance},enumerable:!0,configurable:!0}),t.prototype.init=function(e){e&&(this.stage=e,e.addEventListener(egret.Event.RESIZE,this.onStageResize,this),this.m_layerDic=new Dictionary,t.stageWidth=e.stageWidth,t.stageHeight=e.stageHeight,this.stage.addChild(fairygui.GRoot.inst.displayObject)),this.initLayers()},t.prototype.initLayers=function(){this.addLayer(LayerEnum.SCENE,new SceneModuleLayer),this.addLayer(LayerEnum.UI,new UIModuleLayer),this.addLayer(LayerEnum.STATIC,new StaticModuleLayer),this.addLayer(LayerEnum.POPUP,new PopModuleLayer),this.addLayer(LayerEnum.TOP,new TopModuleLayer)},t.prototype.addLayer=function(t,e){this.m_layerDic.add(t,e),egret.callLater(this.updateLayer,this)},t.prototype.onStageResize=function(e){t.stageWidth=this.stage.stageWidth,t.stageHeight=this.stage.stageHeight,fairygui.GRoot.inst.setSize(t.stageWidth,t.stageHeight),App.EventCenter.dispatch(egret.Event.RESIZE)},t.prototype.updateLayer=function(){var t=this.m_layerDic.keys.concat();t.sort(function(t,e){return t-e});for(var e=0,n=t.length;n>e;e++){var o=this.m_layerDic.get(t[e]);o.parent?fairygui.GRoot.inst.setChildIndex(o,e):fairygui.GRoot.inst.addChildAt(o,e)}},t.prototype.getLayer=function(t){return this.m_layerDic.get(t)},t.prototype.removeLayer=function(t){var e=this.m_layerDic.remove(t);return this.updateLayer(),e},t}();__reflect(LayerCenter.prototype,"LayerCenter");var core;!function(t){var e=function(){function e(e,n){if(void 0===n&&(n=!1),this.m_list=[],e)for(var o=0,i=e.length;i>o;o++){var r=new t.Node(e[o]);this.m_list.push(r)}for(var s=this.m_list,o=0,i=s.length;i>o;o++){var r=s[o];o+1==i?r.nextNode=n?s[0]:null:r.nextNode=s[o+1],0==o?r.preNode=n?s[i-1]:null:r.preNode=s[o-1]}}return e.prototype.getLen=function(){return this.m_list.length},e.prototype.getFirst=function(){return this.m_list[0]},e.prototype.getEnd=function(){return this.m_list[this.m_list.length-1]},e.prototype.getNode=function(t){return this.m_list[t]},e.prototype.clear=function(){this.m_list.length=0},e}();t.NodeList=e,__reflect(e.prototype,"core.NodeList")}(core||(core={}));var ModuleMgr=function(){function t(){this.m_configLib=new Object}return Object.defineProperty(t,"ins",{get:function(){return null==t.s_instance&&(t.s_instance=new t),t.s_instance},enumerable:!0,configurable:!0}),t.prototype.getStaticLayer=function(){return LayerCenter.Instance.getLayer(LayerEnum.STATIC)},t.prototype.getPopUpLayer=function(){return LayerCenter.Instance.getLayer(LayerEnum.POPUP)},t.prototype.regModule=function(t){this.m_configLib[t.moduleId]=t},t.prototype.getConfigVo=function(t){var e=this.m_configLib[t];return null==e?void egret.log("未注册的moduleId:",t):e},t.prototype.showModule=function(t,e,n){var o=this.getConfigVo(t);if(null!=o){var i=LayerCenter.Instance.getLayer(o.layerKind),r=i.showModule(t,e,n);return r}},t.prototype.changeScene=function(e,n){t.ins.getPopUpLayer().closeAll(),t.ins.closeModule(e),t.ins.showModule(n)},t.prototype.isShow=function(t){var e=this.m_configLib[t];if(e){var n=LayerCenter.Instance.getLayer(e.layerKind);return n.isShow(t)}return!1},t.prototype.closeModule=function(t,e){var n=this.getConfigVo(t);if(null!=n){var o=LayerCenter.Instance.getLayer(n.layerKind);o.closeModule(t,e)}},t.prototype.loadSkins=function(t){},t}();__reflect(ModuleMgr.prototype,"ModuleMgr");var LayerEnum;!function(t){t[t.SCENE=0]="SCENE",t[t.UI=1]="UI",t[t.STATIC=2]="STATIC",t[t.POPUP=3]="POPUP",t[t.TOP=4]="TOP"}(LayerEnum||(LayerEnum={}));var ModuleConsts=function(){function t(){}return t.MODULE_SERVER_CPL="MODULE_SERVER_CPL",t.MODULE_PRE_SHOW_CPL="MODULE_PRE_SHOW_CPL",t.MODULE_PRE_CLOSE_CPL="MODULE_PRE_CLOSE_CPL",t.MODULE_CLOSE_CPL="MODULE_CLOSE_CPL",t.MODULE_ADD_TO_STAGE="MODULE_ADD_TO_STAGE",t.MODULE_FADE_IN_CPL="MODULE_FADE_IN_CPL",t.MODULE_FADE_OUT_CPL="MODULE_FADE_OUT_CPL",t.MODULE_FADE_IN_TYPE_0=0,t.MODULE_FADE_IN_TYPE_1=1,t.MODULE_FADE_IN_TYPE_2=2,t.MODULE_FADE_OUT_TYPE_0=0,t.MODULE_FADE_OUT_TYPE_1=1,t.MODULE_FADE_OUT_TYPE_2=2,t.STATE_NULL=0,t.STATE_SHOW=1,t.STATE_CLOSE=3,t.STATE_DISPOSE=4,t.PHASE_LOAD_ASSET=11,t.PHASE_SERVER=12,t.PHASE_PRE_SHOW=13,t.PHASE_MODULE_FADE_IN=14,t.PHASE_SHOW=15,t.PHASE_PRE_CLOSE=21,t.PHASE_MODULE_FADE_OUT=22,t.PHASE_CLOSE=23,t}();__reflect(ModuleConsts.prototype,"ModuleConsts");var ModuleEnum;!function(t){t[t.NONE=0]="NONE",t[t.TEST=1]="TEST",t[t.LOADING=2]="LOADING",t[t.GAME_MAIN=3]="GAME_MAIN",t[t.MAIL=4]="MAIL",t[t.MAIL_DETAIL=5]="MAIL_DETAIL",t[t.NOTICE=6]="NOTICE",t[t.SHUOMING=7]="SHUOMING",t[t.SETTING=8]="SETTING",t[t.KEFU=9]="KEFU",t[t.ZHANJI=10]="ZHANJI",t[t.ZHANJIDETAIL=11]="ZHANJIDETAIL",t[t.RANK=12]="RANK",t[t.ACTIVITY=13]="ACTIVITY",t[t.JOINROOM=14]="JOINROOM",t[t.GAME_HELP=15]="GAME_HELP",t[t.CREATE_ROOM=16]="CREATE_ROOM",t[t.BUY_CARD=17]="BUY_CARD",t[t.GAME=18]="GAME",t[t.GAME_PUT_PORK=19]="GAME_PUT_PORK",t[t.GAME_SINGLE_RESULT=20]="GAME_SINGLE_RESULT",t[t.GAME_ALL_RESULT=21]="GAME_ALL_RESULT",t[t.DISSOLVE_ROOM=22]="DISSOLVE_ROOM",t[t.CHAT=23]="CHAT",t[t.ALERT=24]="ALERT",t[t.FLOAT=25]="FLOAT"}(ModuleEnum||(ModuleEnum={}));var BindFGuiTask=function(){function t(){this.exec()}return t.prototype.exec=function(){UI.Loading.LoadingBinder.bindAll(),UI.MainUI.MainUIBinder.bindAll(),UI.Activity.ActivityBinder.bindAll(),UI.AddRoom.AddRoomBinder.bindAll(),UI.Base.BaseBinder.bindAll(),UI.BuyCard.BuyCardBinder.bindAll(),UI.CreateRoom.CreateRoomBinder.bindAll(),UI.Kefu.KefuBinder.bindAll(),UI.Mail.MailBinder.bindAll(),UI.Notice.NoticeBinder.bindAll(),UI.Rank.RankBinder.bindAll(),UI.ZhanJi.ZhanJiBinder.bindAll(),UI.Setting.SettingBinder.bindAll(),UI.ShuoMing.ShuoMingBinder.bindAll(),UI.Rank.RankBinder.bindAll(),UI.Game.GameBinder.bindAll(),UI.GameHelper.GameHelperBinder.bindAll(),UI.Result.ResultBinder.bindAll()},t}();__reflect(BindFGuiTask.prototype,"BindFGuiTask");var RegModuleTask=function(){function t(){this.exec()}return t.prototype.exec=function(){this.regModule(ModuleEnum.LOADING,LayerEnum.SCENE,game.LoadingModule,[]),this.regModule(ModuleEnum.TEST,LayerEnum.SCENE,game.TESTModule,[]),this.regModule(ModuleEnum.GAME_MAIN,LayerEnum.SCENE,game.GameMainModule,[]),this.regModule(ModuleEnum.MAIL,LayerEnum.POPUP,game.MailModule,[]),this.regModule(ModuleEnum.MAIL_DETAIL,LayerEnum.POPUP,game.MailDetailModule,[]),this.regModule(ModuleEnum.NOTICE,LayerEnum.POPUP,game.NoticeModule,[]),this.regModule(ModuleEnum.KEFU,LayerEnum.POPUP,game.KeFuModule,[]),this.regModule(ModuleEnum.ZHANJI,LayerEnum.POPUP,game.ZhanJiModule,[]),this.regModule(ModuleEnum.ZHANJIDETAIL,LayerEnum.POPUP,game.ZhanJiDetailModule,[]),this.regModule(ModuleEnum.RANK,LayerEnum.POPUP,game.RankModule,[]),this.regModule(ModuleEnum.ACTIVITY,LayerEnum.POPUP,game.ActivityModule,[]),this.regModule(ModuleEnum.JOINROOM,LayerEnum.POPUP,game.JoinRoomModule,[]),this.regModule(ModuleEnum.CREATE_ROOM,LayerEnum.POPUP,game.CreateRoomModule,[]),this.regModule(ModuleEnum.BUY_CARD,LayerEnum.POPUP,game.BuyCardModule,[]),this.regModule(ModuleEnum.SETTING,LayerEnum.POPUP,game.SettingModule,[]),this.regModule(ModuleEnum.SHUOMING,LayerEnum.POPUP,game.ShuoMingModule,[]),this.regModule(ModuleEnum.GAME,LayerEnum.SCENE,game.Game,[]),this.regModule(ModuleEnum.GAME_PUT_PORK,LayerEnum.POPUP,game.PutPorkModule,[]),this.regModule(ModuleEnum.GAME_HELP,LayerEnum.POPUP,game.GameHelpModule,[]),this.regModule(ModuleEnum.GAME_SINGLE_RESULT,LayerEnum.POPUP,game.SingleResultModule,[]),this.regModule(ModuleEnum.GAME_ALL_RESULT,LayerEnum.SCENE,game.AllResultModule,[]),this.regModule(ModuleEnum.DISSOLVE_ROOM,LayerEnum.POPUP,game.DissolveRoomModule,[]),this.regModule(ModuleEnum.ALERT,LayerEnum.POPUP,game.AlertModule,[]),this.regModule(ModuleEnum.FLOAT,LayerEnum.TOP,game.FloatMsgModule,[]),this.regModule(ModuleEnum.CHAT,LayerEnum.POPUP,game.ChatModule,[])},t.prototype.regModule=function(t,e,n,o){void 0===o&&(o=null);var i=new ModuleConfigVo;switch(i.moduleId=t,i.layerKind=e,i.moduleCls=n,i.groupNames=o,e){case LayerEnum.SCENE:i.setIsAutoSize(!0);break;case LayerEnum.UI:i.setIsAutoSize(!0);break;case LayerEnum.STATIC:i.setIsAutoSize(!1),i.setDisposeWhenClose(!1);break;case LayerEnum.POPUP:i.setIsAutoSize(!0),i.setShowCover(!0);break;case LayerEnum.TOP:i.setIsAutoSize(!1)}return ModuleMgr.ins.regModule(i),i},t.prototype.checkHasSameId=function(){},t}();__reflect(RegModuleTask.prototype,"RegModuleTask");var RegRunTimeClassTask=function(){function t(){this.exec()}return t.prototype.exec=function(){fairygui.UIObjectFactory.setPackageItemExtension(UI.Game.UI_Pork.URL,game.Pork),fairygui.UIObjectFactory.setPackageItemExtension(UI.Game.UI_PlayerHead.URL,game.PlayerHead),fairygui.UIObjectFactory.setPackageItemExtension(UI.Game.UI_PlayerPokers.URL,game.PlayerPokers),fairygui.UIObjectFactory.setPackageItemExtension(UI.Mail.UI_MailItem.URL,game.MailListItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.ShuoMing.UI_ShuoMingTab.URL,game.ShuoMingTabItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.Rank.UI_RankItem.URL,game.RankItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.Result.UI_SingleResultItem.URL,game.SingleResultItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.ZhanJi.UI_ZhanJiItem.URL,game.ZhanJiItem),fairygui.UIObjectFactory.setPackageItemExtension(UI.ZhanJi.UI_ZhanJiItemUserItem.URL,game.ZhanJiItemUserItem)},t}();__reflect(RegRunTimeClassTask.prototype,"RegRunTimeClassTask");var HistoryModuleVo=function(){function t(t,e,n){this.moduleId=t,this.data=e,this.historyData=n}return t}();__reflect(HistoryModuleVo.prototype,"HistoryModuleVo");var ModuleConfigVo=function(){function t(){this.m_disposeWhenClose=!0,this.m_showCover=!1}return Object.defineProperty(t.prototype,"isAutoSize",{get:function(){return this.m_isAutoSize},enumerable:!0,configurable:!0}),t.prototype.setIsAutoSize=function(t){return this.m_isAutoSize=t,this},Object.defineProperty(t.prototype,"disposeWhenClose",{get:function(){return this.m_disposeWhenClose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showCover",{get:function(){return this.m_showCover},enumerable:!0,configurable:!0}),t.prototype.setShowCover=function(t){return this.m_showCover=t,this},t.prototype.setDisposeWhenClose=function(t){return 0==t&&this.layerKind==LayerEnum.POPUP?(egret.error("popup层不能设置disposeWhenClose为false"),this):(this.m_disposeWhenClose=t,this)},t}();__reflect(ModuleConfigVo.prototype,"ModuleConfigVo");var ModuleInfoVo=function(t){function e(e){var n=t.call(this)||this;return n.state=0,n.phase=0,n.moduleId=e.moduleId,n.configVo=e,n}return __extends(e,t),e.prototype.changeModuleState=function(t){if(this.state!=t){var e=this.state;if(this.state=t,e==ModuleConsts.STATE_NULL)t==ModuleConsts.STATE_SHOW&&this.startShow();else if(e==ModuleConsts.STATE_SHOW)switch(this.phase){case ModuleConsts.PHASE_LOAD_ASSET:case ModuleConsts.PHASE_SERVER:case ModuleConsts.PHASE_PRE_SHOW:case ModuleConsts.PHASE_MODULE_FADE_IN:t==ModuleConsts.STATE_CLOSE||(this.removeAllListeners(),this.preClose());break;case ModuleConsts.PHASE_SHOW:this.removeAllListeners(),this.preClose()}else if(e==ModuleConsts.STATE_CLOSE)switch(this.phase){case ModuleConsts.PHASE_PRE_CLOSE:this.removeAllListeners(),this.show();break;case ModuleConsts.PHASE_MODULE_FADE_OUT:case ModuleConsts.PHASE_CLOSE:null==this.module.content.parent&&this.layer.addChild(this.module.content),this.removeAllListeners(),this.moduleFadeIn()}}},e.prototype.startShow=function(){if(this.state=ModuleConsts.STATE_SHOW,null==this.module){this.module=new this.configVo.moduleCls,this.module.moduleInfoVo=this,this.isShow=!0;var t=this.configVo.groupNames.slice();if(t&&t.length>0){var e=core.LoadingManager.getCurLoading();e&&e.show(),this.phase=ModuleConsts.PHASE_LOAD_ASSET,core.ResUtils.loadGroups(t,this.onLoadProgress,this.onLoadFaild,this.onLoadComplete,this)}else this.initAll()}else this.isShow=!0,this.initAll()},e.prototype.initAll=function(){this.module.initContentAll(),this.moduleServerStart()},e.prototype.moduleServerStart=function(){this.state==ModuleConsts.STATE_SHOW&&(this.phase=ModuleConsts.PHASE_LOAD_ASSET,this.module.addEventListener(ModuleConsts.MODULE_SERVER_CPL,this.onModuleServerCpl,this),this.module.moduleServerStart(this.preShowData))},e.prototype.onModuleServerCpl=function(t){this.module.removeEventListener(ModuleConsts.MODULE_SERVER_CPL,this.onModuleServerCpl,this),this.preShow()},e.prototype.preShow=function(){this.state==ModuleConsts.STATE_SHOW&&(this.phase=ModuleConsts.PHASE_PRE_SHOW,this.module.addEventListener(ModuleConsts.MODULE_PRE_SHOW_CPL,this.onModulePreShowCpl,this),this.module.preShow(this.preShowData))},e.prototype.onModulePreShowCpl=function(t){var e=core.LoadingManager.getCurLoading();e&&e.hide(),this.module.initAutoSize(this.layer,this.configVo.isAutoSize),this.layer.addChild(this.module.content),this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_ADD_TO_STAGE)),this.moduleFadeIn()},e.prototype.moduleFadeIn=function(){this.state==ModuleConsts.STATE_SHOW&&(this.phase=ModuleConsts.PHASE_MODULE_FADE_IN,this.isShow=!0,this.module.addEventListener(ModuleConsts.MODULE_FADE_IN_CPL,this.onModuleFadeInCpl,this),this.module.moduleFadeIn())},e.prototype.onModuleFadeInCpl=function(t){this.module.removeEventListener(ModuleConsts.MODULE_FADE_IN_CPL,this.onModuleFadeInCpl,this),this.show()},e.prototype.show=function(){this.state==ModuleConsts.STATE_SHOW&&(this.phase=ModuleConsts.PHASE_SHOW,this.module.show(this.preShowData))},e.prototype.preClose=function(){this.phase=ModuleConsts.PHASE_PRE_CLOSE,this.module.addEventListener(ModuleConsts.MODULE_PRE_CLOSE_CPL,this.onModulePreCloseCpl,this),this.module.preClose(this.preShowData)},e.prototype.onModulePreCloseCpl=function(t){this.isShow=!1,this.module.removeEventListener(ModuleConsts.MODULE_PRE_CLOSE_CPL,this.onModulePreCloseCpl,this),this.moduleFadeOut()},e.prototype.moduleFadeOut=function(){this.phase=ModuleConsts.PHASE_MODULE_FADE_OUT,this.module.addEventListener(ModuleConsts.MODULE_FADE_OUT_CPL,this.onModuleFadeOutCpl,this),this.module.moduleFadeOut()},e.prototype.onModuleFadeOutCpl=function(t){this.module.removeEventListener(ModuleConsts.MODULE_FADE_OUT_CPL,this.onModuleFadeOutCpl,this),this.doRelease()},e.prototype.doRelease=function(){this.phase=ModuleConsts.PHASE_CLOSE,this.configVo.disposeWhenClose?(this.state=ModuleConsts.STATE_DISPOSE,this.module.release()):this.module.hide(),this.dispatchEvent(new egret.Event(ModuleConsts.MODULE_CLOSE_CPL))},e.prototype.release=function(){this.removeAllListeners(),this.module=null,this.layer=null},e.prototype.getHistoryData=function(){return null!=this.module?this.module.getHistoryData():null},e.prototype.removeAllListeners=function(){this.module&&(this.module.removeEventListener(ModuleConsts.MODULE_SERVER_CPL,this.onModuleServerCpl,this),this.module.removeEventListener(ModuleConsts.MODULE_PRE_SHOW_CPL,this.onModulePreShowCpl,this),this.module.removeEventListener(ModuleConsts.MODULE_FADE_IN_CPL,this.onModuleFadeInCpl,this),this.module.removeEventListener(ModuleConsts.MODULE_PRE_CLOSE_CPL,this.onModulePreCloseCpl,this),this.module.removeEventListener(ModuleConsts.MODULE_FADE_OUT_CPL,this.onModuleFadeOutCpl,this))},e.prototype.onLoadProgress=function(t){var e=core.LoadingManager.getCurLoading();e&&e.setProgress(t)},e.prototype.onLoadFaild=function(t){egret.log("资源组"+t.curGroup+"加载失败, 失败URL："+t.curResItem.url)},e.prototype.onLoadComplete=function(t){for(var e=0;e<this.configVo.groupNames.length;e++){var n=this.configVo.groupNames[e],o=RES.getRes(n);o||(o=RES.getRes(n+"_fui")),o&&fairygui.UIPackage.addPackage(this.configVo.groupNames[e])}this.initAll()},e}(egret.EventDispatcher);__reflect(ModuleInfoVo.prototype,"ModuleInfoVo");var PopModuleLayer=function(t){function e(){var e=t.call(this)||this;return e.cover=new fairygui.GGraph,e.cover.touchable=!0,e.drawCover(),App.EventCenter.addListener(egret.Event.RESIZE,e.onStageResize,e),e}return __extends(e,t),e.prototype.onStageResize=function(t){this.drawCover()},e.prototype.drawCover=function(){this.cover.graphics.clear(),this.cover.graphics.beginFill(0,.8),this.cover.graphics.drawRect(0,0,LayerCenter.stageWidth,LayerCenter.stageHeight),this.cover.graphics.endFill()},e.prototype.onCoverTouch=function(t){var e=this.getCurModuleId();e>0&&this.closeModule(e)},e.prototype.showModule=function(t,e,n){var o=ModuleMgr.ins.getConfigVo(t);if(null!=o){var i=new ModuleInfoVo(o);return this.p_moduleList.push(i),i.preShowData=e,i.layer=this,i.addEventListener(ModuleConsts.MODULE_ADD_TO_STAGE,this.onModuleAddToStage,this),i.changeModuleState(ModuleConsts.STATE_SHOW),i}},e.prototype.onCloseCpl=function(e){t.prototype.onCloseCpl.call(this,e),this.updateModuleVisible()},e.prototype.onModuleAddToStage=function(t){this.updateModuleVisible()},e.prototype.updateModuleVisible=function(){if(this.p_moduleList.length>0){for(var t=0;t<this.p_moduleList.length;t++)t<this.p_moduleList.length-2?this.p_moduleList[t].module.setVisible(!1):this.p_moduleList[t].module.setVisible(!0);this.p_moduleList[this.p_moduleList.length-1]}this.updateConver()},e.prototype.updateConver=function(){for(var t=this.p_moduleList.length-1;t>=0;t--)if(this.p_moduleList[t].configVo.showCover)return void core.DisplayUtil.getInstance().addChildBelow(this.cover,this.p_moduleList[t].module.content);this.cover.parent&&this.cover.parent.removeChild(this.cover)},e}(UILayer);__reflect(PopModuleLayer.prototype,"PopModuleLayer");var Keyboard;!function(t){t[t.BACKSPACE=8]="BACKSPACE",t[t.TAB=9]="TAB",t[t.ENTER=13]="ENTER",t[t.SHIFT=16]="SHIFT",t[t.CTRL=17]="CTRL",t[t.ALT=18]="ALT",t[t.CAPSLOCK=20]="CAPSLOCK",t[t.ESC=27]="ESC",t[t.SPACE=32]="SPACE",t[t.PAGEUP=33]="PAGEUP",t[t.PAGEDOWN=34]="PAGEDOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN",t[t.INSERT=45]="INSERT",t[t.DELETE=46]="DELETE",t[t.NUM_0=48]="NUM_0",t[t.NUM_1=49]="NUM_1",t[t.NUM_2=50]="NUM_2",t[t.NUM_3=51]="NUM_3",t[t.NUM_4=52]="NUM_4",t[t.NUM_5=53]="NUM_5",t[t.NUM_6=54]="NUM_6",t[t.NUM_7=55]="NUM_7",t[t.NUM_8=56]="NUM_8",t[t.NUM_9=57]="NUM_9",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.NUMPAD_0=96]="NUMPAD_0",t[t.NUMPAD_1=97]="NUMPAD_1",t[t.NUMPAD_2=98]="NUMPAD_2",t[t.NUMPAD_3=99]="NUMPAD_3",t[t.NUMPAD_4=100]="NUMPAD_4",t[t.NUMPAD_5=101]="NUMPAD_5",t[t.NUMPAD_6=102]="NUMPAD_6",t[t.NUMPAD_7=103]="NUMPAD_7",t[t.NUMPAD_8=104]="NUMPAD_8",t[t.NUMPAD_9=105]="NUMPAD_9",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12"}(Keyboard||(Keyboard={}));var SceneModuleLayer=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(UIModuleLayer);__reflect(SceneModuleLayer.prototype,"SceneModuleLayer");var StaticModuleLayer=function(t){function e(){var e=t.call(this)||this;return e.cover=new egret.Sprite,e.cover.touchEnabled=!0,e.drawCover(),e}return __extends(e,t),e.prototype.drawCover=function(){this.cover.graphics.clear(),this.cover.graphics.beginFill(0,.2),this.cover.graphics.drawRect(0,0,LayerCenter.stageWidth,LayerCenter.stageHeight),this.cover.graphics.endFill()},e}(UILayer);__reflect(StaticModuleLayer.prototype,"StaticModuleLayer");var TopModuleLayer=function(t){function e(){var e=t.call(this)||this;return e.cover=new egret.Sprite,e.cover.touchEnabled=!0,e.drawCover(),App.EventCenter.addListener(egret.Event.RESIZE,e.onStageResize,e),e}return __extends(e,t),e.prototype.onStageResize=function(t){this.drawCover()},e.prototype.drawCover=function(){this.cover.graphics.clear(),this.cover.graphics.beginFill(0,.2),this.cover.graphics.drawRect(0,0,LayerCenter.stageWidth,LayerCenter.stageHeight),this.cover.graphics.endFill()},e.prototype.onModuleAddToStage=function(t){this.updateConver()},e.prototype.onCloseCpl=function(e){t.prototype.onCloseCpl.call(this,e),this.updateConver()},e.prototype.updateConver=function(){for(var t=this.p_moduleList.length-1;t>=0;t--)if(this.p_moduleList[t].configVo.showCover)return void core.DisplayUtil.getInstance().addChildBelow(this.cover,this.p_moduleList[t].module.content);this.cover.parent&&this.cover.parent.removeChild(this.cover)},e}(UILayer);__reflect(TopModuleLayer.prototype,"TopModuleLayer");var core;!function(t){var e=function(){function t(){this.m_keyMap=new Dictionary}return t.prototype.addKeyListener=function(t,e,i){var r=this.m_keyMap.get(t);r||(r=new n(t)),r.callbacks.push(new o(e,i)),this.m_keyMap.add(t,r)},t.prototype.removeKeyListener=function(t,e,n){var o=this.m_keyMap.get(t);if(o)for(var i=o.callbacks,r=0,s=i.length;s>r;r++){var a=i[r];a&&a.callback===e&&a.thisObj===n&&(a.isValid=!1)}},t.prototype.enableKey=function(t,e){this.m_keyMap.get(t).keyEnable=e},t.prototype.enable=function(t){for(var e=this.m_keyMap,n=e.values,o=0,i=n.length;i>o;o++)n[o].keyEnable=t},t.prototype.sendKey=function(t){var e=this.m_keyMap.get(t);if(e){for(var n=e.callbacks,o=n.length;o>0;o--){var i=n[o-1];i.isValid||n.splice(o-1,1)}for(var o=0,r=n.length;r>o;o++){var s=n[o];s.callback.call(s.thisObj)}}},t.getInstance=function(){return t.s_instance||(t.s_instance=new t),t.s_instance},t}();t.InputManager=e,__reflect(e.prototype,"core.InputManager");var n=function(){function t(t){this.key=t,this.keyEnable=!0,this.callbacks=[]}return t}();__reflect(n.prototype,"KeyData");var o=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.isValid=!0,o}return __extends(e,t),e}(t.Callback);__reflect(o.prototype,"KeyCallBack")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.MODULE_SHOW="core.EventID.MODULE_SHOW",t.MODULE_HIDE="core.EventID.MODULE_HIDE",t.SOCKET_CONNECT="core.EventID.SOCKET_CONNECT",t.SOCKET_DATA="core.EventID.SOCKET_DATA",t.SOCKET_IOERROR="core.EventID.SOCKET_IOERROR",t.SOCKET_CLOSE="core.EventID.SOCKET_CLOSE",t.KEYBOARD_DOWN="core.EventID.KEYBOARD_DOWN",t.KEYBOARD_UP="core.EventID.KEYBOARD_UP",t.CREATE_ROLE="core.EventID.CREATE_ROLE",t}();t.EventID=e,__reflect(e.prototype,"core.EventID")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Activity.URL,t.UI_Activity)},e}();t.ActivityBinder=e,__reflect(e.prototype,"UI.Activity.ActivityBinder")}(e=t.Activity||(t.Activity={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Activity","Activity")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_list=this.getChildAt(5)},e.URL="ui://eqi03f83nxr20",e}(fairygui.GComponent);t.UI_Activity=e,__reflect(e.prototype,"UI.Activity.UI_Activity")}(e=t.Activity||(t.Activity={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_AddRoom.URL,t.UI_AddRoom)},e}();t.AddRoomBinder=e,__reflect(e.prototype,"UI.AddRoom.AddRoomBinder")}(e=t.AddRoom||(t.AddRoom={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("AddRoom","AddRoom")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_btn1=this.getChildAt(8),this.m_btn2=this.getChildAt(9),this.m_btn3=this.getChildAt(10),this.m_btn4=this.getChildAt(11),this.m_btn5=this.getChildAt(12),this.m_btn6=this.getChildAt(13),this.m_btn7=this.getChildAt(14),this.m_btn8=this.getChildAt(15),this.m_btn9=this.getChildAt(16),this.m_btn0=this.getChildAt(17),this.m_btndel=this.getChildAt(18),this.m_btnreset=this.getChildAt(19),this.m_txt1=this.getChildAt(20),this.m_txt2=this.getChildAt(21),this.m_txt3=this.getChildAt(22),this.m_txt4=this.getChildAt(23),this.m_txt5=this.getChildAt(24),this.m_txt6=this.getChildAt(25)
},e.URL="ui://8vvi1zrysej4h",e}(fairygui.GComponent);t.UI_AddRoom=e,__reflect(e.prototype,"UI.AddRoom.UI_AddRoom")}(e=t.AddRoom||(t.AddRoom={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_FloatMsg.URL,t.UI_FloatMsg),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_PopModuleBg.URL,t.UI_PopModuleBg),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_SimpleAlert.URL,t.UI_SimpleAlert),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_AlertBg.URL,t.UI_AlertBg),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_AlertBg1.URL,t.UI_AlertBg1)},e}();t.BaseBinder=e,__reflect(e.prototype,"UI.Base.BaseBinder")}(e=t.Base||(t.Base={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Base","AlertBg")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_close=this.getChildAt(1),this.m_title=this.getChildAt(2)},e.URL="ui://i36kne80rezh13",e}(fairygui.GComponent);t.UI_AlertBg=e,__reflect(e.prototype,"UI.Base.UI_AlertBg")}(e=t.Base||(t.Base={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Base","AlertBg1")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_close=this.getChildAt(2),this.m_title=this.getChildAt(3)},e.URL="ui://i36kne80rezh17",e}(fairygui.GComponent);t.UI_AlertBg1=e,__reflect(e.prototype,"UI.Base.UI_AlertBg1")}(e=t.Base||(t.Base={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Base","FloatMsg")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt=this.getChildAt(0)},e.URL="ui://i36kne809i991c",e}(fairygui.GComponent);t.UI_FloatMsg=e,__reflect(e.prototype,"UI.Base.UI_FloatMsg")}(e=t.Base||(t.Base={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Base","PopModuleBg")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_close=this.getChildAt(3),this.m_title=this.getChildAt(4)},e.URL="ui://i36kne80nl0p9",e}(fairygui.GComponent);t.UI_PopModuleBg=e,__reflect(e.prototype,"UI.Base.UI_PopModuleBg")}(e=t.Base||(t.Base={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Base","SimpleAlert")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_type=this.getControllerAt(0),this.m_panelBg=this.getChildAt(0),this.m_btn_ok=this.getChildAt(1),this.m_btn_cancel=this.getChildAt(2),this.m_content=this.getChildAt(3)},e.URL="ui://i36kne80r2oa1b",e}(fairygui.GComponent);t.UI_SimpleAlert=e,__reflect(e.prototype,"UI.Base.UI_SimpleAlert")}(e=t.Base||(t.Base={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_BuyCard.URL,t.UI_BuyCard)},e}();t.BuyCardBinder=e,__reflect(e.prototype,"UI.BuyCard.BuyCardBinder")}(e=t.BuyCard||(t.BuyCard={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("BuyCard","BuyCard")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_buy=this.getChildAt(2),this.m_btn_close=this.getChildAt(8),this.m_txt_input=this.getChildAt(10),this.m_txt_input1=this.getChildAt(11),this.m_txt_input2=this.getChildAt(12),this.m_txt_input3=this.getChildAt(13),this.m_txt_input4=this.getChildAt(14),this.m_txt_input5=this.getChildAt(15),this.m_txt_input6=this.getChildAt(16)},e.URL="ui://ebiec26up0d66",e}(fairygui.GComponent);t.UI_BuyCard=e,__reflect(e.prototype,"UI.BuyCard.UI_BuyCard")}(e=t.BuyCard||(t.BuyCard={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_CreateRoom.URL,t.UI_CreateRoom)},e}();t.CreateRoomBinder=e,__reflect(e.prototype,"UI.CreateRoom.CreateRoomBinder")}(e=t.CreateRoom||(t.CreateRoom={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("CreateRoom","CreateRoom")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_typeCtrl=this.getControllerAt(0),this.m_payCtrl=this.getControllerAt(1),this.m_JuShuCtrl=this.getControllerAt(2),this.m_NumCtrl=this.getControllerAt(3),this.m_NumCtrl1=this.getControllerAt(4),this.m_panelBg=this.getChildAt(0),this.m_btn_type0=this.getChildAt(4),this.m_btn_type1=this.getChildAt(5),this.m_btn_type2=this.getChildAt(6),this.m_btn_type3=this.getChildAt(7),this.m_btn_type4=this.getChildAt(8),this.m_checkbox_zhuang=this.getChildAt(18),this.m_checkbox_mapai=this.getChildAt(19),this.m_num1=this.getChildAt(29),this.m_num2=this.getChildAt(30),this.m_num3=this.getChildAt(31),this.m_btn_create=this.getChildAt(34),this.m_btn_buy=this.getChildAt(35),this.m_num4=this.getChildAt(38),this.m_radio_huase1=this.getChildAt(39),this.m_radio_huase2=this.getChildAt(40),this.m_radio_huase3=this.getChildAt(41),this.m_radio_huase4=this.getChildAt(42)},e.URL="ui://83u5vz94sej48",e}(fairygui.GComponent);t.UI_CreateRoom=e,__reflect(e.prototype,"UI.CreateRoom.UI_CreateRoom")}(e=t.CreateRoom||(t.CreateRoom={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_SecurityCheck.URL,t.UI_SecurityCheck),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_PlayerPokers.URL,t.UI_PlayerPokers),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_AskForDismiss.URL,t.UI_AskForDismiss),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_AskForDismissHead.URL,t.UI_AskForDismissHead),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_DaQiang.URL,t.UI_DaQiang),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Game.URL,t.UI_Game),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Pork.URL,t.UI_Pork),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_PutPork.URL,t.UI_PutPork),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ButtonType.URL,t.UI_ButtonType),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ButtonTypeEnd.URL,t.UI_ButtonTypeEnd),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_PlayerHead.URL,t.UI_PlayerHead),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_DissolveRoom.URL,t.UI_DissolveRoom),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ChatModule.URL,t.UI_ChatModule)},e}();t.GameBinder=e,__reflect(e.prototype,"UI.Game.GameBinder")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","AskForDismiss")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_name=this.getChildAt(2),this.m_btn_refuse=this.getChildAt(3),this.m_btn_accept=this.getChildAt(4),this.m_txt_count=this.getChildAt(5)},e.URL="ui://jow5n9bqgl8o4h",e}(fairygui.GComponent);t.UI_AskForDismiss=e,__reflect(e.prototype,"UI.Game.UI_AskForDismiss")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","AskForDismissHead")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt_top=this.getChildAt(2),this.m_txt_name=this.getChildAt(3),this.m_=this.getChildAt(4),this.m_txt_score=this.getChildAt(5)},e.URL="ui://jow5n9bqgl8o4i",e}(fairygui.GComponent);t.UI_AskForDismissHead=e,__reflect(e.prototype,"UI.Game.UI_AskForDismissHead")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","ButtonType")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt=this.getChildAt(1)},e.URL="ui://jow5n9bqmwp41o",e}(fairygui.GButton);t.UI_ButtonType=e,__reflect(e.prototype,"UI.Game.UI_ButtonType")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","ButtonTypeEnd")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_txt=this.getChildAt(1)},e.URL="ui://jow5n9bqmwp41p",e}(fairygui.GButton);t.UI_ButtonTypeEnd=e,__reflect(e.prototype,"UI.Game.UI_ButtonTypeEnd")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","ChatModule")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_ctrl=this.getControllerAt(0),this.m_panelBg=this.getChildAt(0),this.m_list=this.getChildAt(4),this.m_btn_send=this.getChildAt(5)},e.URL="ui://jow5n9bqx90y31",e}(fairygui.GComponent);t.UI_ChatModule=e,__reflect(e.prototype,"UI.Game.UI_ChatModule")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","DaQiang")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_qiang=this.getChildAt(0),this.m_t0=this.getTransitionAt(0)},e.URL="ui://jow5n9bqist44g",e}(fairygui.GComponent);t.UI_DaQiang=e,__reflect(e.prototype,"UI.Game.UI_DaQiang")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","DissolveRoom")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_btn_refuse=this.getChildAt(8),this.m_btn_accept=this.getChildAt(9)},e.URL="ui://jow5n9bqrezh2k",e}(fairygui.GComponent);t.UI_DissolveRoom=e,__reflect(e.prototype,"UI.Game.UI_DissolveRoom")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","Game")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_playerNumCtrl=this.getControllerAt(0),this.m_btn_quit=this.getChildAt(1),this.m_btn_setting=this.getChildAt(2),this.m_btn_help=this.getChildAt(3),this.m_head5=this.getChildAt(5),this.m_head4=this.getChildAt(6),this.m_head3=this.getChildAt(7),this.m_head2=this.getChildAt(8),this.m_head6=this.getChildAt(9),this.m_head1=this.getChildAt(10),this.m_playerPoke6=this.getChildAt(13),this.m_btn_check=this.getChildAt(14),this.m_btn_invite=this.getChildAt(15),this.m_btn_ready=this.getChildAt(16),this.m_btn_chat=this.getChildAt(17),this.m_btn_talk=this.getChildAt(18),this.m_img_start=this.getChildAt(19),this.m_t1=this.getTransitionAt(0)},e.URL="ui://jow5n9bqmwp40",e}(fairygui.GComponent);t.UI_Game=e,__reflect(e.prototype,"UI.Game.UI_Game")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var core;!function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return __extends(e,t),e.prototype.getData=function(){return this.messageData},e}(t.EventData);t.KeyboardEventData=e,__reflect(e.prototype,"core.KeyboardEventData")}(core||(core={}));var core;!function(t){var e=function(t){function e(e,n,o){var i=t.call(this,e,o)||this;return i.moduleEnum=n,i}return __extends(e,t),e}(t.EventData);t.ModuleEventData=e,__reflect(e.prototype,"core.ModuleEventData")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","PutPork")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_ctrl=this.getControllerAt(0),this.m_btn_close1=this.getChildAt(4),this.m_btn_close2=this.getChildAt(5),this.m_btn_close3=this.getChildAt(6),this.m_paixing_down=this.getChildAt(7),this.m_paixing_top=this.getChildAt(9),this.m_paixing_mid=this.getChildAt(10),this.m_porkList=this.getChildAt(12),this.m_btn_cancel=this.getChildAt(13),this.m_btn_ok=this.getChildAt(14),this.m_btntype1=this.getChildAt(15),this.m_btntype2=this.getChildAt(16),this.m_btntype3=this.getChildAt(17),this.m_btntype4=this.getChildAt(18),this.m_btntype5=this.getChildAt(19),this.m_btntype6=this.getChildAt(20),this.m_btntype7=this.getChildAt(21),this.m_btntype8=this.getChildAt(22),this.m_btntype9=this.getChildAt(23),this.m_btngroup=this.getChildAt(24),this.m_btn_help=this.getChildAt(25),this.m_area_top=this.getChildAt(26),this.m_area_mid=this.getChildAt(27),this.m_area_down=this.getChildAt(28),this.m_list_top=this.getChildAt(29),this.m_list_mid=this.getChildAt(30),this.m_list_down=this.getChildAt(31)},e.URL="ui://jow5n9bqmwp41g",e}(fairygui.GComponent);t.UI_PutPork=e,__reflect(e.prototype,"UI.Game.UI_PutPork")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Game","SecurityCheck")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_t0=this.getTransitionAt(0)},e.URL="ui://jow5n9bqdu502t",e}(fairygui.GComponent);t.UI_SecurityCheck=e,__reflect(e.prototype,"UI.Game.UI_SecurityCheck")}(e=t.Game||(t.Game={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_GameHelper.URL,t.UI_GameHelper)},e}();t.GameHelperBinder=e,__reflect(e.prototype,"UI.GameHelper.GameHelperBinder")}(e=t.GameHelper||(t.GameHelper={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("GameHelper","GameHelper")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_shuoming=this.getChildAt(1)},e.URL="ui://gxctr1midu500",e}(fairygui.GComponent);t.UI_GameHelper=e,__reflect(e.prototype,"UI.GameHelper.UI_GameHelper")}(e=t.GameHelper||(t.GameHelper={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_KeFu.URL,t.UI_KeFu)},e}();t.KefuBinder=e,__reflect(e.prototype,"UI.Kefu.KefuBinder")}(e=t.Kefu||(t.Kefu={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Kefu","KeFu")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0)},e.URL="ui://j0afz4iznl0p1",e}(fairygui.GComponent);t.UI_KeFu=e,__reflect(e.prototype,"UI.Kefu.UI_KeFu")}(e=t.Kefu||(t.Kefu={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_LoadingModule.URL,t.UI_LoadingModule)},e}();t.LoadingBinder=e,__reflect(e.prototype,"UI.Loading.LoadingBinder")}(e=t.Loading||(t.Loading={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Loading","LoadingModule")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_bar=this.getChildAt(0),this.m_txt_name=this.getChildAt(2),this.m_btn_start=this.getChildAt(4)},e.URL="ui://icciepj5kyt83",e}(fairygui.GComponent);t.UI_LoadingModule=e,__reflect(e.prototype,"UI.Loading.UI_LoadingModule")}(e=t.Loading||(t.Loading={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_MailModule.URL,t.UI_MailModule),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_MailDetail.URL,t.UI_MailDetail),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_MailItem.URL,t.UI_MailItem)},e}();t.MailBinder=e,__reflect(e.prototype,"UI.Mail.MailBinder")}(e=t.Mail||(t.Mail={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Mail","MailDetail")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0)},e.URL="ui://tebyebzgnl0p11",e}(fairygui.GComponent);t.UI_MailDetail=e,__reflect(e.prototype,"UI.Mail.UI_MailDetail")}(e=t.Mail||(t.Mail={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Mail","MailModule")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_list=this.getChildAt(1)},e.URL="ui://tebyebzgnl0p10",e}(fairygui.GComponent);t.UI_MailModule=e,__reflect(e.prototype,"UI.Mail.UI_MailModule")}(e=t.Mail||(t.Mail={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ButtonCreateRoom.URL,t.UI_ButtonCreateRoom),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_MainModule.URL,t.UI_MainModule)},e}();t.MainUIBinder=e,__reflect(e.prototype,"UI.MainUI.MainUIBinder")}(e=t.MainUI||(t.MainUI={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("MainUI","ButtonCreateRoom")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_img=this.getChildAt(0)},e.URL="ui://s4bbeogyrv2q2x",e}(fairygui.GButton);t.UI_ButtonCreateRoom=e,__reflect(e.prototype,"UI.MainUI.UI_ButtonCreateRoom")}(e=t.MainUI||(t.MainUI={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("MainUI","MainModule")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_notice=this.getChildAt(3),this.m_btn_kefu=this.getChildAt(4),this.m_btn_mail=this.getChildAt(5),this.m_btn_shuoming=this.getChildAt(6),this.m_btn_setting=this.getChildAt(7),this.m_btn_add=this.getChildAt(12),this.m_txt_card=this.getChildAt(13),this.m_txt_name=this.getChildAt(16),this.m_txt_id=this.getChildAt(17),this.m_btn_activity=this.getChildAt(19),this.m_btn_join=this.getChildAt(20),this.m_btn_quan=this.getChildAt(21),this.m_btn_rank=this.getChildAt(23),this.m_btn_zhanji=this.getChildAt(26),this.m_btn_buyCard=this.getChildAt(27),this.m_btn_createRoom=this.getChildAt(29),this.m_sp_create=this.getChildAt(30),this.m_sp_add=this.getChildAt(31),this.m_sp_quan=this.getChildAt(32),this.m_sp_jj=this.getChildAt(33)},e.URL="ui://s4bbeogyvzrt1j",e}(fairygui.GComponent);t.UI_MainModule=e,__reflect(e.prototype,"UI.MainUI.UI_MainModule")}(e=t.MainUI||(t.MainUI={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Notice.URL,t.UI_Notice)},e}();t.NoticeBinder=e,__reflect(e.prototype,"UI.Notice.NoticeBinder")}(e=t.Notice||(t.Notice={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Notice","Notice")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_tabCtl=this.getControllerAt(0),this.m_panelBg=this.getChildAt(0)},e.URL="ui://ecxcc9h9nxr24",e}(fairygui.GComponent);t.UI_Notice=e,__reflect(e.prototype,"UI.Notice.UI_Notice")}(e=t.Notice||(t.Notice={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_RankModule.URL,t.UI_RankModule),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_RankItem.URL,t.UI_RankItem)},e}();t.RankBinder=e,__reflect(e.prototype,"UI.Rank.RankBinder")}(e=t.Rank||(t.Rank={}))}(UI||(UI={}));var core;!function(t){var e=function(){function t(){}return t.getLoading=function(e){var n=t.s_loading.get(e);return n||e&&(n=new e,t.s_loading.add(e,n)),n},t.getCurLoading=function(){return t.s_curLoading},t.setCurLoading=function(e){var n=t.s_loading.get(e);return n||e&&(n=new e,t.s_loading.add(e,n)),t.s_curLoading=n,n},t.s_loading=new Dictionary,t}();t.LoadingManager=e,__reflect(e.prototype,"core.LoadingManager")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Rank","RankModule")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_list=this.getChildAt(8),this.m_img_outrank=this.getChildAt(10),this.m_txt_score=this.getChildAt(11),this.m_txt_name=this.getChildAt(12),this.m_txt_rank=this.getChildAt(13)},e.URL="ui://ljka2qsxdu50b",e}(fairygui.GComponent);t.UI_RankModule=e,__reflect(e.prototype,"UI.Rank.UI_RankModule")}(e=t.Rank||(t.Rank={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_SingleResult.URL,t.UI_SingleResult),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_SingleResultItem.URL,t.UI_SingleResultItem),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_AllResult.URL,t.UI_AllResult)},e}();t.ResultBinder=e,__reflect(e.prototype,"UI.Result.ResultBinder")}(e=t.Result||(t.Result={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Result","AllResult")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_btn_check=this.getChildAt(3),this.m_btn_back=this.getChildAt(4)},e.URL="ui://25mni52osl2ku",e}(fairygui.GComponent);t.UI_AllResult=e,__reflect(e.prototype,"UI.Result.UI_AllResult")}(e=t.Result||(t.Result={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Result","SingleResult")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_list=this.getChildAt(3),this.m_btn_check=this.getChildAt(4),this.m_btn_continue=this.getChildAt(5)},e.URL="ui://25mni52osl2k0",e}(fairygui.GComponent);t.UI_SingleResult=e,__reflect(e.prototype,"UI.Result.UI_SingleResult")}(e=t.Result||(t.Result={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Setting.URL,t.UI_Setting)},e}();t.SettingBinder=e,__reflect(e.prototype,"UI.Setting.SettingBinder")}(e=t.Setting||(t.Setting={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Setting","Setting")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_DeskChooseCtrl=this.getControllerAt(0),this.m_panelBg=this.getChildAt(0),this.m_btn_music=this.getChildAt(11),this.m_btn_sound=this.getChildAt(12),this.m_btn_help=this.getChildAt(13),this.m_btn_ask=this.getChildAt(14)},e.URL="ui://1p6eu6xmj34rb",e}(fairygui.GComponent);t.UI_Setting=e,__reflect(e.prototype,"UI.Setting.UI_Setting")}(e=t.Setting||(t.Setting={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ShuoMing.URL,t.UI_ShuoMing),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ShuoMingTab.URL,t.UI_ShuoMingTab)},e}();t.ShuoMingBinder=e,__reflect(e.prototype,"UI.ShuoMing.ShuoMingBinder")}(e=t.ShuoMing||(t.ShuoMing={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ShuoMing","ShuoMing")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_tabCtl=this.getControllerAt(0),this.m_panelBg=this.getChildAt(0),this.m_=this.getChildAt(2),this.m_list=this.getChildAt(5)},e.URL="ui://ksvi7x7crv2q0",e}(fairygui.GComponent);t.UI_ShuoMing=e,__reflect(e.prototype,"UI.ShuoMing.UI_ShuoMing")}(e=t.ShuoMing||(t.ShuoMing={}))}(UI||(UI={}));var core;!function(t){var e=function(e){function n(t){return e.call(this,t)||this}return __extends(n,e),n.prototype.readUTFData=function(){var t=this.readShort();return e.prototype.readUTFBytes.call(this,t)},n.prototype.writeUTFBytes=function(t){this.writeShort(this.getStringBytesLen(t)),e.prototype.writeUTFBytes.call(this,t)},n.prototype.getStringBytesLen=function(t){var e=new egret.ByteArray;return e.writeUTFBytes(t),e.length},n.prototype.clone=function(){var e=new t.ByteBuffer;return e.writeBytes(this),e},n}(egret.ByteArray);t.ByteBuffer=e,__reflect(e.prototype,"core.ByteBuffer")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ZhanJi","ZhanJi")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0),this.m_list=this.getChildAt(1)},e.URL="ui://lxifvkdup0d61",e}(fairygui.GComponent);t.UI_ZhanJi=e,__reflect(e.prototype,"UI.ZhanJi.UI_ZhanJi")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var UI;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("ZhanJi","ZhanJiDetail")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_panelBg=this.getChildAt(0)},e.URL="ui://lxifvkdurezhd",e}(fairygui.GComponent);t.UI_ZhanJiDetail=e,__reflect(e.prototype,"UI.ZhanJi.UI_ZhanJiDetail")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var HttpAPI=function(){function t(){}return t.HttpGET=function(t,e,n,o,i){var r=e?t+"?"+encodeURI(this.encode(e)):t,s=new egret.HttpRequest;s.responseType=egret.HttpResponseType.TEXT,s.addEventListener(egret.Event.COMPLETE,n,i),s.addEventListener(egret.IOErrorEvent.IO_ERROR,o,i),s.open(r,egret.HttpMethod.GET),s.send()},t.HttpPOST=function(t,e,n,o,i){var r=new egret.HttpRequest;r.responseType=egret.HttpResponseType.TEXT,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.addEventListener(egret.Event.COMPLETE,n,i),r.addEventListener(egret.IOErrorEvent.IO_ERROR,o,i),r.open(t,egret.URLRequestMethod.POST),r.send(e)},t.encode=function(t){var e="";for(var n in t)e+=n+"="+t[n]+"&";return e.length>1?""+e.substring(0,e.length-1):e},t}();__reflect(HttpAPI.prototype,"HttpAPI");var core;!function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return __extends(e,t),e}(t.EventData);t.SocketEventData=e,__reflect(e.prototype,"core.SocketEventData")}(core||(core={}));var UI;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ZhanJiItemUserItem.URL,t.UI_ZhanJiItemUserItem),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ZhanJi.URL,t.UI_ZhanJi),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ZhanJiItem.URL,t.UI_ZhanJiItem),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_ZhanJiDetail.URL,t.UI_ZhanJiDetail)},e}();t.ZhanJiBinder=e,__reflect(e.prototype,"UI.ZhanJi.ZhanJiBinder")}(e=t.ZhanJi||(t.ZhanJi={}))}(UI||(UI={}));var Utils=function(){function t(){}return t.createBitmapByName=function(t){var e=new egret.Bitmap,n=RES.getRes(t);return e.texture=n,e},t.createFairyGuiBitmapByName=function(t){var e=new egret.Bitmap,n=fairygui.UIPackage.createObject("game",t);return e.texture=n.texture,e},t.timetrans=function(t){var e=new Date(1e3*t),n=e.getFullYear()+"-",o=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",i=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",r=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",s=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",a=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return n+o+i+r+s+a},t}();__reflect(Utils.prototype,"Utils");